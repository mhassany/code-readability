{
    "url": "https://api.github.com/repos/pallets/flask/issues/1970",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1970/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1970/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1970/events",
    "html_url": "https://github.com/pallets/flask/issues/1970",
    "id": 168498922,
    "node_id": "MDU6SXNzdWUxNjg0OTg5MjI=",
    "number": 1970,
    "title": "FLASK_APP variable isn't behaving as specified.",
    "user": {
        "login": "noahcgreen",
        "id": 18668035,
        "node_id": "MDQ6VXNlcjE4NjY4MDM1",
        "avatar_url": "https://avatars0.githubusercontent.com/u/18668035?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/noahcgreen",
        "html_url": "https://github.com/noahcgreen",
        "followers_url": "https://api.github.com/users/noahcgreen/followers",
        "following_url": "https://api.github.com/users/noahcgreen/following{/other_user}",
        "gists_url": "https://api.github.com/users/noahcgreen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/noahcgreen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/noahcgreen/subscriptions",
        "organizations_url": "https://api.github.com/users/noahcgreen/orgs",
        "repos_url": "https://api.github.com/users/noahcgreen/repos",
        "events_url": "https://api.github.com/users/noahcgreen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/noahcgreen/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2016-07-31T03:10:09Z",
    "updated_at": "2016-08-08T00:25:27Z",
    "closed_at": "2016-08-08T00:25:27Z",
    "author_association": "NONE",
    "body": "[The docs](http://flask.pocoo.org/docs/0.11/cli/) on the FLASK_APP variable state that\n\n> In that imported file the name of the app needs to be called `app` or optionally be specified after a colon. For instance _mymodule:application_ would tell it to use the _application_ object in the `mymodule.py` file.\n\nHowever, creating the following script (run.py):\n\n```\nfrom flask import Flask\n\nwebapp = Flask(__name__)\n```\n\nsetting `FLASK_APP=run.py:webapp`, and running `flask run` gives me an ImportError:\n\n```\nTraceback (most recent call last):\n  File \"/Users/me/app/venv/lib/python3.5/site-packages/flask/cli.py\", line 156, in __call__\n    self._flush_bg_loading_exception()\n  File \"/Users/me/app/venv/lib/python3.5/site-packages/flask/cli.py\", line 144, in _flush_bg_loading_exception\n    reraise(*exc_info)\n  File \"/Users/me/app/venv/lib/python3.5/site-packages/flask/_compat.py\", line 33, in reraise\n    raise value\n  File \"/Users/me/app/venv/lib/python3.5/site-packages/flask/cli.py\", line 133, in _load_app\n    self._load_unlocked()\n  File \"/Users/me/app/venv/lib/python3.5/site-packages/flask/cli.py\", line 148, in _load_unlocked\n    self._app = rv = self.loader()\n  File \"/Users/me/app/venv/lib/python3.5/site-packages/flask/cli.py\", line 209, in load_app\n    rv = locate_app(self.app_import_path)\n  File \"/Users/me/app/venv/lib/python3.5/site-packages/flask/cli.py\", line 89, in locate_app\n    __import__(module)\nImportError: No module named 'run'\n```\n\nInterestingly, using `FLASK_APP=run.py` actually works even with the app named \"webapp\". So while I'm not sure how much of this is error on my part vs. error on flask's, the docs are wrong in saying that the Flask object _needs_ to be named \"app\".\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238116496",
            "html_url": "https://github.com/pallets/flask/issues/1970#issuecomment-238116496",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1970",
            "id": 238116496,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODExNjQ5Ng==",
            "user": {
                "login": "wgwz",
                "id": 10120306,
                "node_id": "MDQ6VXNlcjEwMTIwMzA2",
                "avatar_url": "https://avatars2.githubusercontent.com/u/10120306?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/wgwz",
                "html_url": "https://github.com/wgwz",
                "followers_url": "https://api.github.com/users/wgwz/followers",
                "following_url": "https://api.github.com/users/wgwz/following{/other_user}",
                "gists_url": "https://api.github.com/users/wgwz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/wgwz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wgwz/subscriptions",
                "organizations_url": "https://api.github.com/users/wgwz/orgs",
                "repos_url": "https://api.github.com/users/wgwz/repos",
                "events_url": "https://api.github.com/users/wgwz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/wgwz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-07T23:41:36Z",
            "updated_at": "2016-08-07T23:44:17Z",
            "author_association": "CONTRIBUTOR",
            "body": "This works for me: `export FLASK_APP=run` or `export FLASK_APP=run:webapp` and `python -m flask run`. Or `export FLASK_APP=run.py` and then `flask run`.  It looks like the base issue is #1847. But it is fixed by #1872? \n- Also related: #1829, #1902\n- Distantly related: #1926\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238118883",
            "html_url": "https://github.com/pallets/flask/issues/1970#issuecomment-238118883",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1970",
            "id": 238118883,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODExODg4Mw==",
            "user": {
                "login": "noahcgreen",
                "id": 18668035,
                "node_id": "MDQ6VXNlcjE4NjY4MDM1",
                "avatar_url": "https://avatars0.githubusercontent.com/u/18668035?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/noahcgreen",
                "html_url": "https://github.com/noahcgreen",
                "followers_url": "https://api.github.com/users/noahcgreen/followers",
                "following_url": "https://api.github.com/users/noahcgreen/following{/other_user}",
                "gists_url": "https://api.github.com/users/noahcgreen/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/noahcgreen/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/noahcgreen/subscriptions",
                "organizations_url": "https://api.github.com/users/noahcgreen/orgs",
                "repos_url": "https://api.github.com/users/noahcgreen/repos",
                "events_url": "https://api.github.com/users/noahcgreen/events{/privacy}",
                "received_events_url": "https://api.github.com/users/noahcgreen/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-08T00:25:27Z",
            "updated_at": "2016-08-08T00:25:27Z",
            "author_association": "NONE",
            "body": "Reading the links, seems the issue is that the package needs to be installed for the CLI to work right. It would be nice if it that wasn't necessary, but I'm closing this because it's a duplicate of [#1847](https://github.com/pallets/flask/issues/1847). Thanks!\n"
        }
    ]
}