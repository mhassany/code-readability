{
    "url": "https://api.github.com/repos/pallets/flask/issues/3386",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3386/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3386/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3386/events",
    "html_url": "https://github.com/pallets/flask/pull/3386",
    "id": 505799410,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzI3MTU2OTEw",
    "number": 3386,
    "title": "Support loading configuration from toml files",
    "user": {
        "login": "pgjones",
        "id": 1391482,
        "node_id": "MDQ6VXNlcjEzOTE0ODI=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/1391482?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pgjones",
        "html_url": "https://github.com/pgjones",
        "followers_url": "https://api.github.com/users/pgjones/followers",
        "following_url": "https://api.github.com/users/pgjones/following{/other_user}",
        "gists_url": "https://api.github.com/users/pgjones/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pgjones/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pgjones/subscriptions",
        "organizations_url": "https://api.github.com/users/pgjones/orgs",
        "repos_url": "https://api.github.com/users/pgjones/repos",
        "events_url": "https://api.github.com/users/pgjones/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pgjones/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2019-10-11T11:35:11Z",
    "updated_at": "2019-10-15T14:39:56Z",
    "closed_at": "2019-10-15T14:39:56Z",
    "author_association": "MEMBER",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/3386",
        "html_url": "https://github.com/pallets/flask/pull/3386",
        "diff_url": "https://github.com/pallets/flask/pull/3386.diff",
        "patch_url": "https://github.com/pallets/flask/pull/3386.patch"
    },
    "body": "TOML is a very popular format now, and is taking hold in the Python\r\necosystem via pyproject.toml (among others). This adds toml as an\r\nextra dependency usuable if installed with the toml extra.\r\n\r\nI've recently added similar code in [Quart](https://gitlab.com/pgjones/quart/commit/e49d4f6eeaa71f1883f52f4154bb95d9871ef4ed) and I've been using toml configs with Flask and Quart for some time now. In my view TOML has crossed a threshold of usage to warrant direct support in Flask.",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/541378171",
            "html_url": "https://github.com/pallets/flask/pull/3386#issuecomment-541378171",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3386",
            "id": 541378171,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTM3ODE3MQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-10-13T02:02:55Z",
            "updated_at": "2019-10-13T02:02:55Z",
            "author_association": "MEMBER",
            "body": "I'm not super happy that `from_json` got in in the first place. The intention of Flask's built-in config always appeared to be that it should be Python. JSON is less expressive and more verbose, and while TOML is more expressive it still doesn't cover the types of config that are common now, such as loading values from the environment.\r\n\r\nOn the other hand, `config.from_*` does offer some functionality over loading a file yourself. Maybe we need a compromise instead, such as `from_file(name, load_func)`? That way anyone can use whatever loader they want, rather than having to write another function for each format."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/541415030",
            "html_url": "https://github.com/pallets/flask/pull/3386#issuecomment-541415030",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3386",
            "id": 541415030,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTQxNTAzMA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-10-13T12:38:31Z",
            "updated_at": "2019-10-13T12:38:31Z",
            "author_association": "MEMBER",
            "body": "In a weird coincidence, here's a tweet from @jakevdp saying the same thing: https://twitter.com/jakevdp/status/1183241890289741825"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/541416832",
            "html_url": "https://github.com/pallets/flask/pull/3386#issuecomment-541416832",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3386",
            "id": 541416832,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTQxNjgzMg==",
            "user": {
                "login": "pgjones",
                "id": 1391482,
                "node_id": "MDQ6VXNlcjEzOTE0ODI=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/1391482?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/pgjones",
                "html_url": "https://github.com/pgjones",
                "followers_url": "https://api.github.com/users/pgjones/followers",
                "following_url": "https://api.github.com/users/pgjones/following{/other_user}",
                "gists_url": "https://api.github.com/users/pgjones/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/pgjones/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pgjones/subscriptions",
                "organizations_url": "https://api.github.com/users/pgjones/orgs",
                "repos_url": "https://api.github.com/users/pgjones/repos",
                "events_url": "https://api.github.com/users/pgjones/events{/privacy}",
                "received_events_url": "https://api.github.com/users/pgjones/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-10-13T13:04:50Z",
            "updated_at": "2019-10-13T13:04:50Z",
            "author_association": "MEMBER",
            "body": "I see this as a question of convenience and that there is a tipping point when something is so commonly used as warrant direct inclusion. Whilst it isn't clear, I think [`from_json`](https://github.com/pallets/flask/pull/827) reached this point in the community and adding it saved users writing very similar repeated code. My view is that TOML has also reached this point. \r\n\r\nI think that `from_mapping` could work as the generic loader, in that you can do something like,\r\n```python\r\ndata = toml.load(something)\r\napp.config.from_mapping(data)\r\n```\r\nalthough it doesn't include the useful error handling I presume `from_file` would."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/541751633",
            "html_url": "https://github.com/pallets/flask/pull/3386#issuecomment-541751633",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3386",
            "id": 541751633,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTc1MTYzMw==",
            "user": {
                "login": "carc1n0gen",
                "id": 8248986,
                "node_id": "MDQ6VXNlcjgyNDg5ODY=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/8248986?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/carc1n0gen",
                "html_url": "https://github.com/carc1n0gen",
                "followers_url": "https://api.github.com/users/carc1n0gen/followers",
                "following_url": "https://api.github.com/users/carc1n0gen/following{/other_user}",
                "gists_url": "https://api.github.com/users/carc1n0gen/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/carc1n0gen/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/carc1n0gen/subscriptions",
                "organizations_url": "https://api.github.com/users/carc1n0gen/orgs",
                "repos_url": "https://api.github.com/users/carc1n0gen/repos",
                "events_url": "https://api.github.com/users/carc1n0gen/events{/privacy}",
                "received_events_url": "https://api.github.com/users/carc1n0gen/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-10-14T15:36:03Z",
            "updated_at": "2019-10-14T15:36:03Z",
            "author_association": "NONE",
            "body": "Just wanted to add I really like using json files to configure flask.  I prefer config files to not be executed code.  Allowing any format the developer wants sounds like a cool idea."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/542225700",
            "html_url": "https://github.com/pallets/flask/pull/3386#issuecomment-542225700",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3386",
            "id": 542225700,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU0MjIyNTcwMA==",
            "user": {
                "login": "pgjones",
                "id": 1391482,
                "node_id": "MDQ6VXNlcjEzOTE0ODI=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/1391482?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/pgjones",
                "html_url": "https://github.com/pgjones",
                "followers_url": "https://api.github.com/users/pgjones/followers",
                "following_url": "https://api.github.com/users/pgjones/following{/other_user}",
                "gists_url": "https://api.github.com/users/pgjones/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/pgjones/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pgjones/subscriptions",
                "organizations_url": "https://api.github.com/users/pgjones/orgs",
                "repos_url": "https://api.github.com/users/pgjones/repos",
                "events_url": "https://api.github.com/users/pgjones/events{/privacy}",
                "received_events_url": "https://api.github.com/users/pgjones/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-10-15T13:57:49Z",
            "updated_at": "2019-10-15T13:57:49Z",
            "author_association": "MEMBER",
            "body": "See #3398 as the potentially better solution."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/542246566",
            "html_url": "https://github.com/pallets/flask/pull/3386#issuecomment-542246566",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3386",
            "id": 542246566,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU0MjI0NjU2Ng==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-10-15T14:39:55Z",
            "updated_at": "2019-10-15T14:39:55Z",
            "author_association": "MEMBER",
            "body": "Thanks, closing in favor of #3398."
        }
    ]
}