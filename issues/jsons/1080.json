{
    "url": "https://api.github.com/repos/pallets/flask/issues/1080",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1080/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1080/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1080/events",
    "html_url": "https://github.com/pallets/flask/issues/1080",
    "id": 35024895,
    "node_id": "MDU6SXNzdWUzNTAyNDg5NQ==",
    "number": 1080,
    "title": "flask redirect not support itms-services",
    "user": {
        "login": "humiaozuzu",
        "id": 300016,
        "node_id": "MDQ6VXNlcjMwMDAxNg==",
        "avatar_url": "https://avatars1.githubusercontent.com/u/300016?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/humiaozuzu",
        "html_url": "https://github.com/humiaozuzu",
        "followers_url": "https://api.github.com/users/humiaozuzu/followers",
        "following_url": "https://api.github.com/users/humiaozuzu/following{/other_user}",
        "gists_url": "https://api.github.com/users/humiaozuzu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/humiaozuzu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/humiaozuzu/subscriptions",
        "organizations_url": "https://api.github.com/users/humiaozuzu/orgs",
        "repos_url": "https://api.github.com/users/humiaozuzu/repos",
        "events_url": "https://api.github.com/users/humiaozuzu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/humiaozuzu/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 10,
    "created_at": "2014-06-05T03:35:50Z",
    "updated_at": "2014-06-07T19:27:50Z",
    "closed_at": "2014-06-06T15:07:37Z",
    "author_association": "NONE",
    "body": "`itms-services://?action=download-manifest&url=http://tietie-static.qiniudn.com/downloads/TieTie_iOS.plist` becomes\n`itms-services:?action=download-manifest&url=http://tietie-static.qiniudn.com/downloads/TieTie_iOS.plist` when using redirect(url_here)\n\n`get_wsgi_headers` will be called in `after_request` callback, so nothing works even I make redirect response by hand...\nset autocorrect_location_header to False also not work\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/45346384",
            "html_url": "https://github.com/pallets/flask/issues/1080#issuecomment-45346384",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1080",
            "id": 45346384,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzQ2Mzg0",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-06-06T15:01:17Z",
            "updated_at": "2014-06-06T15:01:17Z",
            "author_association": "MEMBER",
            "body": "Does this happen with the latest version of Werkzeug?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/45347150",
            "html_url": "https://github.com/pallets/flask/issues/1080#issuecomment-45347150",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1080",
            "id": 45347150,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzQ3MTUw",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-06-06T15:07:37Z",
            "updated_at": "2014-06-06T15:07:37Z",
            "author_association": "MEMBER",
            "body": "Cannot reproduce with a recent Werkzeug version.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/45398171",
            "html_url": "https://github.com/pallets/flask/issues/1080#issuecomment-45398171",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1080",
            "id": 45398171,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzk4MTcx",
            "user": {
                "login": "humiaozuzu",
                "id": 300016,
                "node_id": "MDQ6VXNlcjMwMDAxNg==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/300016?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/humiaozuzu",
                "html_url": "https://github.com/humiaozuzu",
                "followers_url": "https://api.github.com/users/humiaozuzu/followers",
                "following_url": "https://api.github.com/users/humiaozuzu/following{/other_user}",
                "gists_url": "https://api.github.com/users/humiaozuzu/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/humiaozuzu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/humiaozuzu/subscriptions",
                "organizations_url": "https://api.github.com/users/humiaozuzu/orgs",
                "repos_url": "https://api.github.com/users/humiaozuzu/repos",
                "events_url": "https://api.github.com/users/humiaozuzu/events{/privacy}",
                "received_events_url": "https://api.github.com/users/humiaozuzu/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-06-07T01:43:27Z",
            "updated_at": "2014-06-07T01:43:27Z",
            "author_association": "NONE",
            "body": "@mitsuhiko Tried with Werkzeug==0.95 and 0.10-dev, still same result\n`itms-services://?` becomes `itms-services:?`\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/45405576",
            "html_url": "https://github.com/pallets/flask/issues/1080#issuecomment-45405576",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1080",
            "id": 45405576,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA1NTc2",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-06-07T09:17:08Z",
            "updated_at": "2014-06-07T09:17:08Z",
            "author_association": "MEMBER",
            "body": "Can you try this?\n\n``` pycon\n>>> from werkzeug.urls import url_join\n>>> url_join('http://www.example.com/', 'itms-services://?')\n'itms-services://?'\n```\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/45405592",
            "html_url": "https://github.com/pallets/flask/issues/1080#issuecomment-45405592",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1080",
            "id": 45405592,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA1NTky",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-06-07T09:18:11Z",
            "updated_at": "2014-06-07T09:18:11Z",
            "author_association": "MEMBER",
            "body": "This is what the fixup does.  So i'm not sure how it breaks.  Maybe you have a testcase for me?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/45405653",
            "html_url": "https://github.com/pallets/flask/issues/1080#issuecomment-45405653",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1080",
            "id": 45405653,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA1NjUz",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-06-07T09:21:23Z",
            "updated_at": "2014-06-07T09:21:23Z",
            "author_association": "MEMBER",
            "body": "Ah.  I can see the problem now.  Investigating.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/45406760",
            "html_url": "https://github.com/pallets/flask/issues/1080#issuecomment-45406760",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1080",
            "id": 45406760,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA2NzYw",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-06-07T10:30:16Z",
            "updated_at": "2014-06-07T10:30:16Z",
            "author_association": "MEMBER",
            "body": "Yeah, the problem is that itms-services is a spec violation.  I found a workaround I can provide for such cases.  This will be fixed in the next maintenance release of Werkzeug which I probably can do today since it's a low risk change.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/45407209",
            "html_url": "https://github.com/pallets/flask/issues/1080#issuecomment-45407209",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1080",
            "id": 45407209,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDA3MjA5",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-06-07T10:55:53Z",
            "updated_at": "2014-06-07T10:55:53Z",
            "author_association": "MEMBER",
            "body": "Werkzeug 0.9.6 is out and fixes this issue.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/45413552",
            "html_url": "https://github.com/pallets/flask/issues/1080#issuecomment-45413552",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1080",
            "id": 45413552,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDEzNTUy",
            "user": {
                "login": "humiaozuzu",
                "id": 300016,
                "node_id": "MDQ6VXNlcjMwMDAxNg==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/300016?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/humiaozuzu",
                "html_url": "https://github.com/humiaozuzu",
                "followers_url": "https://api.github.com/users/humiaozuzu/followers",
                "following_url": "https://api.github.com/users/humiaozuzu/following{/other_user}",
                "gists_url": "https://api.github.com/users/humiaozuzu/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/humiaozuzu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/humiaozuzu/subscriptions",
                "organizations_url": "https://api.github.com/users/humiaozuzu/orgs",
                "repos_url": "https://api.github.com/users/humiaozuzu/repos",
                "events_url": "https://api.github.com/users/humiaozuzu/events{/privacy}",
                "received_events_url": "https://api.github.com/users/humiaozuzu/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-06-07T15:53:57Z",
            "updated_at": "2014-06-07T15:54:06Z",
            "author_association": "NONE",
            "body": "Many thx!\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/45418937",
            "html_url": "https://github.com/pallets/flask/issues/1080#issuecomment-45418937",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1080",
            "id": 45418937,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDE4OTM3",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-06-07T19:27:50Z",
            "updated_at": "2014-06-07T19:27:50Z",
            "author_association": "MEMBER",
            "body": "For reference:\n\nhttps://github.com/mitsuhiko/werkzeug/commit/0e1b8c4fe598725b343085c5a9a867e90b966db6\nhttps://github.com/mitsuhiko/werkzeug/commit/a219c3bd403988f27e1943f716ad5e2bde46905b\n"
        }
    ]
}