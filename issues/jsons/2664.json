{
    "url": "https://api.github.com/repos/pallets/flask/issues/2664",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2664/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2664/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2664/events",
    "html_url": "https://github.com/pallets/flask/issues/2664",
    "id": 306375590,
    "node_id": "MDU6SXNzdWUzMDYzNzU1OTA=",
    "number": 2664,
    "title": "Option to change blueprints' templates precedence",
    "user": {
        "login": "wonkydonky",
        "id": 34605079,
        "node_id": "MDQ6VXNlcjM0NjA1MDc5",
        "avatar_url": "https://avatars0.githubusercontent.com/u/34605079?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wonkydonky",
        "html_url": "https://github.com/wonkydonky",
        "followers_url": "https://api.github.com/users/wonkydonky/followers",
        "following_url": "https://api.github.com/users/wonkydonky/following{/other_user}",
        "gists_url": "https://api.github.com/users/wonkydonky/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wonkydonky/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wonkydonky/subscriptions",
        "organizations_url": "https://api.github.com/users/wonkydonky/orgs",
        "repos_url": "https://api.github.com/users/wonkydonky/repos",
        "events_url": "https://api.github.com/users/wonkydonky/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wonkydonky/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": true,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-03-19T08:49:41Z",
    "updated_at": "2018-03-19T13:53:46Z",
    "closed_at": "2018-03-19T13:15:30Z",
    "author_association": "NONE",
    "body": "When I create a new blueprint, the template_folder is added to a Flask defined path, and the precedence to locate a template is\r\n\r\n1. `app/templates/` first\r\n2. `app/my-blueprint/templates/` second\r\n\r\nI understand this makes sense from the point of view of a developer who's trying to reuse the same blueprints on many different projects. He can plug in an existing blueprint and replace the templates from the main app if needed.\r\nThere is a different  use case however, where this behavior is unwanted and problematic. That is, when I'm structuring my applications into independent \"modules\" such that different teams can work independently on their own model/blueprint. The biggest problems is, that blueprints hits templates outside their domain, that is templates defied somewhere else in another blueprint folder. With large projects, this becomes a pretty difficult model to reason on and debug, and the blueprints are too much coupled to one another. Secondly, in this development context I would prefer a blueprint to have precedence over the base templates.\r\nIdeally, I think Flask should have an option to change the precedence of templates. For example use the current behavior by default, but introduce a new config option \"blueprints_templates_first=True/False\" to be defined somewhere (either at the app level, or for every single blueprint). The expected behavior would be the opposite of the default behavior:\r\n\r\n1. look in `app/my-blueprint/templates/` first\r\n2. look in `app/templates/` second\r\n3. **do  not** look into other blueprints folders\r\n\r\nI've seen other people come up with the same issue over the years, and I don't understand why there is so much resistance against supporting this feature. There is a real use case for this. I've always appreciated Flask because it's minimalist, concise, powerful, and doesn't get in the way I choose to structure my project. Opposing this option just seems to me as going against the nature of Flask itself, because the framework is dictating to me how I have to structure my files on disk, something that only bigger frameworks do and that Flask has proudly never done. Every workaround to this, such as adding a new inner folder `my-blueprint/templates/my-blueprint/`, just feels like a hack that goes against the ideas of simplicity and clarity.\r\n\r\nI, and I believe a lot of other Flask users as well, would really appreciate if you guys could add this configuration option to Flask. Thanks.",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/374207370",
            "html_url": "https://github.com/pallets/flask/issues/2664#issuecomment-374207370",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2664",
            "id": 374207370,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDIwNzM3MA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-03-19T13:15:30Z",
            "updated_at": "2018-03-19T13:53:46Z",
            "author_association": "MEMBER",
            "body": "Duplicate of: #1361. See also #376, #1537, #1815, #1843, #1963, and others.\r\n\r\nThis suggestion has been made before https://github.com/pallets/flask/issues/1361#issuecomment-220823219 and was responded to in the next comment. The same reasons still apply.\r\n\r\nAs explained in https://github.com/pallets/flask/issues/1361#issuecomment-220853048, a separate `render_template` can be written in a project if the dev doesn't want to type the blueprint name, but that doesn't carry over to `extends`, `import`, and `include`. You can also override `Blueprint.jinja_loader` to omit the directory entriely, but I don't know how this will interact with other behavior. The entire template system is overridable, there are multiple hooks at the app and blueprint level.\r\n\r\nWe are not going to change this.\r\n\r\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/374207896",
            "html_url": "https://github.com/pallets/flask/issues/2664#issuecomment-374207896",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2664",
            "id": 374207896,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDIwNzg5Ng==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-03-19T13:17:22Z",
            "updated_at": "2018-03-19T13:17:22Z",
            "author_association": "MEMBER",
            "body": "The best option for you is to override `create_global_jinja_loader` in a custom `Flask` subclass, and return a custom `DispatchingJinjaLoader` subclass that does what you need. For example, overriding `_iter_loaders` and changing the order of the loaders might be enough."
        }
    ]
}