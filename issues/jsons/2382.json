{
    "url": "https://api.github.com/repos/pallets/flask/issues/2382",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2382/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2382/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2382/events",
    "html_url": "https://github.com/pallets/flask/issues/2382",
    "id": 236700456,
    "node_id": "MDU6SXNzdWUyMzY3MDA0NTY=",
    "number": 2382,
    "title": "FLASK_APP var is not being parsed correctly for paths, imports system and third party modules.",
    "user": {
        "login": "Kangaroux",
        "id": 2302541,
        "node_id": "MDQ6VXNlcjIzMDI1NDE=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/2302541?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Kangaroux",
        "html_url": "https://github.com/Kangaroux",
        "followers_url": "https://api.github.com/users/Kangaroux/followers",
        "following_url": "https://api.github.com/users/Kangaroux/following{/other_user}",
        "gists_url": "https://api.github.com/users/Kangaroux/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Kangaroux/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Kangaroux/subscriptions",
        "organizations_url": "https://api.github.com/users/Kangaroux/orgs",
        "repos_url": "https://api.github.com/users/Kangaroux/repos",
        "events_url": "https://api.github.com/users/Kangaroux/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Kangaroux/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2017-06-18T04:55:55Z",
    "updated_at": "2017-06-30T08:01:37Z",
    "closed_at": "2017-06-19T13:14:50Z",
    "author_association": "NONE",
    "body": "If you create a file called `site.py` which defines your Flask app, and then set the env var as `FLASK_APP=\"site.py\"`, Flask will find the file but it can't find the application instance. \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/asdf/venv/lib/python3.4/site-packages/flask/cli.py\", line 48, in find_best_app\r\n    'using a factory function.' % module.__name__)\r\nflask.cli.NoAppException: Failed to find application in module \"site\".  Are you sure it contains a Flask application?  Maybe you wrapped it in a WSGI middleware or you are using a factory function.\r\n```\r\n\r\nThis looks like an issue with Flask importing a third party (+system) module instead of a local module. When appending a `.py` extension, it should be treated as a path, not a python import. However, even if I do a full absolute path to the file, it looks like it's still treating it as a third party module.\r\n\r\nYou can also reproduce this issue by testing out different entrypoint names: os, string, flask.\r\n\r\nFolder structure: http://i.imgur.com/CR88kUo.png\r\n\r\nrequirements.txt\r\n\r\n```\r\nFlask==0.12.1\r\nFlask-SQLAlchemy==2.2\r\nJinja2==2.9.6\r\nMarkupSafe==1.0\r\nSQLAlchemy==1.1.10\r\nWerkzeug==0.12.1\r\nclick==6.7\r\nitsdangerous==0.24\r\n```",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/309286031",
            "html_url": "https://github.com/pallets/flask/issues/2382#issuecomment-309286031",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2382",
            "id": 309286031,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTI4NjAzMQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-18T15:57:26Z",
            "updated_at": "2017-06-18T15:57:26Z",
            "author_association": "MEMBER",
            "body": "The stdlib module `site` exists. Please try another name."
        }
    ]
}