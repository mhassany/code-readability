{
    "url": "https://api.github.com/repos/pallets/flask/issues/1587",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1587/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1587/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1587/events",
    "html_url": "https://github.com/pallets/flask/issues/1587",
    "id": 112214232,
    "node_id": "MDU6SXNzdWUxMTIyMTQyMzI=",
    "number": 1587,
    "title": "url_for: 500 Internal Server Error",
    "user": {
        "login": "tfarina",
        "id": 970071,
        "node_id": "MDQ6VXNlcjk3MDA3MQ==",
        "avatar_url": "https://avatars0.githubusercontent.com/u/970071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tfarina",
        "html_url": "https://github.com/tfarina",
        "followers_url": "https://api.github.com/users/tfarina/followers",
        "following_url": "https://api.github.com/users/tfarina/following{/other_user}",
        "gists_url": "https://api.github.com/users/tfarina/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tfarina/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tfarina/subscriptions",
        "organizations_url": "https://api.github.com/users/tfarina/orgs",
        "repos_url": "https://api.github.com/users/tfarina/repos",
        "events_url": "https://api.github.com/users/tfarina/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tfarina/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 9,
    "created_at": "2015-10-19T19:24:56Z",
    "updated_at": "2015-10-20T00:09:38Z",
    "closed_at": "2015-10-19T22:43:17Z",
    "author_association": "NONE",
    "body": "In Flaskr example, I'm getting the following for url_for('add_entry')\n\nInternal Server Error\n\nThe server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.\n\nThis is running behind uwsgi with emperor mode. Logs are absent and do not show the real problem and I'm unable to diagnose.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/149319707",
            "html_url": "https://github.com/pallets/flask/issues/1587#issuecomment-149319707",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1587",
            "id": 149319707,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTMxOTcwNw==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-10-19T19:26:18Z",
            "updated_at": "2015-10-19T19:26:18Z",
            "author_association": "MEMBER",
            "body": "Run the app in debug mode (`app.debug = True`) to see the exception/traceback.\n\nAlso, during local development/testing the builtin dev server is pretty useful. No need for a full-blown webserver. It just makes things more complex.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/149321124",
            "html_url": "https://github.com/pallets/flask/issues/1587#issuecomment-149321124",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1587",
            "id": 149321124,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTMyMTEyNA==",
            "user": {
                "login": "tfarina",
                "id": 970071,
                "node_id": "MDQ6VXNlcjk3MDA3MQ==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/970071?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/tfarina",
                "html_url": "https://github.com/tfarina",
                "followers_url": "https://api.github.com/users/tfarina/followers",
                "following_url": "https://api.github.com/users/tfarina/following{/other_user}",
                "gists_url": "https://api.github.com/users/tfarina/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/tfarina/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tfarina/subscriptions",
                "organizations_url": "https://api.github.com/users/tfarina/orgs",
                "repos_url": "https://api.github.com/users/tfarina/repos",
                "events_url": "https://api.github.com/users/tfarina/events{/privacy}",
                "received_events_url": "https://api.github.com/users/tfarina/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-10-19T19:31:21Z",
            "updated_at": "2015-10-19T19:31:21Z",
            "author_association": "NONE",
            "body": "That is one of the problems. When running the app with python directly it does work and shows '/add' correctly. When I move to the nginx + uwsgi it shows this 500 error.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/149330171",
            "html_url": "https://github.com/pallets/flask/issues/1587#issuecomment-149330171",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1587",
            "id": 149330171,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTMzMDE3MQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-10-19T20:02:38Z",
            "updated_at": "2015-10-19T20:11:18Z",
            "author_association": "MEMBER",
            "body": "Configure Python's logging to enable Flask's traceback output in production.  The following example configures it to print to stderr, which should get captured by uWSGI.  Please post the full traceback.\n\n``` python\nimport logging\nhandler = logging.StreamHandler()\nhandler.setLevel(logging.ERROR)\napp.logger.addHandler(handler)\n```\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/149357563",
            "html_url": "https://github.com/pallets/flask/issues/1587#issuecomment-149357563",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1587",
            "id": 149357563,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTM1NzU2Mw==",
            "user": {
                "login": "tfarina",
                "id": 970071,
                "node_id": "MDQ6VXNlcjk3MDA3MQ==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/970071?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/tfarina",
                "html_url": "https://github.com/tfarina",
                "followers_url": "https://api.github.com/users/tfarina/followers",
                "following_url": "https://api.github.com/users/tfarina/following{/other_user}",
                "gists_url": "https://api.github.com/users/tfarina/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/tfarina/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tfarina/subscriptions",
                "organizations_url": "https://api.github.com/users/tfarina/orgs",
                "repos_url": "https://api.github.com/users/tfarina/repos",
                "events_url": "https://api.github.com/users/tfarina/events{/privacy}",
                "received_events_url": "https://api.github.com/users/tfarina/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-10-19T21:49:22Z",
            "updated_at": "2015-10-19T21:49:22Z",
            "author_association": "NONE",
            "body": "I didn't get anything on terminal with that. \n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/149362349",
            "html_url": "https://github.com/pallets/flask/issues/1587#issuecomment-149362349",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1587",
            "id": 149362349,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTM2MjM0OQ==",
            "user": {
                "login": "tfarina",
                "id": 970071,
                "node_id": "MDQ6VXNlcjk3MDA3MQ==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/970071?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/tfarina",
                "html_url": "https://github.com/tfarina",
                "followers_url": "https://api.github.com/users/tfarina/followers",
                "following_url": "https://api.github.com/users/tfarina/following{/other_user}",
                "gists_url": "https://api.github.com/users/tfarina/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/tfarina/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tfarina/subscriptions",
                "organizations_url": "https://api.github.com/users/tfarina/orgs",
                "repos_url": "https://api.github.com/users/tfarina/repos",
                "events_url": "https://api.github.com/users/tfarina/events{/privacy}",
                "received_events_url": "https://api.github.com/users/tfarina/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-10-19T22:10:46Z",
            "updated_at": "2015-10-19T22:10:46Z",
            "author_association": "NONE",
            "body": "When I change it to {{ url_for('index') }} it returns '/microblog/'. For anything else it returns 500 error.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/149362705",
            "html_url": "https://github.com/pallets/flask/issues/1587#issuecomment-149362705",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1587",
            "id": 149362705,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTM2MjcwNQ==",
            "user": {
                "login": "tfarina",
                "id": 970071,
                "node_id": "MDQ6VXNlcjk3MDA3MQ==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/970071?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/tfarina",
                "html_url": "https://github.com/tfarina",
                "followers_url": "https://api.github.com/users/tfarina/followers",
                "following_url": "https://api.github.com/users/tfarina/following{/other_user}",
                "gists_url": "https://api.github.com/users/tfarina/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/tfarina/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tfarina/subscriptions",
                "organizations_url": "https://api.github.com/users/tfarina/orgs",
                "repos_url": "https://api.github.com/users/tfarina/repos",
                "events_url": "https://api.github.com/users/tfarina/events{/privacy}",
                "received_events_url": "https://api.github.com/users/tfarina/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-10-19T22:12:37Z",
            "updated_at": "2015-10-19T22:12:37Z",
            "author_association": "NONE",
            "body": "But I need {{ url_for('add_entry') }} to return '/microblog/add' \n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/149368490",
            "html_url": "https://github.com/pallets/flask/issues/1587#issuecomment-149368490",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1587",
            "id": 149368490,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTM2ODQ5MA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-10-19T22:43:17Z",
            "updated_at": "2015-10-19T22:43:17Z",
            "author_association": "MEMBER",
            "body": "There's not enough information here to continue.  Try configuring logging to log to a file instead, if uWSGI isn't picking up stderr.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/149368888",
            "html_url": "https://github.com/pallets/flask/issues/1587#issuecomment-149368888",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1587",
            "id": 149368888,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTM2ODg4OA==",
            "user": {
                "login": "tfarina",
                "id": 970071,
                "node_id": "MDQ6VXNlcjk3MDA3MQ==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/970071?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/tfarina",
                "html_url": "https://github.com/tfarina",
                "followers_url": "https://api.github.com/users/tfarina/followers",
                "following_url": "https://api.github.com/users/tfarina/following{/other_user}",
                "gists_url": "https://api.github.com/users/tfarina/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/tfarina/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tfarina/subscriptions",
                "organizations_url": "https://api.github.com/users/tfarina/orgs",
                "repos_url": "https://api.github.com/users/tfarina/repos",
                "events_url": "https://api.github.com/users/tfarina/events{/privacy}",
                "received_events_url": "https://api.github.com/users/tfarina/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-10-19T22:45:18Z",
            "updated_at": "2015-10-19T22:45:18Z",
            "author_association": "NONE",
            "body": "OK @davidism, thanks for your support!\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/149381903",
            "html_url": "https://github.com/pallets/flask/issues/1587#issuecomment-149381903",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1587",
            "id": 149381903,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTM4MTkwMw==",
            "user": {
                "login": "tfarina",
                "id": 970071,
                "node_id": "MDQ6VXNlcjk3MDA3MQ==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/970071?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/tfarina",
                "html_url": "https://github.com/tfarina",
                "followers_url": "https://api.github.com/users/tfarina/followers",
                "following_url": "https://api.github.com/users/tfarina/following{/other_user}",
                "gists_url": "https://api.github.com/users/tfarina/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/tfarina/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tfarina/subscriptions",
                "organizations_url": "https://api.github.com/users/tfarina/orgs",
                "repos_url": "https://api.github.com/users/tfarina/repos",
                "events_url": "https://api.github.com/users/tfarina/events{/privacy}",
                "received_events_url": "https://api.github.com/users/tfarina/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-10-20T00:09:38Z",
            "updated_at": "2015-10-20T00:09:38Z",
            "author_association": "NONE",
            "body": "For future reference I was able to get some backtrace following http://librelist.com/browser/flask/2012/1/27/catching-exceptions-from-flask/#e3f303db052ce2bdae0801269b51d55d\n\nI had to add --catch-exceptions to uwsgi command line and app.config['PROPAGATE_EXCEPTIONS'] = True to the application.\n"
        }
    ]
}