{
    "url": "https://api.github.com/repos/pallets/flask/issues/99",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/99/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/99/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/99/events",
    "html_url": "https://github.com/pallets/flask/issues/99",
    "id": 264862,
    "node_id": "MDU6SXNzdWUyNjQ4NjI=",
    "number": 99,
    "title": "Section 3.8 Sessions - bug in example of escaping session value",
    "user": {
        "login": "truedat101",
        "id": 64202,
        "node_id": "MDQ6VXNlcjY0MjAy",
        "avatar_url": "https://avatars3.githubusercontent.com/u/64202?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/truedat101",
        "html_url": "https://github.com/truedat101",
        "followers_url": "https://api.github.com/users/truedat101/followers",
        "following_url": "https://api.github.com/users/truedat101/following{/other_user}",
        "gists_url": "https://api.github.com/users/truedat101/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/truedat101/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/truedat101/subscriptions",
        "organizations_url": "https://api.github.com/users/truedat101/orgs",
        "repos_url": "https://api.github.com/users/truedat101/repos",
        "events_url": "https://api.github.com/users/truedat101/events{/privacy}",
        "received_events_url": "https://api.github.com/users/truedat101/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2010-07-30T19:13:47Z",
    "updated_at": "2010-08-05T18:35:22Z",
    "closed_at": "2010-07-31T02:16:45Z",
    "author_association": "NONE",
    "body": "# Description\n\nNeed to qualify the call to escape() with Markup class. \n# Reference\n\nhttp://flask.pocoo.org/docs/quickstart/#sessions\n\n3.8 Sessions\nBesides the request object there is also a second object called session that allows you to store information specific to a user from one request to the next. This is implemented on top of cookies for you and signs the cookies cryptographically. What this means is that the user could look at the contents of your cookie but not modify it, unless he knows the secret key used for signing.\nIn order to use sessions you have to set a secret key. Here is how sessions work:\nThe here mentioned escape() does escaping for you if you are not using the template engine (like in this example).\nHow to generate good Secret Keys\nfrom flask import session, redirect, url_for, escape\n@app.route(\u2019/\u2019) def index():\nif \u2019username\u2019 in session: return \u2019Logged in as %s\u2019 % escape(session[\u2019username\u2019])\nreturn \u2019You are not logged in\u2019\n# Bug Fix\n\n---- replace line: if \u2019username\u2019 in session: return \u2019Logged in as %s\u2019 % escape(session[\u2019username\u2019])\n---- with: if \u2019username\u2019 in session: return \u2019Logged in as %s\u2019 % Markup.escape(session[\u2019username\u2019])\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/335197",
            "html_url": "https://github.com/pallets/flask/issues/99#issuecomment-335197",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/99",
            "id": 335197,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTE5Nw==",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2010-07-30T19:16:44Z",
            "updated_at": "2010-07-30T19:16:44Z",
            "author_association": "MEMBER",
            "body": "These are equivalent:\n\n```\n>>> from flask import escape, Markup\n>>> Markup.escape('<foo>')\nMarkup(u'&lt;foo&gt;')\n>>> escape('<foo>')\nMarkup(u'&lt;foo&gt;')\n```\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/342820",
            "html_url": "https://github.com/pallets/flask/issues/99#issuecomment-342820",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/99",
            "id": 342820,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjgyMA==",
            "user": {
                "login": "truedat101",
                "id": 64202,
                "node_id": "MDQ6VXNlcjY0MjAy",
                "avatar_url": "https://avatars3.githubusercontent.com/u/64202?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/truedat101",
                "html_url": "https://github.com/truedat101",
                "followers_url": "https://api.github.com/users/truedat101/followers",
                "following_url": "https://api.github.com/users/truedat101/following{/other_user}",
                "gists_url": "https://api.github.com/users/truedat101/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/truedat101/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/truedat101/subscriptions",
                "organizations_url": "https://api.github.com/users/truedat101/orgs",
                "repos_url": "https://api.github.com/users/truedat101/repos",
                "events_url": "https://api.github.com/users/truedat101/events{/privacy}",
                "received_events_url": "https://api.github.com/users/truedat101/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2010-08-05T18:35:22Z",
            "updated_at": "2010-08-05T18:35:22Z",
            "author_association": "NONE",
            "body": "Agreed.\n\nI was missing that flask exports escape.  So both are equivalent.\n\nThanks!\n"
        }
    ]
}