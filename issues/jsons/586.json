{
    "url": "https://api.github.com/repos/pallets/flask/issues/586",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/586/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/586/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/586/events",
    "html_url": "https://github.com/pallets/flask/issues/586",
    "id": 6577283,
    "node_id": "MDU6SXNzdWU2NTc3Mjgz",
    "number": 586,
    "title": "Session workaround in case cookie is disabled",
    "user": {
        "login": "adsahay",
        "id": 375799,
        "node_id": "MDQ6VXNlcjM3NTc5OQ==",
        "avatar_url": "https://avatars2.githubusercontent.com/u/375799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/adsahay",
        "html_url": "https://github.com/adsahay",
        "followers_url": "https://api.github.com/users/adsahay/followers",
        "following_url": "https://api.github.com/users/adsahay/following{/other_user}",
        "gists_url": "https://api.github.com/users/adsahay/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/adsahay/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/adsahay/subscriptions",
        "organizations_url": "https://api.github.com/users/adsahay/orgs",
        "repos_url": "https://api.github.com/users/adsahay/repos",
        "events_url": "https://api.github.com/users/adsahay/events{/privacy}",
        "received_events_url": "https://api.github.com/users/adsahay/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2012-08-31T12:09:24Z",
    "updated_at": "2012-09-02T17:47:16Z",
    "closed_at": "2012-09-02T17:46:39Z",
    "author_association": "NONE",
    "body": "I'm trying to make an HTML5 app which is intended to work everywhere(!!). In iOS when a web app is added to the home screen, the resulting _standalone_ app doesn't allow cookies, nor is there an option for the user to enable them. \n\nI'm using server-side sessions (on redis), and in this scenario I'm contemplating appending some sort of auth token to every url request (maybe as a header, say, X-MYTOKEN), which will be stored on the client using localStorage after it is generated after a successful login. Later on a logout or a _timeout_ would invalidate this token on the server side, and the localStorage value would get rewritten on the subsequent login. \n\nCan you weigh in on this approach, or suggest something better? \n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/8190994",
            "html_url": "https://github.com/pallets/flask/issues/586#issuecomment-8190994",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/586",
            "id": 8190994,
            "node_id": "MDEyOklzc3VlQ29tbWVudDgxOTA5OTQ=",
            "user": {
                "login": "adsahay",
                "id": 375799,
                "node_id": "MDQ6VXNlcjM3NTc5OQ==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/375799?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/adsahay",
                "html_url": "https://github.com/adsahay",
                "followers_url": "https://api.github.com/users/adsahay/followers",
                "following_url": "https://api.github.com/users/adsahay/following{/other_user}",
                "gists_url": "https://api.github.com/users/adsahay/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/adsahay/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/adsahay/subscriptions",
                "organizations_url": "https://api.github.com/users/adsahay/orgs",
                "repos_url": "https://api.github.com/users/adsahay/repos",
                "events_url": "https://api.github.com/users/adsahay/events{/privacy}",
                "received_events_url": "https://api.github.com/users/adsahay/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-08-31T12:53:38Z",
            "updated_at": "2012-08-31T12:53:38Z",
            "author_association": "NONE",
            "body": "(Based on IRC chat, I'm going ahead with a random-token-per-user-in-url approach)\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/8223966",
            "html_url": "https://github.com/pallets/flask/issues/586#issuecomment-8223966",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/586",
            "id": 8223966,
            "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjM5NjY=",
            "user": {
                "login": "ghost",
                "id": 10137,
                "node_id": "MDQ6VXNlcjEwMTM3",
                "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ghost",
                "html_url": "https://github.com/ghost",
                "followers_url": "https://api.github.com/users/ghost/followers",
                "following_url": "https://api.github.com/users/ghost/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
                "organizations_url": "https://api.github.com/users/ghost/orgs",
                "repos_url": "https://api.github.com/users/ghost/repos",
                "events_url": "https://api.github.com/users/ghost/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ghost/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-09-02T17:29:00Z",
            "updated_at": "2012-09-02T17:29:00Z",
            "author_association": "NONE",
            "body": "What about subclassing `flask.sessions.SessionInterface`?\nFind out more at: http://flask.pocoo.org/docs/api/#flask.sessions.SessionInterface.\nYou could have a function, registered with `teardown_request` or similar signals, that access your custom SessionInterface and writes some JavaScript bits at the start of HTML document, to write session data in LocalStorage.\nThis is how I would do, but I'm pretty new at this things... You can do it better (A custom Jinja tag?).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/8224153",
            "html_url": "https://github.com/pallets/flask/issues/586#issuecomment-8224153",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/586",
            "id": 8224153,
            "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjQxNTM=",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-09-02T17:46:39Z",
            "updated_at": "2012-09-02T17:46:39Z",
            "author_association": "MEMBER",
            "body": "Never going to happen just because of the security problems with it.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/8224157",
            "html_url": "https://github.com/pallets/flask/issues/586#issuecomment-8224157",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/586",
            "id": 8224157,
            "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjQxNTc=",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-09-02T17:47:16Z",
            "updated_at": "2012-09-02T17:47:16Z",
            "author_association": "MEMBER",
            "body": "There is btw an implementation for that on github: https://github.com/mitsuhiko/flask-stupid-ideas/blob/master/stupidsessions.py\n"
        }
    ]
}