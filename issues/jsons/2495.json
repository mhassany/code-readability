{
    "url": "https://api.github.com/repos/pallets/flask/issues/2495",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2495/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2495/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2495/events",
    "html_url": "https://github.com/pallets/flask/issues/2495",
    "id": 266268055,
    "node_id": "MDU6SXNzdWUyNjYyNjgwNTU=",
    "number": 2495,
    "title": "Support for Config(None) initialization",
    "user": {
        "login": "dmulter",
        "id": 411993,
        "node_id": "MDQ6VXNlcjQxMTk5Mw==",
        "avatar_url": "https://avatars3.githubusercontent.com/u/411993?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dmulter",
        "html_url": "https://github.com/dmulter",
        "followers_url": "https://api.github.com/users/dmulter/followers",
        "following_url": "https://api.github.com/users/dmulter/following{/other_user}",
        "gists_url": "https://api.github.com/users/dmulter/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dmulter/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dmulter/subscriptions",
        "organizations_url": "https://api.github.com/users/dmulter/orgs",
        "repos_url": "https://api.github.com/users/dmulter/repos",
        "events_url": "https://api.github.com/users/dmulter/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dmulter/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2017-10-17T20:30:58Z",
    "updated_at": "2017-10-30T20:52:42Z",
    "closed_at": "2017-10-30T20:46:41Z",
    "author_association": "NONE",
    "body": "\r\n### Expected Behavior\r\n\r\nIt may be an unusual case, but I initialize Config objects just to load remote secure environment variables in addition to my normal app config loading. I've always just initialized with Config(None) under Python 2, but have just switched over to Python 3 and it throws an exception as described below. Note that the file is loaded into a local temp file.\r\n\r\nI can work around the problem by putting anything in for root_path, but it would be cleaner if I could pass None for the root_path. I would expect Flask to assume fully qualified paths for files if root_path is not set.\r\n\r\n```python\r\nconfig = Config(None)\r\nwith tempfile.NamedTemporaryFile() as s3_file:\r\n    if get_config_file(stage, s3_file.name):\r\n        config.from_pyfile(s3_file.name)\r\n```\r\n\r\n### Actual Behavior\r\n\r\nThe os.path.join() call fails since the root_path is None.\r\n\r\n```pytb\r\n  File \"/app/config.py\", line 28, in _from_s3\r\n    config.from_pyfile(s3_file.name)\r\n  File \"/usr/lib/python3.6/site-packages/flask/config.py\", line 125, in from_pyfile\r\n    filename = os.path.join(self.root_path, filename)\r\n  File \"/usr/lib/python3.6/posixpath.py\", line 78, in join\r\n    a = os.fspath(a)\r\nTypeError: expected str, bytes or os.PathLike object, not NoneType\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: 3.6\r\n* Flask version: 0.12.2\r\n* Werkzeug version: 0.12.2\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/340578724",
            "html_url": "https://github.com/pallets/flask/issues/2495#issuecomment-340578724",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2495",
            "id": 340578724,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDU3ODcyNA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-10-30T20:45:21Z",
            "updated_at": "2017-10-30T20:46:34Z",
            "author_association": "MEMBER",
            "body": "Just pass an empty string. That means exactly what you want it to mean: \"don't add a prefix to relative paths.\""
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/340580731",
            "html_url": "https://github.com/pallets/flask/issues/2495#issuecomment-340580731",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2495",
            "id": 340580731,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDU4MDczMQ==",
            "user": {
                "login": "dmulter",
                "id": 411993,
                "node_id": "MDQ6VXNlcjQxMTk5Mw==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/411993?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dmulter",
                "html_url": "https://github.com/dmulter",
                "followers_url": "https://api.github.com/users/dmulter/followers",
                "following_url": "https://api.github.com/users/dmulter/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmulter/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dmulter/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmulter/subscriptions",
                "organizations_url": "https://api.github.com/users/dmulter/orgs",
                "repos_url": "https://api.github.com/users/dmulter/repos",
                "events_url": "https://api.github.com/users/dmulter/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dmulter/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-10-30T20:52:42Z",
            "updated_at": "2017-10-30T20:52:42Z",
            "author_association": "NONE",
            "body": "Yes, I understand passing an empty string for root_path fixes the problem. I'm just suggesting that the code could be backward-compatible with Python2 behavior by continuing to handle the Config(None) style. Thanks for considering!"
        }
    ]
}