{
    "url": "https://api.github.com/repos/pallets/flask/issues/1841",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1841/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1841/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1841/events",
    "html_url": "https://github.com/pallets/flask/pull/1841",
    "id": 157760925,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NzIwNzkxMTE=",
    "number": 1841,
    "title": "Guard sys.exc_clear call for people using pypy3",
    "user": {
        "login": "fizbin",
        "id": 4110350,
        "node_id": "MDQ6VXNlcjQxMTAzNTA=",
        "avatar_url": "https://avatars2.githubusercontent.com/u/4110350?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fizbin",
        "html_url": "https://github.com/fizbin",
        "followers_url": "https://api.github.com/users/fizbin/followers",
        "following_url": "https://api.github.com/users/fizbin/following{/other_user}",
        "gists_url": "https://api.github.com/users/fizbin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fizbin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fizbin/subscriptions",
        "organizations_url": "https://api.github.com/users/fizbin/orgs",
        "repos_url": "https://api.github.com/users/fizbin/repos",
        "events_url": "https://api.github.com/users/fizbin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fizbin/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": {
        "login": "mitsuhiko",
        "id": 7396,
        "node_id": "MDQ6VXNlcjczOTY=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mitsuhiko",
        "html_url": "https://github.com/mitsuhiko",
        "followers_url": "https://api.github.com/users/mitsuhiko/followers",
        "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
        "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
        "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
        "repos_url": "https://api.github.com/users/mitsuhiko/repos",
        "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
        "type": "User",
        "site_admin": false
    },
    "assignees": [
        {
            "login": "mitsuhiko",
            "id": 7396,
            "node_id": "MDQ6VXNlcjczOTY=",
            "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mitsuhiko",
            "html_url": "https://github.com/mitsuhiko",
            "followers_url": "https://api.github.com/users/mitsuhiko/followers",
            "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
            "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
            "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
            "repos_url": "https://api.github.com/users/mitsuhiko/repos",
            "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
            "type": "User",
            "site_admin": false
        },
        {
            "login": "untitaker",
            "id": 837573,
            "node_id": "MDQ6VXNlcjgzNzU3Mw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/untitaker",
            "html_url": "https://github.com/untitaker",
            "followers_url": "https://api.github.com/users/untitaker/followers",
            "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
            "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
            "organizations_url": "https://api.github.com/users/untitaker/orgs",
            "repos_url": "https://api.github.com/users/untitaker/repos",
            "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/untitaker/received_events",
            "type": "User",
            "site_admin": false
        }
    ],
    "milestone": null,
    "comments": 8,
    "created_at": "2016-05-31T20:20:28Z",
    "updated_at": "2016-06-13T18:34:36Z",
    "closed_at": "2016-06-13T18:34:36Z",
    "author_association": "NONE",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/1841",
        "html_url": "https://github.com/pallets/flask/pull/1841",
        "diff_url": "https://github.com/pallets/flask/pull/1841.diff",
        "patch_url": "https://github.com/pallets/flask/pull/1841.patch"
    },
    "body": "I believe this is behind the reason behind recent Travis-CI failures in flask-restplus pull requests; at the very least, this is obscuring the real error. For example, see https://travis-ci.org/noirbizarre/flask-restplus/jobs/134224010\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223217377",
            "html_url": "https://github.com/pallets/flask/pull/1841#issuecomment-223217377",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1841",
            "id": 223217377,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzIxNzM3Nw==",
            "user": {
                "login": "lafrech",
                "id": 1767010,
                "node_id": "MDQ6VXNlcjE3NjcwMTA=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/1767010?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/lafrech",
                "html_url": "https://github.com/lafrech",
                "followers_url": "https://api.github.com/users/lafrech/followers",
                "following_url": "https://api.github.com/users/lafrech/following{/other_user}",
                "gists_url": "https://api.github.com/users/lafrech/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/lafrech/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lafrech/subscriptions",
                "organizations_url": "https://api.github.com/users/lafrech/orgs",
                "repos_url": "https://api.github.com/users/lafrech/repos",
                "events_url": "https://api.github.com/users/lafrech/events{/privacy}",
                "received_events_url": "https://api.github.com/users/lafrech/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-02T07:34:38Z",
            "updated_at": "2016-06-02T07:34:38Z",
            "author_association": "NONE",
            "body": "Thanks, I came here to report the same issue.\n\nFWIW, we get the same Travis errors in flask-mongoengine: https://travis-ci.org/MongoEngine/flask-mongoengine/jobs/133927873\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223219560",
            "html_url": "https://github.com/pallets/flask/pull/1841#issuecomment-223219560",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1841",
            "id": 223219560,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzIxOTU2MA==",
            "user": {
                "login": "RonnyPfannschmidt",
                "id": 156838,
                "node_id": "MDQ6VXNlcjE1NjgzOA==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/156838?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/RonnyPfannschmidt",
                "html_url": "https://github.com/RonnyPfannschmidt",
                "followers_url": "https://api.github.com/users/RonnyPfannschmidt/followers",
                "following_url": "https://api.github.com/users/RonnyPfannschmidt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RonnyPfannschmidt/subscriptions",
                "organizations_url": "https://api.github.com/users/RonnyPfannschmidt/orgs",
                "repos_url": "https://api.github.com/users/RonnyPfannschmidt/repos",
                "events_url": "https://api.github.com/users/RonnyPfannschmidt/events{/privacy}",
                "received_events_url": "https://api.github.com/users/RonnyPfannschmidt/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-02T07:46:29Z",
            "updated_at": "2016-06-02T07:46:29Z",
            "author_association": "CONTRIBUTOR",
            "body": "a first glance this should be an issue on python3 in general and it needs a test\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223573023",
            "html_url": "https://github.com/pallets/flask/pull/1841#issuecomment-223573023",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1841",
            "id": 223573023,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzU3MzAyMw==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T13:04:22Z",
            "updated_at": "2016-06-03T13:04:22Z",
            "author_association": "MEMBER",
            "body": "My personal experience is that pypy3 is nowhere near usable, and many other libraries seem to fail with it too. Technically Python 3.2 is not supported anyway.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223634891",
            "html_url": "https://github.com/pallets/flask/pull/1841#issuecomment-223634891",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1841",
            "id": 223634891,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzYzNDg5MQ==",
            "user": {
                "login": "fizbin",
                "id": 4110350,
                "node_id": "MDQ6VXNlcjQxMTAzNTA=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/4110350?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/fizbin",
                "html_url": "https://github.com/fizbin",
                "followers_url": "https://api.github.com/users/fizbin/followers",
                "following_url": "https://api.github.com/users/fizbin/following{/other_user}",
                "gists_url": "https://api.github.com/users/fizbin/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/fizbin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/fizbin/subscriptions",
                "organizations_url": "https://api.github.com/users/fizbin/orgs",
                "repos_url": "https://api.github.com/users/fizbin/repos",
                "events_url": "https://api.github.com/users/fizbin/events{/privacy}",
                "received_events_url": "https://api.github.com/users/fizbin/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T17:01:40Z",
            "updated_at": "2016-06-03T17:01:40Z",
            "author_association": "NONE",
            "body": "@RonnyPfannschmidt I don't understand your comment.\n\nWithout this change, pypy3 fails to even run any nosetests for flask at all. With this change, at least nosetests run, and some succeed.\n\nAlso, though the general pattern (calling sys.exc_clear without an attribute check) is an issue for python 3 in general, this code is pypy specific (note the `pypy_version_info` check in line 73).\n\nAnd yes, @untitaker, I agree that pypy3 isn't ready yet for general use. Is that some reason to deliberately leave code in that blows up on pypy3 with an `AttributeError`? Shouldn't you at least catch the error and rethrow some exception specifically saying \"pypy3 isn't ready yet and people shouldn't use it\"?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223637315",
            "html_url": "https://github.com/pallets/flask/pull/1841#issuecomment-223637315",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1841",
            "id": 223637315,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzYzNzMxNQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T17:12:04Z",
            "updated_at": "2016-06-03T17:12:04Z",
            "author_association": "MEMBER",
            "body": "@fizbin We don't support Python 3.2, I don't think that warrants a runtime check.\n\nI'm a bit indecisive. I am tempted to remove the entire logic since the release of PyPy 2.2.1 was two years ago and the latest Python 2-compatible version doesn't seem to have this issue.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223741018",
            "html_url": "https://github.com/pallets/flask/pull/1841#issuecomment-223741018",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1841",
            "id": 223741018,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzc0MTAxOA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-04T07:07:27Z",
            "updated_at": "2016-06-04T07:07:27Z",
            "author_association": "MEMBER",
            "body": "The latest alpha of PyPy3 implements 3.3: http://morepypy.blogspot.com/2016/05/pypy33-v52-alpha-1-released.html.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/225660093",
            "html_url": "https://github.com/pallets/flask/pull/1841#issuecomment-225660093",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1841",
            "id": 225660093,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTY2MDA5Mw==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-13T18:02:07Z",
            "updated_at": "2016-06-13T18:02:07Z",
            "author_association": "MEMBER",
            "body": "@mitsuhiko Do you have any more information about this bug?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/225668760",
            "html_url": "https://github.com/pallets/flask/pull/1841#issuecomment-225668760",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1841",
            "id": 225668760,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTY2ODc2MA==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-13T18:33:26Z",
            "updated_at": "2016-06-13T18:33:26Z",
            "author_association": "MEMBER",
            "body": "I've asked on the PyPy IRC channel and apparently the relevant bugfix this code is trying to address is only contained in PyPy 2.3, while Ubuntu 14.04 still ships 2.2.1. So I've applied your changes and also added the relevant references to the comment block above.\n\nThanks again for bringing this to our attention!\n"
        }
    ]
}