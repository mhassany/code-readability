{
    "url": "https://api.github.com/repos/pallets/flask/issues/1328",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1328/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1328/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1328/events",
    "html_url": "https://github.com/pallets/flask/issues/1328",
    "id": 55724535,
    "node_id": "MDU6SXNzdWU1NTcyNDUzNQ==",
    "number": 1328,
    "title": "Strange behaviour in app.route decorator 'methods' parameter when using string",
    "user": {
        "login": "entd",
        "id": 3510037,
        "node_id": "MDQ6VXNlcjM1MTAwMzc=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/3510037?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/entd",
        "html_url": "https://github.com/entd",
        "followers_url": "https://api.github.com/users/entd/followers",
        "following_url": "https://api.github.com/users/entd/following{/other_user}",
        "gists_url": "https://api.github.com/users/entd/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/entd/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/entd/subscriptions",
        "organizations_url": "https://api.github.com/users/entd/orgs",
        "repos_url": "https://api.github.com/users/entd/repos",
        "events_url": "https://api.github.com/users/entd/events{/privacy}",
        "received_events_url": "https://api.github.com/users/entd/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 11,
    "created_at": "2015-01-28T07:48:33Z",
    "updated_at": "2015-02-04T12:05:00Z",
    "closed_at": "2015-01-31T18:11:06Z",
    "author_association": "NONE",
    "body": "``` python\napp = Flask(__name__)\n\n@app.route('/')\ndef form():\n    return render_template('form_submit.html')\n@app.route('/hello/', methods=('POST'))\ndef hello():\n    name=request.form['yourname']\n    email=request.form['youremail']\n    return render_template('form_action.html', name=name, email=email)\n\n# Run the app :)\nif __name__ == '__main__':\n  app.run( \n        host=\"0.0.0.0\",\n        port=int(\"7777\")\n  )\n```\n\nWhile tupple is iterable for flask accept this without any error warning or problem: even more: (\"GET\", \"POST\") works as well as [\"GET\", \"POST\"].\nHowever with single element string there is problem:\n\n``` python\nimport requests\nr = requests.post(\"http://127.0.0.1:7777/hello\")\nprint(\"Status code: {}\".format(str(r.status_code)))\nprint(\"Headers: {}\".format(r.headers))\n```\n\nOutput:\n\n``` python\nStatus code: 405\nHeaders:  {'Allow': 'O, OPTIONS, T, P, S', 'Date': 'Wed, 28 Jan 2015 07:38:05 GMT', 'Content-Type': 'text/html', 'Server': 'Werkzeug/0.9.6 Python/3.4.2', 'Content-Length': '178'}\n```\n\nSeems that flask happily parses ((\"POST\")) letter by letter. Posting with curl using method \"P\"  is valid thing in flask.\nWhile it is stupid use case, I doubt that Flask should happily churn  String letter by letter. Also I think that after possible fix it would be easy to unit test :smirk: I think even for custom method definition this is not a valid or good behaviour.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/71794921",
            "html_url": "https://github.com/pallets/flask/issues/1328#issuecomment-71794921",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1328",
            "id": 71794921,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzk0OTIx",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-28T08:01:44Z",
            "updated_at": "2015-01-28T08:02:20Z",
            "author_association": "MEMBER",
            "body": "('foo') doesn't create a tuple, `('foo',)` does. So you were passing a plain string instead of a tuple.\n\nIn Python, tuples are created by the `,`, not by the `()` (except the empty tuple where `()` without anything inside actually does create a tuple).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/71802161",
            "html_url": "https://github.com/pallets/flask/issues/1328#issuecomment-71802161",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1328",
            "id": 71802161,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxODAyMTYx",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-28T09:11:20Z",
            "updated_at": "2015-01-28T09:11:20Z",
            "author_association": "MEMBER",
            "body": "Maybe it would make sense to either fail when a string is passed or convert it to a single-element tuple.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/71802964",
            "html_url": "https://github.com/pallets/flask/issues/1328#issuecomment-71802964",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1328",
            "id": 71802964,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxODAyOTY0",
            "user": {
                "login": "entd",
                "id": 3510037,
                "node_id": "MDQ6VXNlcjM1MTAwMzc=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/3510037?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/entd",
                "html_url": "https://github.com/entd",
                "followers_url": "https://api.github.com/users/entd/followers",
                "following_url": "https://api.github.com/users/entd/following{/other_user}",
                "gists_url": "https://api.github.com/users/entd/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/entd/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/entd/subscriptions",
                "organizations_url": "https://api.github.com/users/entd/orgs",
                "repos_url": "https://api.github.com/users/entd/repos",
                "events_url": "https://api.github.com/users/entd/events{/privacy}",
                "received_events_url": "https://api.github.com/users/entd/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-28T09:17:29Z",
            "updated_at": "2015-01-28T09:17:29Z",
            "author_association": "NONE",
            "body": "Sorry, my bad. I edited it a bit. I agree with ThiefMaster it would make more sense to convert it to tuple or handle as whole string, failing, instead sillently iterating over its letters.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/71827356",
            "html_url": "https://github.com/pallets/flask/issues/1328#issuecomment-71827356",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1328",
            "id": 71827356,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxODI3MzU2",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-28T12:27:50Z",
            "updated_at": "2015-01-28T12:27:50Z",
            "author_association": "MEMBER",
            "body": "I agree that there should be an error message. @entd would you like to write such a patch?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/71827508",
            "html_url": "https://github.com/pallets/flask/issues/1328#issuecomment-71827508",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1328",
            "id": 71827508,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxODI3NTA4",
            "user": {
                "login": "entd",
                "id": 3510037,
                "node_id": "MDQ6VXNlcjM1MTAwMzc=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/3510037?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/entd",
                "html_url": "https://github.com/entd",
                "followers_url": "https://api.github.com/users/entd/followers",
                "following_url": "https://api.github.com/users/entd/following{/other_user}",
                "gists_url": "https://api.github.com/users/entd/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/entd/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/entd/subscriptions",
                "organizations_url": "https://api.github.com/users/entd/orgs",
                "repos_url": "https://api.github.com/users/entd/repos",
                "events_url": "https://api.github.com/users/entd/events{/privacy}",
                "received_events_url": "https://api.github.com/users/entd/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-28T12:29:19Z",
            "updated_at": "2015-01-28T12:29:19Z",
            "author_association": "NONE",
            "body": "I would like to.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/71827885",
            "html_url": "https://github.com/pallets/flask/issues/1328#issuecomment-71827885",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1328",
            "id": 71827885,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxODI3ODg1",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-28T12:32:33Z",
            "updated_at": "2015-01-28T12:32:33Z",
            "author_association": "MEMBER",
            "body": "Great! Mail me on the address linked to my profile if you need any help.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/72326328",
            "html_url": "https://github.com/pallets/flask/issues/1328#issuecomment-72326328",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1328",
            "id": 72326328,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzI2MzI4",
            "user": {
                "login": "mhavard999",
                "id": 1484098,
                "node_id": "MDQ6VXNlcjE0ODQwOTg=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1484098?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mhavard999",
                "html_url": "https://github.com/mhavard999",
                "followers_url": "https://api.github.com/users/mhavard999/followers",
                "following_url": "https://api.github.com/users/mhavard999/following{/other_user}",
                "gists_url": "https://api.github.com/users/mhavard999/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mhavard999/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mhavard999/subscriptions",
                "organizations_url": "https://api.github.com/users/mhavard999/orgs",
                "repos_url": "https://api.github.com/users/mhavard999/repos",
                "events_url": "https://api.github.com/users/mhavard999/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mhavard999/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-31T17:10:35Z",
            "updated_at": "2015-01-31T17:12:07Z",
            "author_association": "NONE",
            "body": "@entd must be using an older version of flask.  In the current version you get a TypeError if you try to do what he did above.  The server will not even start.  Commit where it was fixed: af5a0853bfe36d547af93b904729a43fcf8cc55d\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/72328804",
            "html_url": "https://github.com/pallets/flask/issues/1328#issuecomment-72328804",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1328",
            "id": 72328804,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcyMzI4ODA0",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-31T18:11:06Z",
            "updated_at": "2015-01-31T18:11:06Z",
            "author_association": "MEMBER",
            "body": "Oh ok, that was quite a long time ago.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/72833325",
            "html_url": "https://github.com/pallets/flask/issues/1328#issuecomment-72833325",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1328",
            "id": 72833325,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcyODMzMzI1",
            "user": {
                "login": "entd",
                "id": 3510037,
                "node_id": "MDQ6VXNlcjM1MTAwMzc=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/3510037?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/entd",
                "html_url": "https://github.com/entd",
                "followers_url": "https://api.github.com/users/entd/followers",
                "following_url": "https://api.github.com/users/entd/following{/other_user}",
                "gists_url": "https://api.github.com/users/entd/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/entd/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/entd/subscriptions",
                "organizations_url": "https://api.github.com/users/entd/orgs",
                "repos_url": "https://api.github.com/users/entd/repos",
                "events_url": "https://api.github.com/users/entd/events{/privacy}",
                "received_events_url": "https://api.github.com/users/entd/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-02-04T10:36:26Z",
            "updated_at": "2015-02-04T10:37:10Z",
            "author_association": "NONE",
            "body": "No I am not. I am using newest version from pipi on python3. Maybe that is the problem.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/72833880",
            "html_url": "https://github.com/pallets/flask/issues/1328#issuecomment-72833880",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1328",
            "id": 72833880,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcyODMzODgw",
            "user": {
                "login": "entd",
                "id": 3510037,
                "node_id": "MDQ6VXNlcjM1MTAwMzc=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/3510037?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/entd",
                "html_url": "https://github.com/entd",
                "followers_url": "https://api.github.com/users/entd/followers",
                "following_url": "https://api.github.com/users/entd/following{/other_user}",
                "gists_url": "https://api.github.com/users/entd/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/entd/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/entd/subscriptions",
                "organizations_url": "https://api.github.com/users/entd/orgs",
                "repos_url": "https://api.github.com/users/entd/repos",
                "events_url": "https://api.github.com/users/entd/events{/privacy}",
                "received_events_url": "https://api.github.com/users/entd/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-02-04T10:40:50Z",
            "updated_at": "2015-02-04T10:40:50Z",
            "author_association": "NONE",
            "body": "Oh sorry that is indeed old version problem stable release was made before that commit. Seems that maybe you need to release new stable version and bump number up :)\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/72843711",
            "html_url": "https://github.com/pallets/flask/issues/1328#issuecomment-72843711",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1328",
            "id": 72843711,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcyODQzNzEx",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-02-04T12:05:00Z",
            "updated_at": "2015-02-04T12:05:00Z",
            "author_association": "MEMBER",
            "body": "Ok, it is fixed now though in either case.\n"
        }
    ]
}