{
    "url": "https://api.github.com/repos/pallets/flask/issues/1511",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1511/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1511/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1511/events",
    "html_url": "https://github.com/pallets/flask/issues/1511",
    "id": 89788590,
    "node_id": "MDU6SXNzdWU4OTc4ODU5MA==",
    "number": 1511,
    "title": "TaggedJSONSerializer loads(dumps(..)) breaks on certain values",
    "user": {
        "login": "ThiefMaster",
        "id": 179599,
        "node_id": "MDQ6VXNlcjE3OTU5OQ==",
        "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ThiefMaster",
        "html_url": "https://github.com/ThiefMaster",
        "followers_url": "https://api.github.com/users/ThiefMaster/followers",
        "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
        "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
        "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
        "repos_url": "https://api.github.com/users/ThiefMaster/repos",
        "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2015-06-20T16:25:38Z",
    "updated_at": "2017-06-02T17:26:40Z",
    "closed_at": "2017-06-02T17:26:40Z",
    "author_association": "MEMBER",
    "body": "``` diff\ndiff --git a/tests/test_basic.py b/tests/test_basic.py\nindex 695e346..1e064ff 100644\n--- a/tests/test_basic.py\n+++ b/tests/test_basic.py\n@@ -387,6 +387,7 @@ def test_session_special_types():\n         flask.session['dt'] = now\n         flask.session['b'] = b'\\xff'\n         flask.session['t'] = (1, 2, 3)\n+        flask.session['spacefirst'] = {' t': 'not-a-tuple'}\n         return response\n\n     @app.route('/')\n@@ -403,6 +404,7 @@ def test_session_special_types():\n     assert rv['b'] == b'\\xff'\n     assert type(rv['b']) == bytes\n     assert rv['t'] == (1, 2, 3)\n+    assert rv['spacefirst'] == {' t': 'not-a-tuple'}\n\n\n def test_session_cookie_setting():\n```\n\nWhile I don't see any cases where this would be likely to result in security problems (it would require custom types that are not safe to recreate with arbitrary arguments AND code that serializes a dict with both the key and value being provided by the user), I don't like that there's any input where `value != loads(dumps(value))` without an exception.\n\nTwo ways to fix this:\n- raise an exception when trying to encode a dict that has a single item with a key starting with a space.\n- tag such dictionaries so they are decoded properly instead of being decoded as if they are a valid tagged it em\n"
}