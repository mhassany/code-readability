{
    "url": "https://api.github.com/repos/pallets/flask/issues/3365",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3365/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3365/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3365/events",
    "html_url": "https://github.com/pallets/flask/issues/3365",
    "id": 494634190,
    "node_id": "MDU6SXNzdWU0OTQ2MzQxOTA=",
    "number": 3365,
    "title": "send_file method is not sending an updated file",
    "user": {
        "login": "prayas2409",
        "id": 46666181,
        "node_id": "MDQ6VXNlcjQ2NjY2MTgx",
        "avatar_url": "https://avatars3.githubusercontent.com/u/46666181?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/prayas2409",
        "html_url": "https://github.com/prayas2409",
        "followers_url": "https://api.github.com/users/prayas2409/followers",
        "following_url": "https://api.github.com/users/prayas2409/following{/other_user}",
        "gists_url": "https://api.github.com/users/prayas2409/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/prayas2409/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/prayas2409/subscriptions",
        "organizations_url": "https://api.github.com/users/prayas2409/orgs",
        "repos_url": "https://api.github.com/users/prayas2409/repos",
        "events_url": "https://api.github.com/users/prayas2409/events{/privacy}",
        "received_events_url": "https://api.github.com/users/prayas2409/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2019-09-17T13:45:32Z",
    "updated_at": "2019-09-18T14:10:15Z",
    "closed_at": "2019-09-18T14:00:02Z",
    "author_association": "NONE",
    "body": "### Expected Behavior\r\nEvery time I call send file it should be sending the recently updated file.\r\n\r\n```python\r\n# @app.route('/data/<file>-<key>', methods=['GET'])\r\ndef data_download(file, key):\r\n    from flask import send_file\r\n    # Reading the path from environment\r\n    csvfile = os.environ['data_path']+\"/{}\".format(file)\r\n    if key == \"abc\":\r\n        return send_file(csvfile,\r\n                         mimetype='text/csv',\r\n                         attachment_filename=file,\r\n                         as_attachment=True).\r\n```\r\n\r\n### Actual Behavior\r\nFirst time when this method is called it sends the latest file, however after that, if there are changes made in the file it's not sending the updated file it just sends the file containing same data as it had previously though the data is getting updated in the original file.\r\n\r\n```pytb\r\nNo exception it just does not sends the updated file.\r\n```\r\n\r\n### Environment\r\n\r\n* Python version:3.6\r\n* Flask version:1.1.1\r\n* Werkzeug version:0.15.5\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/532697704",
            "html_url": "https://github.com/pallets/flask/issues/3365#issuecomment-532697704",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3365",
            "id": 532697704,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjY5NzcwNA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-09-18T14:00:02Z",
            "updated_at": "2019-09-18T14:00:02Z",
            "author_association": "MEMBER",
            "body": "This appears to be the browser's cache. The browser won't request the same file for a while based on the cache headers it receives the first time, it will just return its cached version without hitting the server.\r\n\r\nThere's a bunch of options you can pass to `send_file` to control various parts of the cache headers, or you can use the `response.cache_control` object to control it.\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/532700958",
            "html_url": "https://github.com/pallets/flask/issues/3365#issuecomment-532700958",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3365",
            "id": 532700958,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjcwMDk1OA==",
            "user": {
                "login": "prayas2409",
                "id": 46666181,
                "node_id": "MDQ6VXNlcjQ2NjY2MTgx",
                "avatar_url": "https://avatars3.githubusercontent.com/u/46666181?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/prayas2409",
                "html_url": "https://github.com/prayas2409",
                "followers_url": "https://api.github.com/users/prayas2409/followers",
                "following_url": "https://api.github.com/users/prayas2409/following{/other_user}",
                "gists_url": "https://api.github.com/users/prayas2409/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/prayas2409/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/prayas2409/subscriptions",
                "organizations_url": "https://api.github.com/users/prayas2409/orgs",
                "repos_url": "https://api.github.com/users/prayas2409/repos",
                "events_url": "https://api.github.com/users/prayas2409/events{/privacy}",
                "received_events_url": "https://api.github.com/users/prayas2409/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-09-18T14:07:33Z",
            "updated_at": "2019-09-18T14:07:33Z",
            "author_association": "NONE",
            "body": "Thank you for looking into this David.\nI'll certainly try to do it after clearing the cache or using alternative\nmethods provided by you, Will it be okay to send an email in this thread if\nfor the same issue or shall I open a new issue on GitHub issue tracker?\n\nHave a great time ahead.\nRegards,\nPrayas Pagade\n\nOn Wed, Sep 18, 2019 at 7:31 PM David Lord <notifications@github.com> wrote:\n\n> This appears to be the browser's cache. The browser won't request the same\n> file for a while based on the cache headers it receives the first time, it\n> will just return its cached version without hitting the server.\n>\n> There's a bunch of options you can pass to send_file to control various\n> parts of the cache headers, or you can use the response.cache_control\n> object to control it.\n>\n> https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control\n>\n> \u2014\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pallets/flask/issues/3365?email_source=notifications&email_token=ALEBDRLH2B5QGA5GYLNJULDQKIYFJA5CNFSM4IXQFT52YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD7AFE2A#issuecomment-532697704>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ALEBDRNLJMI53PWBSPQ44H3QKIYFJANCNFSM4IXQFT5Q>\n> .\n>\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/532702225",
            "html_url": "https://github.com/pallets/flask/issues/3365#issuecomment-532702225",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3365",
            "id": 532702225,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjcwMjIyNQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-09-18T14:10:15Z",
            "updated_at": "2019-09-18T14:10:15Z",
            "author_association": "MEMBER",
            "body": "Please use Stack Overflow for questions about your own code. This tracker is for issues related to the project itself. Be sure to include a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve)."
        }
    ]
}