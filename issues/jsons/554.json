{
    "url": "https://api.github.com/repos/pallets/flask/issues/554",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/554/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/554/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/554/events",
    "html_url": "https://github.com/pallets/flask/pull/554",
    "id": 5716325,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTgzOTgxNw==",
    "number": 554,
    "title": "Endpoints can clash for views defined in modules",
    "user": {
        "login": "wibblymat",
        "id": 393358,
        "node_id": "MDQ6VXNlcjM5MzM1OA==",
        "avatar_url": "https://avatars3.githubusercontent.com/u/393358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wibblymat",
        "html_url": "https://github.com/wibblymat",
        "followers_url": "https://api.github.com/users/wibblymat/followers",
        "following_url": "https://api.github.com/users/wibblymat/following{/other_user}",
        "gists_url": "https://api.github.com/users/wibblymat/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wibblymat/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wibblymat/subscriptions",
        "organizations_url": "https://api.github.com/users/wibblymat/orgs",
        "repos_url": "https://api.github.com/users/wibblymat/repos",
        "events_url": "https://api.github.com/users/wibblymat/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wibblymat/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 7,
    "created_at": "2012-07-19T16:21:41Z",
    "updated_at": "2014-06-13T10:17:13Z",
    "closed_at": "2012-07-20T08:18:22Z",
    "author_association": "NONE",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/554",
        "html_url": "https://github.com/pallets/flask/pull/554",
        "diff_url": "https://github.com/pallets/flask/pull/554.diff",
        "patch_url": "https://github.com/pallets/flask/pull/554.patch"
    },
    "body": "When no endpoint name is given to app.route() Flask will currently\nuse view_func.**name**.\n\nHowever, if you have view functions defined in several modules, you\ncan get name clashes. For example, if you have\n\n```\n@app.route('/users/list')\ndef list():\n    ...\n```\n\nin users.py and\n\n```\n@app.route('/projects/list')\ndef list():\n    ...\n```\n\nin projects.py then you end up with only one endpoint called 'list'\nthat will point to which ever view function was defined second.\nBoth routes will use the same endpoint.\n\nBy adding view_func.**module** to the endpoint name this problem\ncan be avoided.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/7103071",
            "html_url": "https://github.com/pallets/flask/pull/554#issuecomment-7103071",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/554",
            "id": 7103071,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDMwNzE=",
            "user": {
                "login": "travisbot",
                "id": 1516820,
                "node_id": "MDQ6VXNlcjE1MTY4MjA=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/1516820?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/travisbot",
                "html_url": "https://github.com/travisbot",
                "followers_url": "https://api.github.com/users/travisbot/followers",
                "following_url": "https://api.github.com/users/travisbot/following{/other_user}",
                "gists_url": "https://api.github.com/users/travisbot/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/travisbot/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/travisbot/subscriptions",
                "organizations_url": "https://api.github.com/users/travisbot/orgs",
                "repos_url": "https://api.github.com/users/travisbot/repos",
                "events_url": "https://api.github.com/users/travisbot/events{/privacy}",
                "received_events_url": "https://api.github.com/users/travisbot/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-07-19T16:22:50Z",
            "updated_at": "2012-07-19T16:22:50Z",
            "author_association": "NONE",
            "body": "This pull request [fails](http://travis-ci.org/mitsuhiko/flask/builds/1905692) (merged 4d18f776 into ea2a0629).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/7103254",
            "html_url": "https://github.com/pallets/flask/pull/554#issuecomment-7103254",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/554",
            "id": 7103254,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxMDMyNTQ=",
            "user": {
                "login": "wibblymat",
                "id": 393358,
                "node_id": "MDQ6VXNlcjM5MzM1OA==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/393358?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/wibblymat",
                "html_url": "https://github.com/wibblymat",
                "followers_url": "https://api.github.com/users/wibblymat/followers",
                "following_url": "https://api.github.com/users/wibblymat/following{/other_user}",
                "gists_url": "https://api.github.com/users/wibblymat/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/wibblymat/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wibblymat/subscriptions",
                "organizations_url": "https://api.github.com/users/wibblymat/orgs",
                "repos_url": "https://api.github.com/users/wibblymat/repos",
                "events_url": "https://api.github.com/users/wibblymat/events{/privacy}",
                "received_events_url": "https://api.github.com/users/wibblymat/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-07-19T16:28:17Z",
            "updated_at": "2012-07-19T16:28:17Z",
            "author_association": "NONE",
            "body": "Oh, right, tests... I can't look at those right now but I will do so tomorrow. Hopefully most of them are just because you will get a different string rather than actual functionality breaking.\n\nAlso, just to be clear, markdown has stolen some characters from my comment. I really do mean\n\n```\n__name__ and __module__ and not name_ and module_\n```\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/7124818",
            "html_url": "https://github.com/pallets/flask/pull/554#issuecomment-7124818",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/554",
            "id": 7124818,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxMjQ4MTg=",
            "user": {
                "login": "wibblymat",
                "id": 393358,
                "node_id": "MDQ6VXNlcjM5MzM1OA==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/393358?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/wibblymat",
                "html_url": "https://github.com/wibblymat",
                "followers_url": "https://api.github.com/users/wibblymat/followers",
                "following_url": "https://api.github.com/users/wibblymat/following{/other_user}",
                "gists_url": "https://api.github.com/users/wibblymat/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/wibblymat/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wibblymat/subscriptions",
                "organizations_url": "https://api.github.com/users/wibblymat/orgs",
                "repos_url": "https://api.github.com/users/wibblymat/repos",
                "events_url": "https://api.github.com/users/wibblymat/events{/privacy}",
                "received_events_url": "https://api.github.com/users/wibblymat/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-07-20T08:18:22Z",
            "updated_at": "2012-07-20T08:18:22Z",
            "author_association": "NONE",
            "body": "Further investigation suggests this whole idea was silly, sorry.\n\nIf anyone can spot a way to prevent name clashes in cases where we don't care what the endpoint gets called but preserves the obvious endpoint name when we do I'd love to hear it.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/8950881",
            "html_url": "https://github.com/pallets/flask/pull/554#issuecomment-8950881",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/554",
            "id": 8950881,
            "node_id": "MDEyOklzc3VlQ29tbWVudDg5NTA4ODE=",
            "user": {
                "login": "matthewlmcclure",
                "id": 470362,
                "node_id": "MDQ6VXNlcjQ3MDM2Mg==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/470362?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/matthewlmcclure",
                "html_url": "https://github.com/matthewlmcclure",
                "followers_url": "https://api.github.com/users/matthewlmcclure/followers",
                "following_url": "https://api.github.com/users/matthewlmcclure/following{/other_user}",
                "gists_url": "https://api.github.com/users/matthewlmcclure/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/matthewlmcclure/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/matthewlmcclure/subscriptions",
                "organizations_url": "https://api.github.com/users/matthewlmcclure/orgs",
                "repos_url": "https://api.github.com/users/matthewlmcclure/repos",
                "events_url": "https://api.github.com/users/matthewlmcclure/events{/privacy}",
                "received_events_url": "https://api.github.com/users/matthewlmcclure/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-09-27T19:31:17Z",
            "updated_at": "2012-09-27T19:31:17Z",
            "author_association": "NONE",
            "body": "@wibblymat I'm curious why you decided the idea was silly. I found this pull request after Flask also surprised me with a similar name collision. I would naively have expected it to use a view function's fully qualified name to avoid collisions. Any technical reason it can't be made to do that?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/8951522",
            "html_url": "https://github.com/pallets/flask/pull/554#issuecomment-8951522",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/554",
            "id": 8951522,
            "node_id": "MDEyOklzc3VlQ29tbWVudDg5NTE1MjI=",
            "user": {
                "login": "matthewlmcclure",
                "id": 470362,
                "node_id": "MDQ6VXNlcjQ3MDM2Mg==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/470362?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/matthewlmcclure",
                "html_url": "https://github.com/matthewlmcclure",
                "followers_url": "https://api.github.com/users/matthewlmcclure/followers",
                "following_url": "https://api.github.com/users/matthewlmcclure/following{/other_user}",
                "gists_url": "https://api.github.com/users/matthewlmcclure/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/matthewlmcclure/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/matthewlmcclure/subscriptions",
                "organizations_url": "https://api.github.com/users/matthewlmcclure/orgs",
                "repos_url": "https://api.github.com/users/matthewlmcclure/repos",
                "events_url": "https://api.github.com/users/matthewlmcclure/events{/privacy}",
                "received_events_url": "https://api.github.com/users/matthewlmcclure/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-09-27T19:50:02Z",
            "updated_at": "2012-09-27T19:50:02Z",
            "author_association": "NONE",
            "body": "A workaround that seems to work for me:\n\n```\n@app.route('/users/list', endpoint='users.list')\ndef list():\n    ...\n\n@app.route('/projects/list', endpoint='projects.list')\ndef list():\n    ...\n```\n\n@mitsuhiko Any reason Flask can't change to use the fully qualified name as the default endpoint value?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/8958243",
            "html_url": "https://github.com/pallets/flask/pull/554#issuecomment-8958243",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/554",
            "id": 8958243,
            "node_id": "MDEyOklzc3VlQ29tbWVudDg5NTgyNDM=",
            "user": {
                "login": "wibblymat",
                "id": 393358,
                "node_id": "MDQ6VXNlcjM5MzM1OA==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/393358?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/wibblymat",
                "html_url": "https://github.com/wibblymat",
                "followers_url": "https://api.github.com/users/wibblymat/followers",
                "following_url": "https://api.github.com/users/wibblymat/following{/other_user}",
                "gists_url": "https://api.github.com/users/wibblymat/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/wibblymat/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wibblymat/subscriptions",
                "organizations_url": "https://api.github.com/users/wibblymat/orgs",
                "repos_url": "https://api.github.com/users/wibblymat/repos",
                "events_url": "https://api.github.com/users/wibblymat/events{/privacy}",
                "received_events_url": "https://api.github.com/users/wibblymat/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-09-27T23:12:48Z",
            "updated_at": "2012-09-27T23:12:48Z",
            "author_association": "NONE",
            "body": "(This is from memory - haven't looked at this for a couple of months)\n\n@matthewlmcclure The problem is that, while the fix I suggested worked for my particular situation, it would be a terrible break in backwards compatibility. There are several places you can hook into things based on the endpoint name so there could be a lot of code in the wild that would break where it has been assumed that the endpoint name is just the name of the function.\n\nMake the change I suggested and then run the unit tests and you'll see what I mean.\n\nIn the end did as you did and set the endpoint names explicitly.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/8958725",
            "html_url": "https://github.com/pallets/flask/pull/554#issuecomment-8958725",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/554",
            "id": 8958725,
            "node_id": "MDEyOklzc3VlQ29tbWVudDg5NTg3MjU=",
            "user": {
                "login": "matthewlmcclure",
                "id": 470362,
                "node_id": "MDQ6VXNlcjQ3MDM2Mg==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/470362?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/matthewlmcclure",
                "html_url": "https://github.com/matthewlmcclure",
                "followers_url": "https://api.github.com/users/matthewlmcclure/followers",
                "following_url": "https://api.github.com/users/matthewlmcclure/following{/other_user}",
                "gists_url": "https://api.github.com/users/matthewlmcclure/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/matthewlmcclure/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/matthewlmcclure/subscriptions",
                "organizations_url": "https://api.github.com/users/matthewlmcclure/orgs",
                "repos_url": "https://api.github.com/users/matthewlmcclure/repos",
                "events_url": "https://api.github.com/users/matthewlmcclure/events{/privacy}",
                "received_events_url": "https://api.github.com/users/matthewlmcclure/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-09-27T23:35:55Z",
            "updated_at": "2012-09-27T23:35:55Z",
            "author_association": "NONE",
            "body": "Got it. Thanks for clarifying.\n"
        }
    ]
}