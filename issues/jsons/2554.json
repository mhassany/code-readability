{
    "url": "https://api.github.com/repos/pallets/flask/issues/2554",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2554/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2554/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2554/events",
    "html_url": "https://github.com/pallets/flask/pull/2554",
    "id": 282001059,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTU4MjgyMzY3",
    "number": 2554,
    "title": "fix non-passing tests for logging on pytest >= 3.3.0",
    "user": {
        "login": "camilojimenez",
        "id": 7208620,
        "node_id": "MDQ6VXNlcjcyMDg2MjA=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/7208620?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/camilojimenez",
        "html_url": "https://github.com/camilojimenez",
        "followers_url": "https://api.github.com/users/camilojimenez/followers",
        "following_url": "https://api.github.com/users/camilojimenez/following{/other_user}",
        "gists_url": "https://api.github.com/users/camilojimenez/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/camilojimenez/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/camilojimenez/subscriptions",
        "organizations_url": "https://api.github.com/users/camilojimenez/orgs",
        "repos_url": "https://api.github.com/users/camilojimenez/repos",
        "events_url": "https://api.github.com/users/camilojimenez/events{/privacy}",
        "received_events_url": "https://api.github.com/users/camilojimenez/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 7,
    "created_at": "2017-12-14T07:04:17Z",
    "updated_at": "2017-12-14T20:21:35Z",
    "closed_at": "2017-12-14T20:21:35Z",
    "author_association": "CONTRIBUTOR",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/2554",
        "html_url": "https://github.com/pallets/flask/pull/2554",
        "diff_url": "https://github.com/pallets/flask/pull/2554.diff",
        "patch_url": "https://github.com/pallets/flask/pull/2554.patch"
    },
    "body": "This fixes issue #2550, where some tests fail when using newer pytest (after version 3.2.5).\r\n\r\nThe reason for this issue is that pytest added a plugin that instantiates a handler for the logging module, while the tests were expecting no handlers.\r\n\r\nThe PR solves the issue by temporarily disabling the logging module and removing any handlers for all tests on the file\r\n\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/351705247",
            "html_url": "https://github.com/pallets/flask/pull/2554#issuecomment-351705247",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2554",
            "id": 351705247,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTcwNTI0Nw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-12-14T13:04:32Z",
            "updated_at": "2017-12-14T13:04:32Z",
            "author_association": "MEMBER",
            "body": "Since it's also possible to disable the plug-in in other ways, it would be better to only restore it if it was actually enabled to begin with."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/351706371",
            "html_url": "https://github.com/pallets/flask/pull/2554#issuecomment-351706371",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2554",
            "id": 351706371,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTcwNjM3MQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-12-14T13:09:40Z",
            "updated_at": "2017-12-14T13:09:40Z",
            "author_association": "MEMBER",
            "body": "You can ignore the failures on 2.6 and 3.3."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/351725634",
            "html_url": "https://github.com/pallets/flask/pull/2554#issuecomment-351725634",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2554",
            "id": 351725634,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTcyNTYzNA==",
            "user": {
                "login": "lepture",
                "id": 290496,
                "node_id": "MDQ6VXNlcjI5MDQ5Ng==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/290496?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/lepture",
                "html_url": "https://github.com/lepture",
                "followers_url": "https://api.github.com/users/lepture/followers",
                "following_url": "https://api.github.com/users/lepture/following{/other_user}",
                "gists_url": "https://api.github.com/users/lepture/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/lepture/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lepture/subscriptions",
                "organizations_url": "https://api.github.com/users/lepture/orgs",
                "repos_url": "https://api.github.com/users/lepture/repos",
                "events_url": "https://api.github.com/users/lepture/events{/privacy}",
                "received_events_url": "https://api.github.com/users/lepture/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-12-14T14:27:55Z",
            "updated_at": "2017-12-14T14:27:55Z",
            "author_association": "MEMBER",
            "body": "@davidism are we going to remove the support for 2.6 and 3.3?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/351725865",
            "html_url": "https://github.com/pallets/flask/pull/2554#issuecomment-351725865",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2554",
            "id": 351725865,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTcyNTg2NQ==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-12-14T14:28:50Z",
            "updated_at": "2017-12-14T14:28:50Z",
            "author_association": "MEMBER",
            "body": "Yes"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/351728009",
            "html_url": "https://github.com/pallets/flask/pull/2554#issuecomment-351728009",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2554",
            "id": 351728009,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTcyODAwOQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-12-14T14:36:15Z",
            "updated_at": "2017-12-14T14:36:15Z",
            "author_association": "MEMBER",
            "body": "Yes. First step is removing the tests from CI, I just haven't gotten around to it for the other Pallets projects yet."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/351729786",
            "html_url": "https://github.com/pallets/flask/pull/2554#issuecomment-351729786",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2554",
            "id": 351729786,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTcyOTc4Ng==",
            "user": {
                "login": "camilojimenez",
                "id": 7208620,
                "node_id": "MDQ6VXNlcjcyMDg2MjA=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7208620?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/camilojimenez",
                "html_url": "https://github.com/camilojimenez",
                "followers_url": "https://api.github.com/users/camilojimenez/followers",
                "following_url": "https://api.github.com/users/camilojimenez/following{/other_user}",
                "gists_url": "https://api.github.com/users/camilojimenez/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/camilojimenez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/camilojimenez/subscriptions",
                "organizations_url": "https://api.github.com/users/camilojimenez/orgs",
                "repos_url": "https://api.github.com/users/camilojimenez/repos",
                "events_url": "https://api.github.com/users/camilojimenez/events{/privacy}",
                "received_events_url": "https://api.github.com/users/camilojimenez/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-12-14T14:42:25Z",
            "updated_at": "2017-12-14T14:42:25Z",
            "author_association": "CONTRIBUTOR",
            "body": "@davidism done, now it only adds it back if it was set to begin with"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/351825124",
            "html_url": "https://github.com/pallets/flask/pull/2554#issuecomment-351825124",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2554",
            "id": 351825124,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTgyNTEyNA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-12-14T20:21:31Z",
            "updated_at": "2017-12-14T20:21:31Z",
            "author_association": "MEMBER",
            "body": "Thanks for figuring this out. I did a bit of refactoring: use the `pytestconfig` fixture instead of accessing `pytest.config`, and `unregister` returns the plugin."
        }
    ]
}