{
    "url": "https://api.github.com/repos/pallets/flask/issues/1714",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1714/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1714/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1714/events",
    "html_url": "https://github.com/pallets/flask/issues/1714",
    "id": 130580879,
    "node_id": "MDU6SXNzdWUxMzA1ODA4Nzk=",
    "number": 1714,
    "title": "Lack of documentation on how to serve Flask under a non-root path",
    "user": {
        "login": "Larivact",
        "id": 8731884,
        "node_id": "MDQ6VXNlcjg3MzE4ODQ=",
        "avatar_url": "https://avatars2.githubusercontent.com/u/8731884?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Larivact",
        "html_url": "https://github.com/Larivact",
        "followers_url": "https://api.github.com/users/Larivact/followers",
        "following_url": "https://api.github.com/users/Larivact/following{/other_user}",
        "gists_url": "https://api.github.com/users/Larivact/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Larivact/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Larivact/subscriptions",
        "organizations_url": "https://api.github.com/users/Larivact/orgs",
        "repos_url": "https://api.github.com/users/Larivact/repos",
        "events_url": "https://api.github.com/users/Larivact/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Larivact/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 32876,
            "node_id": "MDU6TGFiZWwzMjg3Ng==",
            "url": "https://api.github.com/repos/pallets/flask/labels/docs",
            "name": "docs",
            "color": "0e8a16",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": true,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 8,
    "created_at": "2016-02-02T05:37:04Z",
    "updated_at": "2018-11-19T16:27:55Z",
    "closed_at": "2017-05-14T10:26:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "If I am not mistaken the docs lack a good description on how to setup Flask to use a different _application root path_. I summarized my current understanding in [this Gist](https://gist.github.com/Larivact/1ee3bad0e53b2e2c4e40).\n\nAlso the name of Flask's APPLICATION_ROOT config variable is pretty misleading. One could wrongly assume that it affects routing (stripping away application_root) and `url_for()` (prepending application_root). I do not even get the point of the current `APPLICATION_ROOT` setting because there already is `SESSION_COOKIE_PATH`.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/205673939",
            "html_url": "https://github.com/pallets/flask/issues/1714#issuecomment-205673939",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1714",
            "id": 205673939,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIwNTY3MzkzOQ==",
            "user": {
                "login": "jeffwidman",
                "id": 483314,
                "node_id": "MDQ6VXNlcjQ4MzMxNA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/483314?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jeffwidman",
                "html_url": "https://github.com/jeffwidman",
                "followers_url": "https://api.github.com/users/jeffwidman/followers",
                "following_url": "https://api.github.com/users/jeffwidman/following{/other_user}",
                "gists_url": "https://api.github.com/users/jeffwidman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jeffwidman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jeffwidman/subscriptions",
                "organizations_url": "https://api.github.com/users/jeffwidman/orgs",
                "repos_url": "https://api.github.com/users/jeffwidman/repos",
                "events_url": "https://api.github.com/users/jeffwidman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jeffwidman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-04-05T06:34:39Z",
            "updated_at": "2016-04-05T06:34:39Z",
            "author_association": "MEMBER",
            "body": "Were you looking at the development version of the docs or the `0.10` version? \n\nIIRC, there have been some PRs that improved the uWSGI/Nginx deployment docs regarding deploying under a non-root path, not sure about other options: http://flask.pocoo.org/docs/dev/deploying/#deployment\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/233759710",
            "html_url": "https://github.com/pallets/flask/issues/1714#issuecomment-233759710",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1714",
            "id": 233759710,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzc1OTcxMA==",
            "user": {
                "login": "GregSilverman",
                "id": 1007034,
                "node_id": "MDQ6VXNlcjEwMDcwMzQ=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/1007034?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/GregSilverman",
                "html_url": "https://github.com/GregSilverman",
                "followers_url": "https://api.github.com/users/GregSilverman/followers",
                "following_url": "https://api.github.com/users/GregSilverman/following{/other_user}",
                "gists_url": "https://api.github.com/users/GregSilverman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/GregSilverman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GregSilverman/subscriptions",
                "organizations_url": "https://api.github.com/users/GregSilverman/orgs",
                "repos_url": "https://api.github.com/users/GregSilverman/repos",
                "events_url": "https://api.github.com/users/GregSilverman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/GregSilverman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-07-19T20:44:27Z",
            "updated_at": "2016-07-19T20:44:27Z",
            "author_association": "NONE",
            "body": "Thanks for the pointer to the docs. \n\nWhat is not obvious to me from this is how to reference the script's path. I do use the `--virtualenv`argument in my uwsgi startup call, but how can I tell the uwsgi startup call to manage the script name when I am not even telling it where the script is located. I've even tried using the uwsgi_param attributes `UWSGI_PYHOME` and `UWSGI_CHDIR` in my nginx.conf location directive, all to no avail. I keep getting a `ImportError: No module named run` error (run.py is where my app.run statement is).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/233777693",
            "html_url": "https://github.com/pallets/flask/issues/1714#issuecomment-233777693",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1714",
            "id": 233777693,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzc3NzY5Mw==",
            "user": {
                "login": "jeffwidman",
                "id": 483314,
                "node_id": "MDQ6VXNlcjQ4MzMxNA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/483314?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jeffwidman",
                "html_url": "https://github.com/jeffwidman",
                "followers_url": "https://api.github.com/users/jeffwidman/followers",
                "following_url": "https://api.github.com/users/jeffwidman/following{/other_user}",
                "gists_url": "https://api.github.com/users/jeffwidman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jeffwidman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jeffwidman/subscriptions",
                "organizations_url": "https://api.github.com/users/jeffwidman/orgs",
                "repos_url": "https://api.github.com/users/jeffwidman/repos",
                "events_url": "https://api.github.com/users/jeffwidman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jeffwidman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-07-19T21:51:20Z",
            "updated_at": "2016-07-19T21:52:29Z",
            "author_association": "MEMBER",
            "body": "@GregSilverman Your comment sounds more like a question and not a bug report. This issue tracker is for bugs, so if you want an answer, StackOverflow is probably a better fit.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/233790772",
            "html_url": "https://github.com/pallets/flask/issues/1714#issuecomment-233790772",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1714",
            "id": 233790772,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzMzc5MDc3Mg==",
            "user": {
                "login": "GregSilverman",
                "id": 1007034,
                "node_id": "MDQ6VXNlcjEwMDcwMzQ=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/1007034?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/GregSilverman",
                "html_url": "https://github.com/GregSilverman",
                "followers_url": "https://api.github.com/users/GregSilverman/followers",
                "following_url": "https://api.github.com/users/GregSilverman/following{/other_user}",
                "gists_url": "https://api.github.com/users/GregSilverman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/GregSilverman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GregSilverman/subscriptions",
                "organizations_url": "https://api.github.com/users/GregSilverman/orgs",
                "repos_url": "https://api.github.com/users/GregSilverman/repos",
                "events_url": "https://api.github.com/users/GregSilverman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/GregSilverman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-07-19T22:53:26Z",
            "updated_at": "2016-07-19T22:54:08Z",
            "author_association": "NONE",
            "body": "@jeffwidman: This whole issue is a question. If the documentation covered this, then it would not be an issue. I'll figure it out eventually... (^_^)\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/287246242",
            "html_url": "https://github.com/pallets/flask/issues/1714#issuecomment-287246242",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1714",
            "id": 287246242,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzI0NjI0Mg==",
            "user": {
                "login": "xmrdsc",
                "id": 1478325,
                "node_id": "MDQ6VXNlcjE0NzgzMjU=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/1478325?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/xmrdsc",
                "html_url": "https://github.com/xmrdsc",
                "followers_url": "https://api.github.com/users/xmrdsc/followers",
                "following_url": "https://api.github.com/users/xmrdsc/following{/other_user}",
                "gists_url": "https://api.github.com/users/xmrdsc/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/xmrdsc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/xmrdsc/subscriptions",
                "organizations_url": "https://api.github.com/users/xmrdsc/orgs",
                "repos_url": "https://api.github.com/users/xmrdsc/repos",
                "events_url": "https://api.github.com/users/xmrdsc/events{/privacy}",
                "received_events_url": "https://api.github.com/users/xmrdsc/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-03-17T02:02:37Z",
            "updated_at": "2017-03-17T02:03:50Z",
            "author_association": "NONE",
            "body": "+1. `url_for()` should indeed listen to `APPLICATION_ROOT` by prepending it, right?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/287263356",
            "html_url": "https://github.com/pallets/flask/issues/1714#issuecomment-287263356",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1714",
            "id": 287263356,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzI2MzM1Ng==",
            "user": {
                "login": "Larivact",
                "id": 8731884,
                "node_id": "MDQ6VXNlcjg3MzE4ODQ=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/8731884?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/Larivact",
                "html_url": "https://github.com/Larivact",
                "followers_url": "https://api.github.com/users/Larivact/followers",
                "following_url": "https://api.github.com/users/Larivact/following{/other_user}",
                "gists_url": "https://api.github.com/users/Larivact/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/Larivact/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Larivact/subscriptions",
                "organizations_url": "https://api.github.com/users/Larivact/orgs",
                "repos_url": "https://api.github.com/users/Larivact/repos",
                "events_url": "https://api.github.com/users/Larivact/events{/privacy}",
                "received_events_url": "https://api.github.com/users/Larivact/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-03-17T04:21:51Z",
            "updated_at": "2017-03-17T04:21:51Z",
            "author_association": "CONTRIBUTOR",
            "body": "@skftn no `APPLICATION_ROOT` only sets the path of the session cookie. When you want to serve your Flask app under a subpath, you have to tell your WSGI container the `SCRIPT_NAME`, see [my gist](https://gist.github.com/Larivact/1ee3bad0e53b2e2c4e40)."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/346918879",
            "html_url": "https://github.com/pallets/flask/issues/1714#issuecomment-346918879",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1714",
            "id": 346918879,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjkxODg3OQ==",
            "user": {
                "login": "Larivact",
                "id": 8731884,
                "node_id": "MDQ6VXNlcjg3MzE4ODQ=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/8731884?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/Larivact",
                "html_url": "https://github.com/Larivact",
                "followers_url": "https://api.github.com/users/Larivact/followers",
                "following_url": "https://api.github.com/users/Larivact/following{/other_user}",
                "gists_url": "https://api.github.com/users/Larivact/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/Larivact/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Larivact/subscriptions",
                "organizations_url": "https://api.github.com/users/Larivact/orgs",
                "repos_url": "https://api.github.com/users/Larivact/repos",
                "events_url": "https://api.github.com/users/Larivact/events{/privacy}",
                "received_events_url": "https://api.github.com/users/Larivact/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-11-25T04:45:22Z",
            "updated_at": "2017-11-25T04:45:22Z",
            "author_association": "CONTRIBUTOR",
            "body": "In my pull request #2210 I added the following to the `APPLICATION_ROOT` configuration value:\r\n>Note that to actually serve your Flask app under a subpath you need to tell your WSGI container the `SCRIPT_NAME` WSGI environment variable.\r\n\r\n@davidism, why did you [remove this clarification](https://github.com/pallets/flask/commit/60feecc26c60b8b6ba5349baf8d4cca5cbfed223#diff-fd40cf2be7711772de9d8316da038cceR232) in 60feecc26c60b8b6ba5349baf8d4cca5cbfed223? Is it wrong? Do the docs now again contain no info on how to serve Flask under a subpath?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/439954222",
            "html_url": "https://github.com/pallets/flask/issues/1714#issuecomment-439954222",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1714",
            "id": 439954222,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTk1NDIyMg==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-11-19T16:27:44Z",
            "updated_at": "2018-11-19T16:27:44Z",
            "author_association": "MEMBER",
            "body": "If someone would like to add to the deployment docs showing how to serve under a non-root path, I'd be happy to review a PR."
        }
    ]
}