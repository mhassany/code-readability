{
    "url": "https://api.github.com/repos/pallets/flask/issues/3194",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3194/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3194/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3194/events",
    "html_url": "https://github.com/pallets/flask/issues/3194",
    "id": 442926919,
    "node_id": "MDU6SXNzdWU0NDI5MjY5MTk=",
    "number": 3194,
    "title": "Flask can't find the app name when the project is added to Atom",
    "user": {
        "login": "zakahmad",
        "id": 5436724,
        "node_id": "MDQ6VXNlcjU0MzY3MjQ=",
        "avatar_url": "https://avatars0.githubusercontent.com/u/5436724?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zakahmad",
        "html_url": "https://github.com/zakahmad",
        "followers_url": "https://api.github.com/users/zakahmad/followers",
        "following_url": "https://api.github.com/users/zakahmad/following{/other_user}",
        "gists_url": "https://api.github.com/users/zakahmad/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zakahmad/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zakahmad/subscriptions",
        "organizations_url": "https://api.github.com/users/zakahmad/orgs",
        "repos_url": "https://api.github.com/users/zakahmad/repos",
        "events_url": "https://api.github.com/users/zakahmad/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zakahmad/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-05-10T23:29:27Z",
    "updated_at": "2019-05-13T16:00:21Z",
    "closed_at": "2019-05-13T16:00:21Z",
    "author_association": "NONE",
    "body": "### Expected  Behavior\r\nHi folks. I'm not sure if this is a Flask issue or an Atom one. The issue is Flask can't find the app name when the project is added to Atom.\r\n\r\nWhat should happen is Flask should start the app after running `flask run` when the project is added to Atom (under File -> Add Project Folder). Instead, I get this error `Error: Could not import \"hello\".`\r\n\r\nThis has happened to me in two other projects.\r\n\r\nThe immediate and obvious solution is to not add projects to Atom. I'm reporting this because there might be other implications.\r\n\r\n### Actual Behavior\r\n\r\nI started off clean, then created an app as shown in my terminal dump\r\n```\r\nzak-mbp:git zakariaahmad$ mkdir hello2\r\nzak-mbp:git zakariaahmad$ cd hello2\r\nzak-mbp:hello2 zakariaahmad$ pipenv --python 3.7\r\nCreating a virtualenv for this project\u2026\r\nPipfile: /Volumes/GoogleDrive/My Drive/git/hello2/Pipfile\r\nUsing /usr/local/opt/python/libexec/bin/python (3.7.3) to create virtualenv\u2026\r\n\u2827 Creating virtual environment...Using base prefix '/usr/local/Cellar/python/3.7.3/Frameworks/Python.framework/Versions/3.7'\r\nNew python executable in /Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG/bin/python3.7\r\nAlso creating executable in /Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG/bin/python\r\nInstalling setuptools, pip, wheel...\r\ndone.\r\nRunning virtualenv with interpreter /usr/local/opt/python/libexec/bin/python\r\n\r\n\u2714 Successfully created virtual environment!\r\nVirtualenv location: /Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG\r\nCreating a Pipfile for this project\u2026\r\nzak-mbp:hello2 zakariaahmad$ pipenv install flask\r\nInstalling flask\u2026\r\nAdding flask to Pipfile's [packages]\u2026\r\n\u2714 Installation Succeeded\r\nPipfile.lock not found, creating\u2026\r\nLocking [dev-packages] dependencies\u2026\r\nLocking [packages] dependencies\u2026\r\n\u2714 Success!\r\nUpdated Pipfile.lock (662286)!\r\nInstalling dependencies from Pipfile.lock (662286)\u2026\r\n  \ud83d\udc0d   \u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589 6/6 \u2014 00:00:01\r\nTo activate this project's virtualenv, run pipenv shell.\r\nAlternatively, run a command inside the virtualenv with pipenv run.\r\nzak-mbp:hello2 zakariaahmad$ vim hello.py\r\nzak-mbp:hello2 zakariaahmad$ cat hello.py\r\nfrom flask import Flask\r\napp = Flask(__name__)\r\n\r\n@app.route('/')\r\ndef hello_world():\r\n    return 'Hello, World!'\r\nzak-mbp:hello2 zakariaahmad$ pipenv shell\r\nLaunching subshell in virtual environment\u2026\r\nbash-3.2$  . /Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG/bin/activate\r\n(hello2) bash-3.2$ FLASK_APP=hello.py flask run\r\n * Serving Flask app \"hello.py\"\r\n * Environment: production\r\n   WARNING: Do not use the development server in a production environment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\r\n127.0.0.1 - - [10/May/2019 15:41:17] \"GET / HTTP/1.1\" 200 -\r\n^C(hello2) bash-3.2$ ls -la\r\ntotal 48\r\ndrwx------  2 zakariaahmad  staff  4096 May 10 15:39 .\r\ndrwx------  5 zakariaahmad  staff  4096 May 10 15:38 ..\r\n-rw-------  1 zakariaahmad  staff   150 May 10 15:39 Pipfile\r\n-rw-------  1 zakariaahmad  staff  4566 May 10 15:39 Pipfile.lock\r\n-rw-------  1 zakariaahmad  staff   109 May 10 15:39 hello.py\r\n(hello2) bash-3.2$ FLASK_APP=hello.py flask run\r\n * Serving Flask app \"hello.py\"\r\n * Environment: production\r\n   WARNING: Do not use the development server in a production environment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\r\n127.0.0.1 - - [10/May/2019 15:41:41] \"GET / HTTP/1.1\" 200 -\r\n^C(hello2) bash-3.2$ mkdir templates\r\n(hello2) bash-3.2$ vim templates/index.html\r\n(hello2) bash-3.2$ cat templates/index.html\r\n<!doctype html>\r\n<html>\r\n  <head>\r\n    <title>This is the title of the webpage!</title>\r\n  </head>\r\n  <body>\r\n    <p>This is an example paragraph.</p>\r\n  </body>\r\n</html>\r\n(hello2) bash-3.2$ vim hello.py\r\n(hello2) bash-3.2$ cat hello.py\r\nfrom flask import Flask\r\nfrom flask import render_template\r\napp = Flask(__name__)\r\n\r\n@app.route('/')\r\ndef hello_world():\r\n    return render_template('index.html')\r\n(hello2) bash-3.2$ FLASK_APP=hello.py flask run\r\n * Serving Flask app \"hello.py\"\r\n * Environment: production\r\n   WARNING: Do not use the development server in a production environment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\r\n127.0.0.1 - - [10/May/2019 15:44:54] \"GET / HTTP/1.1\" 200 -\r\n^C(hello2) bash-3.2$ ls -la\r\ntotal 56\r\ndrwx------  3 zakariaahmad  staff  4096 May 10 15:44 .\r\ndrwx------  5 zakariaahmad  staff  4096 May 10 15:38 ..\r\n-rw-------  1 zakariaahmad  staff   150 May 10 15:39 Pipfile\r\n-rw-------  1 zakariaahmad  staff  4566 May 10 15:39 Pipfile.lock\r\n-rw-------  1 zakariaahmad  staff   157 May 10 15:44 hello.py\r\ndrwx------  2 zakariaahmad  staff  4096 May 10 15:43 templates\r\n```\r\n\r\nNext, I added the hello2 folder project to Atom (from File -> Add Project Folder), and this is the terminal dump after adding it to Atom. As you can see, it's not changing the contents of `hello.py` nor adding any file(s) to the hello2 project that might interfere with `hello.py`. Then I receive the error shown at the end.\r\n\r\n```\r\n(hello2) bash-3.2$ cat hello.py\r\nfrom flask import Flask\r\nfrom flask import render_template\r\napp = Flask(__name__)\r\n\r\n@app.route('/')\r\ndef hello_world():\r\n    return render_template('index.html')\r\n(hello2) bash-3.2$ ls -la\r\ntotal 56\r\ndrwx------  3 zakariaahmad  staff  4096 May 10 15:44 .\r\ndrwx------  5 zakariaahmad  staff  4096 May 10 15:38 ..\r\n-rw-------  1 zakariaahmad  staff   150 May 10 15:39 Pipfile\r\n-rw-------  1 zakariaahmad  staff  4566 May 10 15:39 Pipfile.lock\r\n-rw-------  1 zakariaahmad  staff   157 May 10 15:44 hello.py\r\ndrwx------  2 zakariaahmad  staff  4096 May 10 15:43 templates\r\n(hello2) bash-3.2$ FLASK_APP=hello.py flask run\r\n * Serving Flask app \"hello.py\"\r\n * Environment: production\r\n   WARNING: Do not use the development server in a production environment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\nUsage: flask run [OPTIONS]\r\n\r\nError: Could not import \"hello\".\r\n```\r\nTraceback dump (after enabling debug mode):\r\n\r\n```\r\nflask.cli.NoAppException\r\nflask.cli.NoAppException: Could not import \"hello\".\r\n\r\nTraceback (most recent call last)\r\nFile \"/Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG/lib/python3.7/site-packages/flask/cli.py\", line 235, in locate_app\r\n__import__(module_name)\r\nDuring handling of the above exception, another exception occurred:\r\nFile \"/Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG/lib/python3.7/site-packages/flask/cli.py\", line 325, in __call__\r\nself._flush_bg_loading_exception()\r\nFile \"/Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG/lib/python3.7/site-packages/flask/cli.py\", line 313, in _flush_bg_loading_exception\r\nreraise(*exc_info)\r\nFile \"/Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG/lib/python3.7/site-packages/flask/_compat.py\", line 35, in reraise\r\nraise value\r\nFile \"/Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG/lib/python3.7/site-packages/flask/cli.py\", line 302, in _load_app\r\nself._load_unlocked()\r\nFile \"/Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG/lib/python3.7/site-packages/flask/cli.py\", line 317, in _load_unlocked\r\nself._app = rv = self.loader()\r\nFile \"/Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG/lib/python3.7/site-packages/flask/cli.py\", line 372, in load_app\r\napp = locate_app(self, import_name, name)\r\nFile \"/Users/zakariaahmad/.local/share/virtualenvs/hello2-xmwDkloG/lib/python3.7/site-packages/flask/cli.py\", line 246, in locate_app\r\n'Could not import \"{name}\".'.format(name=module_name)\r\nflask.cli.NoAppException: Could not import \"hello\".\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: 3.7.3\r\n* Flask version: 1.0.2\r\n* Werkzeug version: 0.15.2",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/491883210",
            "html_url": "https://github.com/pallets/flask/issues/3194#issuecomment-491883210",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3194",
            "id": 491883210,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTg4MzIxMA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-05-13T16:00:21Z",
            "updated_at": "2019-05-13T16:00:21Z",
            "author_association": "MEMBER",
            "body": "This sounds like an issue with your path or current working directory. `flask run` needs to be able to import the app, either because it's in the current working directory (and therefore implicitly on the path), or because you installed your project in your virtualenv. I'm not familiar with Atom, so there's not much more I can say on the subject. If you can demonstrate that this is an issue with Flask that we need to fix, and not with your project setup or Atom, I can reopen this."
        }
    ]
}