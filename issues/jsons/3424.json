{
    "url": "https://api.github.com/repos/pallets/flask/issues/3424",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3424/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3424/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3424/events",
    "html_url": "https://github.com/pallets/flask/issues/3424",
    "id": 522372768,
    "node_id": "MDU6SXNzdWU1MjIzNzI3Njg=",
    "number": 3424,
    "title": "Request fail on parsing json body with accent character",
    "user": {
        "login": "oliviercperrier",
        "id": 28421005,
        "node_id": "MDQ6VXNlcjI4NDIxMDA1",
        "avatar_url": "https://avatars0.githubusercontent.com/u/28421005?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/oliviercperrier",
        "html_url": "https://github.com/oliviercperrier",
        "followers_url": "https://api.github.com/users/oliviercperrier/followers",
        "following_url": "https://api.github.com/users/oliviercperrier/following{/other_user}",
        "gists_url": "https://api.github.com/users/oliviercperrier/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/oliviercperrier/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/oliviercperrier/subscriptions",
        "organizations_url": "https://api.github.com/users/oliviercperrier/orgs",
        "repos_url": "https://api.github.com/users/oliviercperrier/repos",
        "events_url": "https://api.github.com/users/oliviercperrier/events{/privacy}",
        "received_events_url": "https://api.github.com/users/oliviercperrier/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-11-13T17:38:54Z",
    "updated_at": "2019-11-13T18:02:27Z",
    "closed_at": "2019-11-13T18:02:26Z",
    "author_association": "NONE",
    "body": "<!-- **This issue tracker is a tool to address bugs in Flask itself.\r\nPlease use the #pocoo IRC channel on freenode or Stack Overflow for general\r\nquestions about using Flask or issues not related to Flask.** -->\r\n\r\n<!-- If you'd like to report a bug in Flask, fill out the template below. Provide\r\nany extra information that may be useful / related to your problem.\r\nIdeally, create an [MCVE](https://stackoverflow.com/help/mcve), which helps us\r\nunderstand the problem and helps check that it is not caused by something in\r\nyour code. -->\r\n\r\nI am calling an endpoint i made to update a customer. When passing my json body i get a 400 Bad request. Seems like a json body that contains accent characters is not parsed correctly by the request object.\r\n\r\nSo this is the json body im sending to my endpoint:\r\n```\r\n{\r\n  \"last_name\": \"G\u00e9linas\"\r\n}\r\n```\r\n\r\n### Expected Behavior\r\nThe `get_json` fonction should not return a 400 Bad Request\r\n```\r\nrequest.get_json(force=True)\r\n```\r\n\r\nThe `request.data` should not remove the last `}` from the body when it contains accent character\r\n```\r\nrequest.data\r\n# Should contain : \"b'{\\\\n \\\"last_name\\\": \\\"G\\\\xc3\\\\xa9linas\\\"\\\\n}'\"\r\n```\r\n\r\n### Actual Behavior\r\nWhen reaching the endpoint, i am using the request object provided by flask to retrieve the body like so: \r\n```\r\nrequest.get_json(force=True)\r\n```\r\nBut with this code, i am getting a 400 Bad Request error. So i try using raw data instead like so:\r\n``` \r\nrequest.data\r\n```\r\nI found out the request.data contains:\r\n```\r\n\"b'{\\\\n \\\"last_name\\\": \\\"G\\\\xc3\\\\xa9linas\\\"\\\\n'\"\r\n```\r\nAs you can see, there is a missing `}` at the end which brakes any call to `json.loads` function\r\n\r\n### Environment\r\n\r\n* Python version: 3.7.4\r\n* Flask version: 1.1.1\r\n* Werkzeug version: 0.16.0\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/553528122",
            "html_url": "https://github.com/pallets/flask/issues/3424#issuecomment-553528122",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3424",
            "id": 553528122,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU1MzUyODEyMg==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-11-13T18:02:26Z",
            "updated_at": "2019-11-13T18:02:26Z",
            "author_association": "MEMBER",
            "body": "I can't reproduce this issue as described. Posting the given example JSON, Flask receives the entire request body and loads it correctly.\r\n\r\nIf the body does not contain all the data, or incorrectly encoded data, that's an issue with the data you're sending. All Flask can do is try to load what it receives."
        }
    ]
}