{
    "url": "https://api.github.com/repos/pallets/flask/issues/2152",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2152/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2152/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2152/events",
    "html_url": "https://github.com/pallets/flask/pull/2152",
    "id": 200956317,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTAxNjQ2NzIz",
    "number": 2152,
    "title": "use SERVER_NAME to set host and port in app.run()",
    "user": {
        "login": "r0fls",
        "id": 1858004,
        "node_id": "MDQ6VXNlcjE4NTgwMDQ=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/1858004?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/r0fls",
        "html_url": "https://github.com/r0fls",
        "followers_url": "https://api.github.com/users/r0fls/followers",
        "following_url": "https://api.github.com/users/r0fls/following{/other_user}",
        "gists_url": "https://api.github.com/users/r0fls/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/r0fls/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/r0fls/subscriptions",
        "organizations_url": "https://api.github.com/users/r0fls/orgs",
        "repos_url": "https://api.github.com/users/r0fls/repos",
        "events_url": "https://api.github.com/users/r0fls/events{/privacy}",
        "received_events_url": "https://api.github.com/users/r0fls/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 12,
    "created_at": "2017-01-16T08:26:38Z",
    "updated_at": "2018-10-23T17:44:02Z",
    "closed_at": "2017-01-17T21:22:17Z",
    "author_association": "CONTRIBUTOR",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/2152",
        "html_url": "https://github.com/pallets/flask/pull/2152",
        "diff_url": "https://github.com/pallets/flask/pull/2152.diff",
        "patch_url": "https://github.com/pallets/flask/pull/2152.patch"
    },
    "body": "Addresses #2109 ",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/272982962",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-272982962",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 272982962,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mjk4Mjk2Mg==",
            "user": {
                "login": "r0fls",
                "id": 1858004,
                "node_id": "MDQ6VXNlcjE4NTgwMDQ=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1858004?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/r0fls",
                "html_url": "https://github.com/r0fls",
                "followers_url": "https://api.github.com/users/r0fls/followers",
                "following_url": "https://api.github.com/users/r0fls/following{/other_user}",
                "gists_url": "https://api.github.com/users/r0fls/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/r0fls/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/r0fls/subscriptions",
                "organizations_url": "https://api.github.com/users/r0fls/orgs",
                "repos_url": "https://api.github.com/users/r0fls/repos",
                "events_url": "https://api.github.com/users/r0fls/events{/privacy}",
                "received_events_url": "https://api.github.com/users/r0fls/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-16T23:12:59Z",
            "updated_at": "2017-01-16T23:12:59Z",
            "author_association": "CONTRIBUTOR",
            "body": "Yikes, thanks @jeffwidman. Any pointers on tests we could write to catch some of these types of situations?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/272985315",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-272985315",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 272985315,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mjk4NTMxNQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-16T23:31:07Z",
            "updated_at": "2017-01-16T23:31:37Z",
            "author_association": "MEMBER",
            "body": "Is there a reason you didn't include the \"set `SEVER_NAME` from `run`\" part of the issue? It would require some more thought because you can't set the config to some values such as `0.0.0.0` (even though you shouldn't be running with that anyway)."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/272985520",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-272985520",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 272985520,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mjk4NTUyMA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-16T23:32:37Z",
            "updated_at": "2017-01-16T23:32:37Z",
            "author_association": "MEMBER",
            "body": "Posted this in the linked issue, but note that this won't and can't apply to the `flask run` command, which is the recommended way to run the dev server."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/272986076",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-272986076",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 272986076,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mjk4NjA3Ng==",
            "user": {
                "login": "jeffwidman",
                "id": 483314,
                "node_id": "MDQ6VXNlcjQ4MzMxNA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/483314?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jeffwidman",
                "html_url": "https://github.com/jeffwidman",
                "followers_url": "https://api.github.com/users/jeffwidman/followers",
                "following_url": "https://api.github.com/users/jeffwidman/following{/other_user}",
                "gists_url": "https://api.github.com/users/jeffwidman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jeffwidman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jeffwidman/subscriptions",
                "organizations_url": "https://api.github.com/users/jeffwidman/orgs",
                "repos_url": "https://api.github.com/users/jeffwidman/repos",
                "events_url": "https://api.github.com/users/jeffwidman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jeffwidman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-16T23:37:23Z",
            "updated_at": "2017-01-17T01:08:54Z",
            "author_association": "MEMBER",
            "body": "I haven't looked at the original issue in depth, but you got me curious on how to use `partition` properly... played with it and looks like something like this would properly handle the double fallback from `app.run` to `SERVER_NAME` to the built-in default. And it does it separately for both host and port values so you can specify one or the other or both:\r\n\r\n    _host = '127.0.0.1'\r\n    _port = 5000\r\n    server_name = self.config.get(\"SERVER_NAME\")\r\n    if server_name:\r\n        _sn_host, _, _sn_port = server_name.partition(':')\r\n    host = host or _sn_host or _host\r\n    port = int(port or _sn_port or _port)\r\n\r\n@r0fls Feel free to use as much or as little of this as you want. I just really liked the clean/linear way your original implementation walked through the configs, so I'd hate to see your solution get too cluttered up... \r\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/273006634",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-273006634",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 273006634,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzAwNjYzNA==",
            "user": {
                "login": "r0fls",
                "id": 1858004,
                "node_id": "MDQ6VXNlcjE4NTgwMDQ=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1858004?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/r0fls",
                "html_url": "https://github.com/r0fls",
                "followers_url": "https://api.github.com/users/r0fls/followers",
                "following_url": "https://api.github.com/users/r0fls/following{/other_user}",
                "gists_url": "https://api.github.com/users/r0fls/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/r0fls/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/r0fls/subscriptions",
                "organizations_url": "https://api.github.com/users/r0fls/orgs",
                "repos_url": "https://api.github.com/users/r0fls/repos",
                "events_url": "https://api.github.com/users/r0fls/events{/privacy}",
                "received_events_url": "https://api.github.com/users/r0fls/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-17T02:31:58Z",
            "updated_at": "2017-01-17T02:31:58Z",
            "author_association": "CONTRIBUTOR",
            "body": "Should I rebase to 1 commit at this point, or does that not matter?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/273279521",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-273279521",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 273279521,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzI3OTUyMQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-17T19:51:25Z",
            "updated_at": "2017-01-17T19:51:25Z",
            "author_association": "MEMBER",
            "body": "Not sure why the Python 2.6 tests started failing, but it seems unrelated."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/273284144",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-273284144",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 273284144,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzI4NDE0NA==",
            "user": {
                "login": "r0fls",
                "id": 1858004,
                "node_id": "MDQ6VXNlcjE4NTgwMDQ=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1858004?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/r0fls",
                "html_url": "https://github.com/r0fls",
                "followers_url": "https://api.github.com/users/r0fls/followers",
                "following_url": "https://api.github.com/users/r0fls/following{/other_user}",
                "gists_url": "https://api.github.com/users/r0fls/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/r0fls/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/r0fls/subscriptions",
                "organizations_url": "https://api.github.com/users/r0fls/orgs",
                "repos_url": "https://api.github.com/users/r0fls/repos",
                "events_url": "https://api.github.com/users/r0fls/events{/privacy}",
                "received_events_url": "https://api.github.com/users/r0fls/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-17T20:08:04Z",
            "updated_at": "2017-01-17T20:08:04Z",
            "author_association": "CONTRIBUTOR",
            "body": "Ya, it looks to be a message saying 2.6 is no longer supported or maintained by the core devs."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/273303391",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-273303391",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 273303391,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzMwMzM5MQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-17T21:20:49Z",
            "updated_at": "2017-01-17T21:20:49Z",
            "author_association": "MEMBER",
            "body": "That is true but Flask still supports it. However, it appears that coverage.py no longer does."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/273306374",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-273306374",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 273306374,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzMwNjM3NA==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-17T21:31:41Z",
            "updated_at": "2017-01-17T21:31:41Z",
            "author_association": "MEMBER",
            "body": "This needs a testcase and changelog."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/273318591",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-273318591",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 273318591,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzMxODU5MQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-17T22:18:34Z",
            "updated_at": "2017-01-17T22:18:34Z",
            "author_association": "MEMBER",
            "body": "Done.\r\n\r\nRe: 2.6, it was fixed in Coverage earlier today, tests pass again. https://coverage.readthedocs.io/en/coverage-4.3.4/changes.html#version-4-3-4-2017-01-17"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/285626631",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-285626631",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 285626631,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTYyNjYzMQ==",
            "user": {
                "login": "john-bodley",
                "id": 4567245,
                "node_id": "MDQ6VXNlcjQ1NjcyNDU=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/4567245?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/john-bodley",
                "html_url": "https://github.com/john-bodley",
                "followers_url": "https://api.github.com/users/john-bodley/followers",
                "following_url": "https://api.github.com/users/john-bodley/following{/other_user}",
                "gists_url": "https://api.github.com/users/john-bodley/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/john-bodley/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/john-bodley/subscriptions",
                "organizations_url": "https://api.github.com/users/john-bodley/orgs",
                "repos_url": "https://api.github.com/users/john-bodley/repos",
                "events_url": "https://api.github.com/users/john-bodley/events{/privacy}",
                "received_events_url": "https://api.github.com/users/john-bodley/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-03-10T09:56:15Z",
            "updated_at": "2017-03-10T09:56:15Z",
            "author_association": "CONTRIBUTOR",
            "body": "@davidism I was wondering whether the docstring for the `host` param should now reflect the updated behavior, i.e. similar to `port`,  \r\n\r\n> ... or the host defined in the `SERVER_NAME` config variable if present."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/285777180",
            "html_url": "https://github.com/pallets/flask/pull/2152#issuecomment-285777180",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2152",
            "id": 285777180,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTc3NzE4MA==",
            "user": {
                "login": "jeffwidman",
                "id": 483314,
                "node_id": "MDQ6VXNlcjQ4MzMxNA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/483314?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jeffwidman",
                "html_url": "https://github.com/jeffwidman",
                "followers_url": "https://api.github.com/users/jeffwidman/followers",
                "following_url": "https://api.github.com/users/jeffwidman/following{/other_user}",
                "gists_url": "https://api.github.com/users/jeffwidman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jeffwidman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jeffwidman/subscriptions",
                "organizations_url": "https://api.github.com/users/jeffwidman/orgs",
                "repos_url": "https://api.github.com/users/jeffwidman/repos",
                "events_url": "https://api.github.com/users/jeffwidman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jeffwidman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-03-10T20:33:30Z",
            "updated_at": "2017-03-10T20:33:30Z",
            "author_association": "MEMBER",
            "body": "That is probably a good idea, do you want to open a PR?"
        }
    ]
}