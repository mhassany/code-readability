{
    "url": "https://api.github.com/repos/pallets/flask/issues/3210",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3210/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3210/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3210/events",
    "html_url": "https://github.com/pallets/flask/issues/3210",
    "id": 446888450,
    "node_id": "MDU6SXNzdWU0NDY4ODg0NTA=",
    "number": 3210,
    "title": "a problem with route",
    "user": {
        "login": "chibuchifan",
        "id": 36180428,
        "node_id": "MDQ6VXNlcjM2MTgwNDI4",
        "avatar_url": "https://avatars0.githubusercontent.com/u/36180428?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chibuchifan",
        "html_url": "https://github.com/chibuchifan",
        "followers_url": "https://api.github.com/users/chibuchifan/followers",
        "following_url": "https://api.github.com/users/chibuchifan/following{/other_user}",
        "gists_url": "https://api.github.com/users/chibuchifan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chibuchifan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chibuchifan/subscriptions",
        "organizations_url": "https://api.github.com/users/chibuchifan/orgs",
        "repos_url": "https://api.github.com/users/chibuchifan/repos",
        "events_url": "https://api.github.com/users/chibuchifan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chibuchifan/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-05-22T01:13:03Z",
    "updated_at": "2019-05-22T02:12:40Z",
    "closed_at": "2019-05-22T02:12:40Z",
    "author_association": "NONE",
    "body": "In the code below\uff1a\r\n\r\n```python\r\nfrom flask import Flask, jsonify\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route('/users/kaka')\r\ndef update_user():\r\n    return jsonify(a=1)\r\n\r\n@app.route('/users/kaka/')\r\ndef update_userss():\r\n    return jsonify(a=11)\r\n\r\nif __name__ == '__main__':\r\n    app.run(debug=True, port=3000)\r\n```\r\n\r\n\u7136\u540e\u8c03\u7528:\r\n\r\n```sh\r\nqq@zz:~$ curl http://127.0.0.1:3000/users/kaka/\r\n{\r\n  \"a\": 11\r\n}\r\nqq@zz:~$ curl http://127.0.0.1:3000/users/kaka\r\n{\r\n  \"a\": 1\r\n}\r\n# \u8fd9\u662f\u56e0\u4e3awerkzug\u4e2d\u6240\u6709\u7684\u8def\u7531\u90fd\u5b58\u5728\u4e00\u4e2a\u5217\u8868\u4e2d, \u6240\u4ee5\u6d89\u53ca\u5230\u5339\u914d\u7684\u5148\u540e\u987a\u5e8f\r\n```\r\n\r\n\u7136\u540e\u5c06\u8def\u5f84`/users/kaka`\u6700\u540e\u7684\u659c\u6760\u987a\u5e8f\u6362\u8fc7\u6765:\r\n\r\n```python\r\nfrom flask import Flask, jsonify\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route('/users/kaka/')\r\ndef update_user():\r\n    return jsonify(a=1)\r\n\r\n@app.route('/users/kaka')\r\ndef update_userss():\r\n    return jsonify(a=11)\r\n\r\nif __name__ == '__main__':\r\n    app.run(debug=True, port=3000)\r\n```\r\n\r\n\u8fd4\u56de\u7ed3\u679c:\r\n\r\n```sh\r\nqq@zz:~$ curl http://127.0.0.1:3000/users/kaka/\r\n{\r\n  \"a\": 1\r\n}\r\nqq@zz:~$ curl http://127.0.0.1:3000/users/kaka\r\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 3.2 Final//EN\">\r\n<title>Redirecting...</title>\r\n<h1>Redirecting...</h1>\r\n<p>You should be redirected automatically to target URL: <a href=\"http://127.0.0.1:3000/users/kaka/\">http://127.0.0.1:3000/users/kaka/</a>.  If not click the link.\r\n```\r\n\r\nthe diff of two is the order of `/users/haha/` is ahead or behind",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/494623755",
            "html_url": "https://github.com/pallets/flask/issues/3210#issuecomment-494623755",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3210",
            "id": 494623755,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDYyMzc1NQ==",
            "user": {
                "login": "lepture",
                "id": 290496,
                "node_id": "MDQ6VXNlcjI5MDQ5Ng==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/290496?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/lepture",
                "html_url": "https://github.com/lepture",
                "followers_url": "https://api.github.com/users/lepture/followers",
                "following_url": "https://api.github.com/users/lepture/following{/other_user}",
                "gists_url": "https://api.github.com/users/lepture/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/lepture/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lepture/subscriptions",
                "organizations_url": "https://api.github.com/users/lepture/orgs",
                "repos_url": "https://api.github.com/users/lepture/repos",
                "events_url": "https://api.github.com/users/lepture/events{/privacy}",
                "received_events_url": "https://api.github.com/users/lepture/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-05-22T02:05:37Z",
            "updated_at": "2019-05-22T02:05:37Z",
            "author_association": "MEMBER",
            "body": "http://werkzeug.palletsprojects.com/en/0.15.x/routing/#rule-format\r\n\r\n> URL rules that end with a slash are branch URLs, others are leaves. If you have strict_slashes enabled (which is the default), all branch URLs that are visited without a trailing slash will trigger a redirect to the same URL with that slash appended.\r\n\r\nYou can disable it with:\r\n\r\n```py\r\n@app.route('/users/kaka/', strict_slashes=False)\r\ndef update_user():\r\n    return jsonify(a=1)\r\n\r\n@app.route('/users/kaka')\r\ndef update_userss():\r\n    return jsonify(a=11)\r\n```"
        }
    ]
}