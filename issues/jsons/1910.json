{
    "url": "https://api.github.com/repos/pallets/flask/issues/1910",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1910/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1910/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1910/events",
    "html_url": "https://github.com/pallets/flask/pull/1910",
    "id": 160072344,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NzM2NjMxNzM=",
    "number": 1910,
    "title": "Enable template auto-reloading in app.run()",
    "user": {
        "login": "davebarkerxyz",
        "id": 5273579,
        "node_id": "MDQ6VXNlcjUyNzM1Nzk=",
        "avatar_url": "https://avatars0.githubusercontent.com/u/5273579?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davebarkerxyz",
        "html_url": "https://github.com/davebarkerxyz",
        "followers_url": "https://api.github.com/users/davebarkerxyz/followers",
        "following_url": "https://api.github.com/users/davebarkerxyz/following{/other_user}",
        "gists_url": "https://api.github.com/users/davebarkerxyz/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/davebarkerxyz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/davebarkerxyz/subscriptions",
        "organizations_url": "https://api.github.com/users/davebarkerxyz/orgs",
        "repos_url": "https://api.github.com/users/davebarkerxyz/repos",
        "events_url": "https://api.github.com/users/davebarkerxyz/events{/privacy}",
        "received_events_url": "https://api.github.com/users/davebarkerxyz/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 21,
    "created_at": "2016-06-14T00:17:08Z",
    "updated_at": "2018-10-23T17:43:50Z",
    "closed_at": "2017-06-14T16:47:43Z",
    "author_association": "CONTRIBUTOR",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/1910",
        "html_url": "https://github.com/pallets/flask/pull/1910",
        "diff_url": "https://github.com/pallets/flask/pull/1910.diff",
        "patch_url": "https://github.com/pallets/flask/pull/1910.patch"
    },
    "body": "When Flask app debugging is enabled (app.debug==True), and Jinja2\ntemplate auto-reloading is not explicitly disbaled, template\nauto-reloading should be enabled.\n\nIf the app is instantiated, the jinja_env object is accessed (thereby\ninitialising the Jinja2 environment) and the server is then started with\napp.run(debug=True), template auto-reloading is _not_ enabled.\n\nThis is because reading the jinja_env object causes the environment\ninitialisation function to set auto_reload to app.debug (which isn't yet\nTrue). Calling app.run(debug=True) should correct this in order to\nremain consistent with Flask code reloading (which is enabled within\napp.run() if debug == True).\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/225953903",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-225953903",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 225953903,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTk1MzkwMw==",
            "user": {
                "login": "jeffwidman",
                "id": 483314,
                "node_id": "MDQ6VXNlcjQ4MzMxNA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/483314?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jeffwidman",
                "html_url": "https://github.com/jeffwidman",
                "followers_url": "https://api.github.com/users/jeffwidman/followers",
                "following_url": "https://api.github.com/users/jeffwidman/following{/other_user}",
                "gists_url": "https://api.github.com/users/jeffwidman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jeffwidman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jeffwidman/subscriptions",
                "organizations_url": "https://api.github.com/users/jeffwidman/orgs",
                "repos_url": "https://api.github.com/users/jeffwidman/repos",
                "events_url": "https://api.github.com/users/jeffwidman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jeffwidman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T17:25:10Z",
            "updated_at": "2016-06-14T17:26:08Z",
            "author_association": "MEMBER",
            "body": "This looks fine to me, although I'd prefer another maintainer sign off as well before it's merged. Can you add a test though?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/225955742",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-225955742",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 225955742,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTk1NTc0Mg==",
            "user": {
                "login": "davebarkerxyz",
                "id": 5273579,
                "node_id": "MDQ6VXNlcjUyNzM1Nzk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/5273579?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davebarkerxyz",
                "html_url": "https://github.com/davebarkerxyz",
                "followers_url": "https://api.github.com/users/davebarkerxyz/followers",
                "following_url": "https://api.github.com/users/davebarkerxyz/following{/other_user}",
                "gists_url": "https://api.github.com/users/davebarkerxyz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davebarkerxyz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davebarkerxyz/subscriptions",
                "organizations_url": "https://api.github.com/users/davebarkerxyz/orgs",
                "repos_url": "https://api.github.com/users/davebarkerxyz/repos",
                "events_url": "https://api.github.com/users/davebarkerxyz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davebarkerxyz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T17:31:22Z",
            "updated_at": "2016-06-14T17:31:22Z",
            "author_association": "CONTRIBUTOR",
            "body": "No problem, I'll add a test to this later this evening. Thanks.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/225962932",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-225962932",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 225962932,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNTk2MjkzMg==",
            "user": {
                "login": "davebarkerxyz",
                "id": 5273579,
                "node_id": "MDQ6VXNlcjUyNzM1Nzk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/5273579?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davebarkerxyz",
                "html_url": "https://github.com/davebarkerxyz",
                "followers_url": "https://api.github.com/users/davebarkerxyz/followers",
                "following_url": "https://api.github.com/users/davebarkerxyz/following{/other_user}",
                "gists_url": "https://api.github.com/users/davebarkerxyz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davebarkerxyz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davebarkerxyz/subscriptions",
                "organizations_url": "https://api.github.com/users/davebarkerxyz/orgs",
                "repos_url": "https://api.github.com/users/davebarkerxyz/repos",
                "events_url": "https://api.github.com/users/davebarkerxyz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davebarkerxyz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T17:56:06Z",
            "updated_at": "2016-06-14T17:56:06Z",
            "author_association": "CONTRIBUTOR",
            "body": "I don't think so - that's the root of the problem.\n\nThe template reloader gets disabled at Flask app instantiation if it's not explicitly enabled and debug mode isn't turned on at that point.\n\nHowever, in the case if the code reloader, reloading is enabled in `app.run()` it is not explicitly disabled and debug is enabled.\n\nI think the patch harmonises the behaviour between template and code reloading (if no explicit reloading configuration and debug is enabled via `app.run(debug=True)`, reloading is set to match `debug`).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/226011493",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-226011493",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 226011493,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjAxMTQ5Mw==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T20:48:38Z",
            "updated_at": "2016-06-14T20:48:38Z",
            "author_association": "MEMBER",
            "body": "I think you're confusing the template reloader of Jinja (enabled by default) with the server reloader from Werkzeug (disabled by default).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/226012624",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-226012624",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 226012624,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjAxMjYyNA==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T20:52:45Z",
            "updated_at": "2016-06-14T20:52:59Z",
            "author_association": "MEMBER",
            "body": "And TEMPLATES_AUTO_RELOAD controls how Jinja's `auto_reload` is set. The default `None` value means that it _already depends on debug mode_ (see `create_jinja_environment`, https://github.com/pallets/flask/blob/5c12721730d18e2eddfe083cf1f6398af8915643/flask/app.py#L695)\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/226013277",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-226013277",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 226013277,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjAxMzI3Nw==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T20:55:07Z",
            "updated_at": "2016-06-14T20:55:07Z",
            "author_association": "MEMBER",
            "body": "Sorry, I see that you've figured all of this already out in https://github.com/pallets/flask/issues/1907#issuecomment-225743376. In that case I would say that we need to deduplicate that logic anyway, i.e. remove the logic for TEMPLATE_AUTO_RELOAD out of `create_jinja_environment` into `run`.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/226014399",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-226014399",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 226014399,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjAxNDM5OQ==",
            "user": {
                "login": "davebarkerxyz",
                "id": 5273579,
                "node_id": "MDQ6VXNlcjUyNzM1Nzk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/5273579?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davebarkerxyz",
                "html_url": "https://github.com/davebarkerxyz",
                "followers_url": "https://api.github.com/users/davebarkerxyz/followers",
                "following_url": "https://api.github.com/users/davebarkerxyz/following{/other_user}",
                "gists_url": "https://api.github.com/users/davebarkerxyz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davebarkerxyz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davebarkerxyz/subscriptions",
                "organizations_url": "https://api.github.com/users/davebarkerxyz/orgs",
                "repos_url": "https://api.github.com/users/davebarkerxyz/repos",
                "events_url": "https://api.github.com/users/davebarkerxyz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davebarkerxyz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T20:59:18Z",
            "updated_at": "2016-06-14T20:59:18Z",
            "author_association": "CONTRIBUTOR",
            "body": "@untitaker That's the problem. If you don't explicitly enable debug via configuration at Flask app instantiation then access the `jinja_env`, template auto reloading is disabled. If you then subsequently enable debug by starting the server with `app.run(debug=True)`, Werkzeug debugging and reloading is enabled (regardless of the fact it wasn't otherwise explicitly enabled via config) but template auto reloading isn't enabled.\n\nI think the intention is that calling `app.run(debug=True)` should enable debugging and auto reloading. It's confusing that this enables code reloading (when no explicit option is set) but doesn't enable template reloading (when no explicit option is set).\n\nSorry if I'm not explaining this very well..\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/226015434",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-226015434",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 226015434,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjAxNTQzNA==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T21:03:06Z",
            "updated_at": "2016-06-14T21:03:06Z",
            "author_association": "MEMBER",
            "body": "Yes I oversaw your post in #1907, it all makes sense.\n\nBut with this fix there's another inconsistency: If I explicitly set `app.jinja_env.auto_reload = False` and then run `app.run(debug=True)`, the value gets ignored?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/226023828",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-226023828",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 226023828,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjAyMzgyOA==",
            "user": {
                "login": "justanr",
                "id": 4221605,
                "node_id": "MDQ6VXNlcjQyMjE2MDU=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/4221605?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/justanr",
                "html_url": "https://github.com/justanr",
                "followers_url": "https://api.github.com/users/justanr/followers",
                "following_url": "https://api.github.com/users/justanr/following{/other_user}",
                "gists_url": "https://api.github.com/users/justanr/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/justanr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justanr/subscriptions",
                "organizations_url": "https://api.github.com/users/justanr/orgs",
                "repos_url": "https://api.github.com/users/justanr/repos",
                "events_url": "https://api.github.com/users/justanr/events{/privacy}",
                "received_events_url": "https://api.github.com/users/justanr/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T21:36:35Z",
            "updated_at": "2016-06-14T21:36:35Z",
            "author_association": "NONE",
            "body": "@davb5 What i meant specifically was using `options['use_reloader']` instead of just the debug flag itself. There's instanceswhen I've enabled debug but disabled reloading intentionally.   \n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/226026244",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-226026244",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 226026244,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjAyNjI0NA==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T21:47:17Z",
            "updated_at": "2016-06-14T21:47:17Z",
            "author_association": "MEMBER",
            "body": "You are confusing Werkzeug server reloading with Jinja env reloading.\n\nOn 14 June 2016 23:36:46 CEST, Alec Nikolas Reiter notifications@github.com wrote:\n\n> @davb5 What i meant specifically was using `options['use_reloader']`\n> instead of just the debug flag itself. There's instanceswhen I've\n> enabled debug but disabled reloading intentionally.   \n> \n> ---\n> \n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub:\n> https://github.com/pallets/flask/pull/1910#issuecomment-226023828\n\n## \n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/226027788",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-226027788",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 226027788,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjAyNzc4OA==",
            "user": {
                "login": "davebarkerxyz",
                "id": 5273579,
                "node_id": "MDQ6VXNlcjUyNzM1Nzk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/5273579?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davebarkerxyz",
                "html_url": "https://github.com/davebarkerxyz",
                "followers_url": "https://api.github.com/users/davebarkerxyz/followers",
                "following_url": "https://api.github.com/users/davebarkerxyz/following{/other_user}",
                "gists_url": "https://api.github.com/users/davebarkerxyz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davebarkerxyz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davebarkerxyz/subscriptions",
                "organizations_url": "https://api.github.com/users/davebarkerxyz/orgs",
                "repos_url": "https://api.github.com/users/davebarkerxyz/repos",
                "events_url": "https://api.github.com/users/davebarkerxyz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davebarkerxyz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T21:53:57Z",
            "updated_at": "2016-06-14T21:53:57Z",
            "author_association": "CONTRIBUTOR",
            "body": "Ah, I understand now @untitaker.\n\nSorry, I missed that comment. You're right in that we're clobbering any configuration set value from `create_jinja_environment`, and this probably isn't the best course of action.\n\nThe difficulty here is that between instantiating our Flask app and calling `app.run()` there are a few places that template auto reloading could be enabled or disabled.\n\nMy proposed patch works for most scenarios but fails for the one you've highlighted - if we explicitly disable template auto reloading (using any of the above mechanisms) then call `app.run(debug=True)`, we clobber our explicit disablement of template reloading. And that's probably not ideal.\n\n@justanr's comment that we might want to use `options['use_reloader']` rather than `debug` makes some sense, but could this cause further confusion by tying Jinja template autoreloading to Werkzeug reloading in one place (`app.run`) but no-where else?\n\nI think you're right in that moving the logic for TEMPLATE_AUTO_RELOAD into `app.run` might be the solution. We'd have to make sure that nothing else fails and no behaviours change as a result of template auto-reloading not being configured one way or another before `app.run` (i.e. make sure nothing expects some value to be there before `app.run`).\n\nWhat does Jinja do if  `auto_reload` is not set? Does it have a sensible default behaviour?\n\nIf so, we could probably just move that block from `create_jinja_environment` into `run` pretty much wholesale. Would this be a better solution?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/226035937",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-226035937",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 226035937,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjAzNTkzNw==",
            "user": {
                "login": "davebarkerxyz",
                "id": 5273579,
                "node_id": "MDQ6VXNlcjUyNzM1Nzk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/5273579?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davebarkerxyz",
                "html_url": "https://github.com/davebarkerxyz",
                "followers_url": "https://api.github.com/users/davebarkerxyz/followers",
                "following_url": "https://api.github.com/users/davebarkerxyz/following{/other_user}",
                "gists_url": "https://api.github.com/users/davebarkerxyz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davebarkerxyz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davebarkerxyz/subscriptions",
                "organizations_url": "https://api.github.com/users/davebarkerxyz/orgs",
                "repos_url": "https://api.github.com/users/davebarkerxyz/repos",
                "events_url": "https://api.github.com/users/davebarkerxyz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davebarkerxyz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T22:30:56Z",
            "updated_at": "2016-06-14T22:30:56Z",
            "author_association": "CONTRIBUTOR",
            "body": "Actually, that might not work without some more changes.\n\nI don't believe `run()` is called at all in WSGI apps, so that couldn't be the only place that we set `jinja_env.auto_reload`.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/226038486",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-226038486",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 226038486,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjAzODQ4Ng==",
            "user": {
                "login": "davebarkerxyz",
                "id": 5273579,
                "node_id": "MDQ6VXNlcjUyNzM1Nzk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/5273579?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davebarkerxyz",
                "html_url": "https://github.com/davebarkerxyz",
                "followers_url": "https://api.github.com/users/davebarkerxyz/followers",
                "following_url": "https://api.github.com/users/davebarkerxyz/following{/other_user}",
                "gists_url": "https://api.github.com/users/davebarkerxyz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davebarkerxyz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davebarkerxyz/subscriptions",
                "organizations_url": "https://api.github.com/users/davebarkerxyz/orgs",
                "repos_url": "https://api.github.com/users/davebarkerxyz/repos",
                "events_url": "https://api.github.com/users/davebarkerxyz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davebarkerxyz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-14T22:44:04Z",
            "updated_at": "2016-06-14T22:49:43Z",
            "author_association": "CONTRIBUTOR",
            "body": "Actually, https://github.com/pallets/flask/pull/1910#issuecomment-226035937 might not matter as I don't think the Werkzeug auto reloader works in a WSGI environment (could someone please confirm?).\n\nIf we don't auto reload code in a WSGI environment, keeping the template auto reloader configuration in `app.run()` would make sense and keep things consistent.\n\nHowever, it would appear that Jinja defaults to auto_reload=True. `test_templates_auto_reload` expects unconfigured auto reload to default to False.\n\nMoving the config code from `create_jinja_environment` would mean that between instantiating the Flask app and calling `app.run()`, the config in `app.config` would be ignored. This wouldn't work. And running it was a WSGI app would leave the reloader on by default (not the currently established behaviour).\n\nI think we'll need a different approach (clobbering the value in `app.run()` as per the original patch is starting to look more pragmatic now).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/226062895",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-226062895",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 226062895,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNjA2Mjg5NQ==",
            "user": {
                "login": "davebarkerxyz",
                "id": 5273579,
                "node_id": "MDQ6VXNlcjUyNzM1Nzk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/5273579?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davebarkerxyz",
                "html_url": "https://github.com/davebarkerxyz",
                "followers_url": "https://api.github.com/users/davebarkerxyz/followers",
                "following_url": "https://api.github.com/users/davebarkerxyz/following{/other_user}",
                "gists_url": "https://api.github.com/users/davebarkerxyz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davebarkerxyz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davebarkerxyz/subscriptions",
                "organizations_url": "https://api.github.com/users/davebarkerxyz/orgs",
                "repos_url": "https://api.github.com/users/davebarkerxyz/repos",
                "events_url": "https://api.github.com/users/davebarkerxyz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davebarkerxyz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-15T01:17:20Z",
            "updated_at": "2016-06-15T01:17:20Z",
            "author_association": "CONTRIBUTOR",
            "body": "I've added a test for the original patch (wether or not we use that solution, it's a starting point for the unit test).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/228988778",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-228988778",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 228988778,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyODk4ODc3OA==",
            "user": {
                "login": "illume",
                "id": 9541,
                "node_id": "MDQ6VXNlcjk1NDE=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/9541?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/illume",
                "html_url": "https://github.com/illume",
                "followers_url": "https://api.github.com/users/illume/followers",
                "following_url": "https://api.github.com/users/illume/following{/other_user}",
                "gists_url": "https://api.github.com/users/illume/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/illume/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/illume/subscriptions",
                "organizations_url": "https://api.github.com/users/illume/orgs",
                "repos_url": "https://api.github.com/users/illume/repos",
                "events_url": "https://api.github.com/users/illume/events{/privacy}",
                "received_events_url": "https://api.github.com/users/illume/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-28T08:44:46Z",
            "updated_at": "2016-06-28T08:45:26Z",
            "author_association": "NONE",
            "body": "A quick workaround is to enable it manually:\n\n```\nclass YourFlask(Flask):\n    def create_jinja_environment(self):\n        self.config['TEMPLATES_AUTO_RELOAD'] = True\n        return Flask.create_jinja_environment(self)\napp = YourFlask()\n```\n\nI guess this issue is blocking a lot of people who use flask to develop templates.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/230979230",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-230979230",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 230979230,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzMDk3OTIzMA==",
            "user": {
                "login": "incognitorobito",
                "id": 3013405,
                "node_id": "MDQ6VXNlcjMwMTM0MDU=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/3013405?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/incognitorobito",
                "html_url": "https://github.com/incognitorobito",
                "followers_url": "https://api.github.com/users/incognitorobito/followers",
                "following_url": "https://api.github.com/users/incognitorobito/following{/other_user}",
                "gists_url": "https://api.github.com/users/incognitorobito/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/incognitorobito/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/incognitorobito/subscriptions",
                "organizations_url": "https://api.github.com/users/incognitorobito/orgs",
                "repos_url": "https://api.github.com/users/incognitorobito/repos",
                "events_url": "https://api.github.com/users/incognitorobito/events{/privacy}",
                "received_events_url": "https://api.github.com/users/incognitorobito/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-07-07T04:57:47Z",
            "updated_at": "2016-07-07T05:04:48Z",
            "author_association": "NONE",
            "body": "Thank goodness I found this, I've been tearing my hair out for a few hours trying to figure out why my templates weren't auto updating. I guess while running apt-get upgrade I didn't notice that I had updated to 0.11.1 which has this issue. What release are you guys targeting for this fix?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/289494597",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-289494597",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 289494597,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTQ5NDU5Nw==",
            "user": {
                "login": "deelaka",
                "id": 13479441,
                "node_id": "MDQ6VXNlcjEzNDc5NDQx",
                "avatar_url": "https://avatars3.githubusercontent.com/u/13479441?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/deelaka",
                "html_url": "https://github.com/deelaka",
                "followers_url": "https://api.github.com/users/deelaka/followers",
                "following_url": "https://api.github.com/users/deelaka/following{/other_user}",
                "gists_url": "https://api.github.com/users/deelaka/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/deelaka/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/deelaka/subscriptions",
                "organizations_url": "https://api.github.com/users/deelaka/orgs",
                "repos_url": "https://api.github.com/users/deelaka/repos",
                "events_url": "https://api.github.com/users/deelaka/events{/privacy}",
                "received_events_url": "https://api.github.com/users/deelaka/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-03-27T15:44:59Z",
            "updated_at": "2017-03-27T15:44:59Z",
            "author_association": "NONE",
            "body": "Adding ` app.jinja_env.auto_reload = True` along with `app.config['TEMPLATES_AUTO_RELOAD'] = True` seems to fix."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/304125256",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-304125256",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 304125256,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDEyNTI1Ng==",
            "user": {
                "login": "kennethreitz",
                "id": 119893,
                "node_id": "MDQ6VXNlcjExOTg5Mw==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/119893?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kennethreitz",
                "html_url": "https://github.com/kennethreitz",
                "followers_url": "https://api.github.com/users/kennethreitz/followers",
                "following_url": "https://api.github.com/users/kennethreitz/following{/other_user}",
                "gists_url": "https://api.github.com/users/kennethreitz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kennethreitz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kennethreitz/subscriptions",
                "organizations_url": "https://api.github.com/users/kennethreitz/orgs",
                "repos_url": "https://api.github.com/users/kennethreitz/repos",
                "events_url": "https://api.github.com/users/kennethreitz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kennethreitz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-05-25T21:08:47Z",
            "updated_at": "2017-05-25T21:08:47Z",
            "author_association": "CONTRIBUTOR",
            "body": "needs a rebase!"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/304129793",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-304129793",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 304129793,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDEyOTc5Mw==",
            "user": {
                "login": "kennethreitz",
                "id": 119893,
                "node_id": "MDQ6VXNlcjExOTg5Mw==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/119893?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kennethreitz",
                "html_url": "https://github.com/kennethreitz",
                "followers_url": "https://api.github.com/users/kennethreitz/followers",
                "following_url": "https://api.github.com/users/kennethreitz/following{/other_user}",
                "gists_url": "https://api.github.com/users/kennethreitz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kennethreitz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kennethreitz/subscriptions",
                "organizations_url": "https://api.github.com/users/kennethreitz/orgs",
                "repos_url": "https://api.github.com/users/kennethreitz/repos",
                "events_url": "https://api.github.com/users/kennethreitz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kennethreitz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-05-25T21:28:22Z",
            "updated_at": "2017-05-25T21:28:22Z",
            "author_association": "CONTRIBUTOR",
            "body": "closing due to inactivity. please consider re-opening this pull request :)"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308491269",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-308491269",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 308491269,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODQ5MTI2OQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-14T16:48:37Z",
            "updated_at": "2017-06-14T16:48:37Z",
            "author_association": "MEMBER",
            "body": "Sorry for close/reopen spam, was trying to see if \"allow edits from maintainers\" was enabled for the PR. I'm going to continue this in another PR."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/362736427",
            "html_url": "https://github.com/pallets/flask/pull/1910#issuecomment-362736427",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1910",
            "id": 362736427,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjczNjQyNw==",
            "user": {
                "login": "GhastlyParadox",
                "id": 10239035,
                "node_id": "MDQ6VXNlcjEwMjM5MDM1",
                "avatar_url": "https://avatars2.githubusercontent.com/u/10239035?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/GhastlyParadox",
                "html_url": "https://github.com/GhastlyParadox",
                "followers_url": "https://api.github.com/users/GhastlyParadox/followers",
                "following_url": "https://api.github.com/users/GhastlyParadox/following{/other_user}",
                "gists_url": "https://api.github.com/users/GhastlyParadox/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/GhastlyParadox/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GhastlyParadox/subscriptions",
                "organizations_url": "https://api.github.com/users/GhastlyParadox/orgs",
                "repos_url": "https://api.github.com/users/GhastlyParadox/repos",
                "events_url": "https://api.github.com/users/GhastlyParadox/events{/privacy}",
                "received_events_url": "https://api.github.com/users/GhastlyParadox/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-02-02T23:12:33Z",
            "updated_at": "2018-02-03T01:53:02Z",
            "author_association": "NONE",
            "body": "So, I'm at a loss. I've tried every proposed solution I've been able to find, without luck. My locally run Flask app completely ignores any changes made to my html template files, no matter what I do. I've even redefined the location of the template folder via `template_folder=template_dir` - doesn't change a thing. Cleared browser cache, changed browsers. Nothing.\r\n\r\nI've tried every permutation of setting debug and auto_reload I can think of. I currently have it running with a solution proposed in this thread (code below) - no errors, but still it completely ignores any changes made to template html files. \r\n\r\nAm I going mad? What could I be missing?\r\n\r\nEDIT: nevermind, realized I wasn't even calling the file I'd been editing. New to flask :)"
        }
    ]
}