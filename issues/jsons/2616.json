{
    "url": "https://api.github.com/repos/pallets/flask/issues/2616",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2616/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2616/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2616/events",
    "html_url": "https://github.com/pallets/flask/issues/2616",
    "id": 293382861,
    "node_id": "MDU6SXNzdWUyOTMzODI4NjE=",
    "number": 2616,
    "title": "A setup function was called after the first request was handled",
    "user": {
        "login": "lkiarest",
        "id": 2672975,
        "node_id": "MDQ6VXNlcjI2NzI5NzU=",
        "avatar_url": "https://avatars2.githubusercontent.com/u/2672975?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lkiarest",
        "html_url": "https://github.com/lkiarest",
        "followers_url": "https://api.github.com/users/lkiarest/followers",
        "following_url": "https://api.github.com/users/lkiarest/following{/other_user}",
        "gists_url": "https://api.github.com/users/lkiarest/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lkiarest/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lkiarest/subscriptions",
        "organizations_url": "https://api.github.com/users/lkiarest/orgs",
        "repos_url": "https://api.github.com/users/lkiarest/repos",
        "events_url": "https://api.github.com/users/lkiarest/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lkiarest/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2018-02-01T02:32:13Z",
    "updated_at": "2018-02-01T03:53:22Z",
    "closed_at": "2018-02-01T03:52:31Z",
    "author_association": "NONE",
    "body": "I see that there is an suggestion saying \"To fix this make sure to import all your view modules, database models and everything related at a central place before the application starts serving requests.\"\r\n\r\nWe have encountered this problem while adding an first-installation page for our app like WordPress. Now we are using Flask-Security for user management.  When our app is visited at the first time,  the installation page will display and allow user to config the database, admin account etc. \r\n\r\nThe problem is that we need to setup the Flask-Security after the first request that providing the database setting because the Security instance can't be inited without a datastore.\r\n\r\nDo you have any suggestions about this situation ?\r\n\r\nThanks ~",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/362150671",
            "html_url": "https://github.com/pallets/flask/issues/2616#issuecomment-362150671",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2616",
            "id": 362150671,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjE1MDY3MQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-02-01T03:52:31Z",
            "updated_at": "2018-02-01T03:53:22Z",
            "author_association": "MEMBER",
            "body": "This is not how Flask works. You must configure it completely before handling requests. You weould have to build your own multiprocess aware configuration and handle that outside Flask if you want to change configuration after serving, but it is not recommended. Make configuration part of the installation process before serving.\r\n\r\nPlease use Stack Overflow for questions about your own code. This tracker is for issues related to the project itself. Be sure to include a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve)."
        }
    ]
}