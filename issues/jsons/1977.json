{
    "url": "https://api.github.com/repos/pallets/flask/issues/1977",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1977/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1977/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1977/events",
    "html_url": "https://github.com/pallets/flask/pull/1977",
    "id": 169226041,
    "node_id": "MDExOlB1bGxSZXF1ZXN0Nzk5NzMxOTc=",
    "number": 1977,
    "title": "Set __qualname__ on class-based view function",
    "user": {
        "login": "taion",
        "id": 3112159,
        "node_id": "MDQ6VXNlcjMxMTIxNTk=",
        "avatar_url": "https://avatars0.githubusercontent.com/u/3112159?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/taion",
        "html_url": "https://github.com/taion",
        "followers_url": "https://api.github.com/users/taion/followers",
        "following_url": "https://api.github.com/users/taion/following{/other_user}",
        "gists_url": "https://api.github.com/users/taion/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/taion/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/taion/subscriptions",
        "organizations_url": "https://api.github.com/users/taion/orgs",
        "repos_url": "https://api.github.com/users/taion/repos",
        "events_url": "https://api.github.com/users/taion/events{/privacy}",
        "received_events_url": "https://api.github.com/users/taion/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 17,
    "created_at": "2016-08-03T20:29:01Z",
    "updated_at": "2016-12-21T01:16:36Z",
    "closed_at": "2016-08-15T16:18:15Z",
    "author_association": "CONTRIBUTOR",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/1977",
        "html_url": "https://github.com/pallets/flask/pull/1977",
        "diff_url": "https://github.com/pallets/flask/pull/1977.diff",
        "patch_url": "https://github.com/pallets/flask/pull/1977.patch"
    },
    "body": "On Python 3, New Relic uses `__qualname__` to trace transactions. Without setting `__qualname__` in `as_view()`, I don't get meaningful accounting of transactions in New Relic on my class-based views.\n\n`__qualname__` is meaningless in Python 2, but I think it's just a harmless no-op in this context.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/237373206",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-237373206",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 237373206,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzM3MzIwNg==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-03T21:04:39Z",
            "updated_at": "2016-08-03T21:05:54Z",
            "author_association": "MEMBER",
            "body": "Would it make more sense to set it to `cls.__qualname__` (if it's defined), in case the class is nested?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/237374396",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-237374396",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 237374396,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzM3NDM5Ng==",
            "user": {
                "login": "taion",
                "id": 3112159,
                "node_id": "MDQ6VXNlcjMxMTIxNTk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3112159?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/taion",
                "html_url": "https://github.com/taion",
                "followers_url": "https://api.github.com/users/taion/followers",
                "following_url": "https://api.github.com/users/taion/following{/other_user}",
                "gists_url": "https://api.github.com/users/taion/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/taion/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/taion/subscriptions",
                "organizations_url": "https://api.github.com/users/taion/orgs",
                "repos_url": "https://api.github.com/users/taion/repos",
                "events_url": "https://api.github.com/users/taion/events{/privacy}",
                "received_events_url": "https://api.github.com/users/taion/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-03T21:08:49Z",
            "updated_at": "2016-08-03T21:08:49Z",
            "author_association": "CONTRIBUTOR",
            "body": "I feel like it would be a bit inconsistent to set `view.__qualname__` to `cls.__qualname__` but not set `view.__name__` to `cls.__name__`.\n\nIn my specific case these three strings are all actually the same, though, so I'd be fine with making that change if you think it'd make more sense.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/237378719",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-237378719",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 237378719,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzM3ODcxOQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-03T21:23:58Z",
            "updated_at": "2016-08-03T21:24:11Z",
            "author_association": "MEMBER",
            "body": "Could you go into more detail about why the current result isn't meaningful?\n\nLooks like the qualname would be `'View.as_view.<locals>.view'`, which I guess would all get lumped together as the same thing in New Relic?\n\nMaybe `View.as_view.<locals>.{name}` would be more accurate.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/237381862",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-237381862",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 237381862,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzM4MTg2Mg==",
            "user": {
                "login": "taion",
                "id": 3112159,
                "node_id": "MDQ6VXNlcjMxMTIxNTk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3112159?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/taion",
                "html_url": "https://github.com/taion",
                "followers_url": "https://api.github.com/users/taion/followers",
                "following_url": "https://api.github.com/users/taion/following{/other_user}",
                "gists_url": "https://api.github.com/users/taion/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/taion/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/taion/subscriptions",
                "organizations_url": "https://api.github.com/users/taion/orgs",
                "repos_url": "https://api.github.com/users/taion/repos",
                "events_url": "https://api.github.com/users/taion/events{/privacy}",
                "received_events_url": "https://api.github.com/users/taion/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-03T21:35:14Z",
            "updated_at": "2016-08-03T21:35:14Z",
            "author_association": "CONTRIBUTOR",
            "body": "That's exactly it.\n\nOn Python 2, results would show up under e.g. `/my_app.views:WidgetView`, `/my_app.views:WidgetListView`, `/my_app.views:OtherView`, &c.\n\nAfter upgrading to Python 3, all results now show up under `/my_app.views:View.as_view.<locals>.view`.\n\n\"How it looks in New Relic\" is a bit of a specific case, but I think it makes sense to think of the view function as being an implementation detail of how class-based views work in Flask, and that in this context it doesn't help much to directly expose it to the user. At least, that's how it works with Python 2 right now, given that this code also overrides e.g. `__module__` on the view function.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/237388909",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-237388909",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 237388909,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzM4ODkwOQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-03T22:02:24Z",
            "updated_at": "2016-08-03T22:03:38Z",
            "author_association": "MEMBER",
            "body": "How's it getting that name in Python 2?  I would expect it to be `/my_app.views:{name}`, there's no standard attribute pointing back at the class from the generated view function (unless you passed `name=WidgetView`?).\n\nAny other @pallets/devteam-flask want to weigh in?  I'm leaning towards accounting for the existing qualname, it's the most descriptive.\n\n``` python\nview.__qualname__ = '.'.join(getattr(self, '__qualname__', '').rsplit('.', 1)[-1], name)\n```\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/237390209",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-237390209",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 237390209,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzM5MDIwOQ==",
            "user": {
                "login": "taion",
                "id": 3112159,
                "node_id": "MDQ6VXNlcjMxMTIxNTk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3112159?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/taion",
                "html_url": "https://github.com/taion",
                "followers_url": "https://api.github.com/users/taion/followers",
                "following_url": "https://api.github.com/users/taion/following{/other_user}",
                "gists_url": "https://api.github.com/users/taion/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/taion/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/taion/subscriptions",
                "organizations_url": "https://api.github.com/users/taion/orgs",
                "repos_url": "https://api.github.com/users/taion/repos",
                "events_url": "https://api.github.com/users/taion/events{/privacy}",
                "received_events_url": "https://api.github.com/users/taion/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-03T22:07:39Z",
            "updated_at": "2016-08-03T22:07:39Z",
            "author_association": "CONTRIBUTOR",
            "body": "Yes, to clarify, I am passing `name='WidgetView'`, so for me, `name`, `cls.__name__`, and `cls.__qualname__` are all the same (since my class isn't nested).\n\nMy argument against using `__qualname__` there is that you already override `view.__module__`, so the fully qualified path would be something like `my_app.views.View.as_view.<locals>.WidgetView`, which I think would be confusing, since `View` is not in `my_app.views`.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/237392754",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-237392754",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 237392754,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzM5Mjc1NA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-03T22:18:25Z",
            "updated_at": "2016-08-03T22:21:01Z",
            "author_association": "MEMBER",
            "body": "I see what you mean now, since `View` subclasses don't typically override `as_view` the qualname still points at `flask.views.View.as_view`.  Still, setting qualname to something that's not actually qualname-like seems a little weird.  I'll wait for some other feedback.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/237395262",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-237395262",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 237395262,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzM5NTI2Mg==",
            "user": {
                "login": "taion",
                "id": 3112159,
                "node_id": "MDQ6VXNlcjMxMTIxNTk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3112159?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/taion",
                "html_url": "https://github.com/taion",
                "followers_url": "https://api.github.com/users/taion/followers",
                "following_url": "https://api.github.com/users/taion/following{/other_user}",
                "gists_url": "https://api.github.com/users/taion/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/taion/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/taion/subscriptions",
                "organizations_url": "https://api.github.com/users/taion/orgs",
                "repos_url": "https://api.github.com/users/taion/repos",
                "events_url": "https://api.github.com/users/taion/events{/privacy}",
                "received_events_url": "https://api.github.com/users/taion/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-03T22:29:49Z",
            "updated_at": "2016-08-03T22:29:49Z",
            "author_association": "CONTRIBUTOR",
            "body": "Worse \u2013 `__qualname__` proper is `View.as_view...`, so `view.__module__ + '.' + view.__qualname__` could actually give you something non-existent, since the module could be importing `MethodView` instead of `View`.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238345281",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-238345281",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 238345281,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODM0NTI4MQ==",
            "user": {
                "login": "taion",
                "id": 3112159,
                "node_id": "MDQ6VXNlcjMxMTIxNTk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3112159?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/taion",
                "html_url": "https://github.com/taion",
                "followers_url": "https://api.github.com/users/taion/followers",
                "following_url": "https://api.github.com/users/taion/following{/other_user}",
                "gists_url": "https://api.github.com/users/taion/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/taion/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/taion/subscriptions",
                "organizations_url": "https://api.github.com/users/taion/orgs",
                "repos_url": "https://api.github.com/users/taion/repos",
                "events_url": "https://api.github.com/users/taion/events{/privacy}",
                "received_events_url": "https://api.github.com/users/taion/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-08T19:13:53Z",
            "updated_at": "2016-08-08T19:13:53Z",
            "author_association": "CONTRIBUTOR",
            "body": "Any updates here? Should I work around this on my end for the time being?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238348941",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-238348941",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 238348941,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODM0ODk0MQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-08T19:28:04Z",
            "updated_at": "2016-08-08T19:28:04Z",
            "author_association": "MEMBER",
            "body": "I'm sure the \"subclass method has superclass qualname\" issue is present elsewhere in New Relic, how does it handle this there?  I'd rather return a value that matches the spec, even if New Relic doesn't handle it well, rather than change what qualname means.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238353412",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-238353412",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 238353412,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODM1MzQxMg==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-08T19:45:36Z",
            "updated_at": "2016-08-08T19:45:36Z",
            "author_association": "MEMBER",
            "body": "What if we do: `view.__qualname__ = view.__qualname__.rsplit('.', 1)[-1] + '.' + name`? This differs from @davidism's first proposal since it reuses the original qualname of the function.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238362491",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-238362491",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 238362491,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODM2MjQ5MQ==",
            "user": {
                "login": "taion",
                "id": 3112159,
                "node_id": "MDQ6VXNlcjMxMTIxNTk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3112159?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/taion",
                "html_url": "https://github.com/taion",
                "followers_url": "https://api.github.com/users/taion/followers",
                "following_url": "https://api.github.com/users/taion/following{/other_user}",
                "gists_url": "https://api.github.com/users/taion/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/taion/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/taion/subscriptions",
                "organizations_url": "https://api.github.com/users/taion/orgs",
                "repos_url": "https://api.github.com/users/taion/repos",
                "events_url": "https://api.github.com/users/taion/events{/privacy}",
                "received_events_url": "https://api.github.com/users/taion/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-08T20:15:31Z",
            "updated_at": "2016-08-08T20:15:31Z",
            "author_association": "CONTRIBUTOR",
            "body": "I think the value of preserving `__qualname__` here is low, because the code there is already replacing `view.__module__`.\n\nIf anything I'd invert things \u2013 if my view is `my_app.views:MyView`, and given the existing behavior that sets `view.__module__` to `my_app.views`, and assuming we have `name` as `my_view`, I think we'd want `__qualname__` to be either:\n- `MyView`\n- `my_view`\n\nI think including `View` in `__qualname__` wouldn't be useful because this code already overwrites `__module__`.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/239445505",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-239445505",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 239445505,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTQ0NTUwNQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-12T13:26:17Z",
            "updated_at": "2016-08-12T13:26:17Z",
            "author_association": "MEMBER",
            "body": "We should make `__qualname__` whatever the PEP requires it to be, which is why I think replacing the last part is most conformant.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/239510329",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-239510329",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 239510329,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTUxMDMyOQ==",
            "user": {
                "login": "taion",
                "id": 3112159,
                "node_id": "MDQ6VXNlcjMxMTIxNTk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3112159?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/taion",
                "html_url": "https://github.com/taion",
                "followers_url": "https://api.github.com/users/taion/followers",
                "following_url": "https://api.github.com/users/taion/following{/other_user}",
                "gists_url": "https://api.github.com/users/taion/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/taion/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/taion/subscriptions",
                "organizations_url": "https://api.github.com/users/taion/orgs",
                "repos_url": "https://api.github.com/users/taion/repos",
                "events_url": "https://api.github.com/users/taion/events{/privacy}",
                "received_events_url": "https://api.github.com/users/taion/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-12T17:34:49Z",
            "updated_at": "2016-08-12T17:34:49Z",
            "author_association": "CONTRIBUTOR",
            "body": "Reading through PEP 395, I'm starting to think that maybe it'd be best to drop this PR leave `__qualname__` untouched. I'm going to take a closer look at what exactly New Relic is doing here and see if there isn't a better way to do this.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/239848985",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-239848985",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 239848985,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTg0ODk4NQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-15T16:18:15Z",
            "updated_at": "2016-08-15T16:24:07Z",
            "author_association": "MEMBER",
            "body": "It sounds like they expect `__qualname__` to be the path that a function is accessed through, when it actually means the closest object where it is defined.  It might be better to work with them first to fix that disconnect, then figure out if this needs to change.  Closing this for now.\n\nFrom PEP 3155:\n\n>  As with the `__name__` attribute, the `__qualname__` attribute is computed statically and it will not automatically follow rebinding. \n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/239851204",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-239851204",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 239851204,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTg1MTIwNA==",
            "user": {
                "login": "taion",
                "id": 3112159,
                "node_id": "MDQ6VXNlcjMxMTIxNTk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3112159?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/taion",
                "html_url": "https://github.com/taion",
                "followers_url": "https://api.github.com/users/taion/followers",
                "following_url": "https://api.github.com/users/taion/following{/other_user}",
                "gists_url": "https://api.github.com/users/taion/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/taion/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/taion/subscriptions",
                "organizations_url": "https://api.github.com/users/taion/orgs",
                "repos_url": "https://api.github.com/users/taion/repos",
                "events_url": "https://api.github.com/users/taion/events{/privacy}",
                "received_events_url": "https://api.github.com/users/taion/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-15T16:26:37Z",
            "updated_at": "2016-08-15T16:26:37Z",
            "author_association": "CONTRIBUTOR",
            "body": "Yup. Thanks for your time here. \n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/268407170",
            "html_url": "https://github.com/pallets/flask/pull/1977#issuecomment-268407170",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1977",
            "id": 268407170,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODQwNzE3MA==",
            "user": {
                "login": "taion",
                "id": 3112159,
                "node_id": "MDQ6VXNlcjMxMTIxNTk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3112159?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/taion",
                "html_url": "https://github.com/taion",
                "followers_url": "https://api.github.com/users/taion/followers",
                "following_url": "https://api.github.com/users/taion/following{/other_user}",
                "gists_url": "https://api.github.com/users/taion/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/taion/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/taion/subscriptions",
                "organizations_url": "https://api.github.com/users/taion/orgs",
                "repos_url": "https://api.github.com/users/taion/repos",
                "events_url": "https://api.github.com/users/taion/events{/privacy}",
                "received_events_url": "https://api.github.com/users/taion/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-12-21T01:16:36Z",
            "updated_at": "2016-12-21T01:16:36Z",
            "author_association": "CONTRIBUTOR",
            "body": "New Relic handled this on their end in https://docs.newrelic.com/docs/release-notes/agent-release-notes/python-release-notes/python-agent-276055."
        }
    ]
}