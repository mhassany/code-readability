{
    "url": "https://api.github.com/repos/pallets/flask/issues/794",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/794/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/794/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/794/events",
    "html_url": "https://github.com/pallets/flask/issues/794",
    "id": 16449566,
    "node_id": "MDU6SXNzdWUxNjQ0OTU2Ng==",
    "number": 794,
    "title": "Pluggable Method Views broken by fix for #570",
    "user": {
        "login": "ajford",
        "id": 338633,
        "node_id": "MDQ6VXNlcjMzODYzMw==",
        "avatar_url": "https://avatars0.githubusercontent.com/u/338633?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajford",
        "html_url": "https://github.com/ajford",
        "followers_url": "https://api.github.com/users/ajford/followers",
        "following_url": "https://api.github.com/users/ajford/following{/other_user}",
        "gists_url": "https://api.github.com/users/ajford/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ajford/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ajford/subscriptions",
        "organizations_url": "https://api.github.com/users/ajford/orgs",
        "repos_url": "https://api.github.com/users/ajford/repos",
        "events_url": "https://api.github.com/users/ajford/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ajford/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 8,
    "created_at": "2013-07-07T22:33:20Z",
    "updated_at": "2016-08-21T14:55:51Z",
    "closed_at": "2013-07-24T20:26:53Z",
    "author_association": "NONE",
    "body": "So I'm not sure if this is meant to happen, but when you attempt to use MethodViews as described in the docs http://flask.pocoo.org/docs/views/#method-views-for-apis, I get an Assertion Error generated by the [app.add_url_rule](https://github.com/mitsuhiko/flask/blob/master/flask/app.py#L983) added in 661ee54bc2bc1ea0763. This commit was created to fix #570. \n\nThe MethodView example in the docs calls for registering multiple routes to the same class, which causes an AssertionError to be raised. \n\nIs there another way to create a method based set of views without causing this error to be raised? Would it be better to switch from an AssertionError to a Warning that could be ignored? \n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/20732735",
            "html_url": "https://github.com/pallets/flask/issues/794#issuecomment-20732735",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/794",
            "id": 20732735,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzMyNzM1",
            "user": {
                "login": "rplopes",
                "id": 760760,
                "node_id": "MDQ6VXNlcjc2MDc2MA==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/760760?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rplopes",
                "html_url": "https://github.com/rplopes",
                "followers_url": "https://api.github.com/users/rplopes/followers",
                "following_url": "https://api.github.com/users/rplopes/following{/other_user}",
                "gists_url": "https://api.github.com/users/rplopes/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rplopes/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rplopes/subscriptions",
                "organizations_url": "https://api.github.com/users/rplopes/orgs",
                "repos_url": "https://api.github.com/users/rplopes/repos",
                "events_url": "https://api.github.com/users/rplopes/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rplopes/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2013-07-10T10:08:11Z",
            "updated_at": "2013-07-10T10:08:11Z",
            "author_association": "NONE",
            "body": "Same problem here, as referenced in #796. Some code works for 0.9 and breaks in 0.10.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/21130931",
            "html_url": "https://github.com/pallets/flask/issues/794#issuecomment-21130931",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/794",
            "id": 21130931,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTMwOTMx",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2013-07-17T17:49:08Z",
            "updated_at": "2013-07-17T17:50:34Z",
            "author_association": "MEMBER",
            "body": "~~I suppose a quick fix for this would be to call `MethodView.as_view` for each `add_url_rule`, since this will generate a separate function for each route.~~\n\nIgnore me.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/21131348",
            "html_url": "https://github.com/pallets/flask/issues/794#issuecomment-21131348",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/794",
            "id": 21131348,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTMxMzQ4",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2013-07-17T17:54:38Z",
            "updated_at": "2013-07-17T17:55:26Z",
            "author_association": "MEMBER",
            "body": "Actually this has been fixed with 44e39ab0\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/21135241",
            "html_url": "https://github.com/pallets/flask/issues/794#issuecomment-21135241",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/794",
            "id": 21135241,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTM1MjQx",
            "user": {
                "login": "ajford",
                "id": 338633,
                "node_id": "MDQ6VXNlcjMzODYzMw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/338633?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ajford",
                "html_url": "https://github.com/ajford",
                "followers_url": "https://api.github.com/users/ajford/followers",
                "following_url": "https://api.github.com/users/ajford/following{/other_user}",
                "gists_url": "https://api.github.com/users/ajford/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ajford/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ajford/subscriptions",
                "organizations_url": "https://api.github.com/users/ajford/orgs",
                "repos_url": "https://api.github.com/users/ajford/repos",
                "events_url": "https://api.github.com/users/ajford/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ajford/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2013-07-17T18:49:38Z",
            "updated_at": "2013-07-17T18:55:09Z",
            "author_association": "NONE",
            "body": "Ok, after digging around, I figured out the problem.\n\nIf you call `MethodView.as_view` for each `add_url_rule`, the unique views for each route cause the Assertion error to be raised. \n\nIf you call `foo = MethodView.as_view()` then use `foo` for each of the `add_url_rule` calls, it will not cause the Assertion error. See  https://gist.github.com/ajford/6023148\n\nIf you run `app.py` and `app2.py` against flask 0.8, flask 0.10, you'll see that in flask 0.8, both files run, while in flask 0.10+, only `app2.py` works. \n\nNot an obvious complication. One I glossed over each time I reviewed the code and the Docs concerning `add_url_rule` and the classed based views.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/21513622",
            "html_url": "https://github.com/pallets/flask/issues/794#issuecomment-21513622",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/794",
            "id": 21513622,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTEzNjIy",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2013-07-24T20:28:23Z",
            "updated_at": "2013-07-24T20:28:23Z",
            "author_association": "MEMBER",
            "body": "Working as intended.  If you use class based views and you assign more than one rule to the same handler you need to actually use the same handler. eg: create the view function once, bind it to a local variable and then assign it multiple times.  The old behavior of silently ignoring it was dangerous as it did not inform you that you created and destroyed your handler multiple times and only the last one won.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/241221297",
            "html_url": "https://github.com/pallets/flask/issues/794#issuecomment-241221297",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/794",
            "id": 241221297,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTIyMTI5Nw==",
            "user": {
                "login": "michaelbukachi",
                "id": 10145850,
                "node_id": "MDQ6VXNlcjEwMTQ1ODUw",
                "avatar_url": "https://avatars1.githubusercontent.com/u/10145850?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/michaelbukachi",
                "html_url": "https://github.com/michaelbukachi",
                "followers_url": "https://api.github.com/users/michaelbukachi/followers",
                "following_url": "https://api.github.com/users/michaelbukachi/following{/other_user}",
                "gists_url": "https://api.github.com/users/michaelbukachi/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/michaelbukachi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/michaelbukachi/subscriptions",
                "organizations_url": "https://api.github.com/users/michaelbukachi/orgs",
                "repos_url": "https://api.github.com/users/michaelbukachi/repos",
                "events_url": "https://api.github.com/users/michaelbukachi/events{/privacy}",
                "received_events_url": "https://api.github.com/users/michaelbukachi/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-20T20:14:02Z",
            "updated_at": "2016-08-20T20:14:02Z",
            "author_association": "NONE",
            "body": "Hello, I seem to be getting this error with the latest version of flask(0.11). I've tried **ajford's** solution but its still not working.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/241261418",
            "html_url": "https://github.com/pallets/flask/issues/794#issuecomment-241261418",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/794",
            "id": 241261418,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTI2MTQxOA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-21T14:39:47Z",
            "updated_at": "2016-08-21T14:39:47Z",
            "author_association": "MEMBER",
            "body": "@michaelbukachi that solution (creating the view once and adding rules with it multiple times) is correct.  If you have questions about your own code please ask on Stack Overflow with a [Minimal, Complete, and Verifiable Example](http://stackoverflow.com/help/mcve).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/241262306",
            "html_url": "https://github.com/pallets/flask/issues/794#issuecomment-241262306",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/794",
            "id": 241262306,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTI2MjMwNg==",
            "user": {
                "login": "michaelbukachi",
                "id": 10145850,
                "node_id": "MDQ6VXNlcjEwMTQ1ODUw",
                "avatar_url": "https://avatars1.githubusercontent.com/u/10145850?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/michaelbukachi",
                "html_url": "https://github.com/michaelbukachi",
                "followers_url": "https://api.github.com/users/michaelbukachi/followers",
                "following_url": "https://api.github.com/users/michaelbukachi/following{/other_user}",
                "gists_url": "https://api.github.com/users/michaelbukachi/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/michaelbukachi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/michaelbukachi/subscriptions",
                "organizations_url": "https://api.github.com/users/michaelbukachi/orgs",
                "repos_url": "https://api.github.com/users/michaelbukachi/repos",
                "events_url": "https://api.github.com/users/michaelbukachi/events{/privacy}",
                "received_events_url": "https://api.github.com/users/michaelbukachi/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-21T14:55:51Z",
            "updated_at": "2016-08-21T14:55:51Z",
            "author_association": "NONE",
            "body": "Sorry about that. Found the bug in my code. I feel so silly:)\n"
        }
    ]
}