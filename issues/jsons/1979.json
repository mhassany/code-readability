{
    "url": "https://api.github.com/repos/pallets/flask/issues/1979",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1979/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1979/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1979/events",
    "html_url": "https://github.com/pallets/flask/issues/1979",
    "id": 169999621,
    "node_id": "MDU6SXNzdWUxNjk5OTk2MjE=",
    "number": 1979,
    "title": "flask run does not respect debug config in config files",
    "user": {
        "login": "abendebury",
        "id": 146027,
        "node_id": "MDQ6VXNlcjE0NjAyNw==",
        "avatar_url": "https://avatars1.githubusercontent.com/u/146027?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/abendebury",
        "html_url": "https://github.com/abendebury",
        "followers_url": "https://api.github.com/users/abendebury/followers",
        "following_url": "https://api.github.com/users/abendebury/following{/other_user}",
        "gists_url": "https://api.github.com/users/abendebury/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/abendebury/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/abendebury/subscriptions",
        "organizations_url": "https://api.github.com/users/abendebury/orgs",
        "repos_url": "https://api.github.com/users/abendebury/repos",
        "events_url": "https://api.github.com/users/abendebury/events{/privacy}",
        "received_events_url": "https://api.github.com/users/abendebury/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 8,
    "created_at": "2016-08-08T19:04:38Z",
    "updated_at": "2016-08-24T17:01:21Z",
    "closed_at": "2016-08-24T17:01:21Z",
    "author_association": "NONE",
    "body": "To reproduce:\n\nhttps://github.com/PlasmaSheep/flask-bug\n\nClone repo and install flask (python2)\n\n```\nexport FLASK_APP=/path/to/repo/flask-bug/autoapp.py \nflask run\n```\n\nNotice the output:\n\n```\n[$]>>> flask run\nUsing config: development\nDebug is: True\n * Serving Flask app \"autoapp\"\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n```\n\nSo debug is enabled in the config, but the debugger is not actually active.\n\nThis does work if you set the `FLASK_DEBUG` env variable:\n\n```\n[$]>>>  flask run\n * Serving Flask app \"autoapp\"\n * Forcing debug mode on\nUsing config: development\nDebug is: True\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with stat\nUsing config: development\nDebug is: True\n * Debugger is active!\n * Debugger pin code: 155-859-497\n```\n\nHowever I think that the debug parameter should be specified in only one place, and that place should be the application config file so that you don't have to worry about setting environment variables for things you already specified in the config.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/239587274",
            "html_url": "https://github.com/pallets/flask/issues/1979#issuecomment-239587274",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1979",
            "id": 239587274,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTU4NzI3NA==",
            "user": {
                "login": "abendebury",
                "id": 146027,
                "node_id": "MDQ6VXNlcjE0NjAyNw==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/146027?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/abendebury",
                "html_url": "https://github.com/abendebury",
                "followers_url": "https://api.github.com/users/abendebury/followers",
                "following_url": "https://api.github.com/users/abendebury/following{/other_user}",
                "gists_url": "https://api.github.com/users/abendebury/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/abendebury/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/abendebury/subscriptions",
                "organizations_url": "https://api.github.com/users/abendebury/orgs",
                "repos_url": "https://api.github.com/users/abendebury/repos",
                "events_url": "https://api.github.com/users/abendebury/events{/privacy}",
                "received_events_url": "https://api.github.com/users/abendebury/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-13T00:03:41Z",
            "updated_at": "2016-08-13T00:03:41Z",
            "author_association": "NONE",
            "body": "And furthermore, `FLASK_DEBUG` does not work when you are using a custom `manage.py` script:\n\n```\n>> ./manage.py run\n * Forcing debug mode on\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with stat\n * Debugger is active!\n * Debugger pin code: 155-859-497\n127.0.0.1 - - [12/Aug/2016 17:01:07] \"GET / HTTP/1.1\" 500 -\nTraceback (most recent call last):\n  File \"/home/plasma/.virtualenvs/quizApp/lib/python2.7/site-packages/click/decorators.py\", line 17, in new_func\n    return f(get_current_context(), *args, **kwargs)\n  File \"/home/plasma/.virtualenvs/quizApp/lib/python2.7/site-packages/click/globals.py\", line 26, in get_current_context\n    raise RuntimeError('There is no active click context.')\nRuntimeError: There is no active click context.\n```\n\n```\n\u2500[$]>>> cat manage.py \n#!/usr/bin/env python\n\"\"\"Management script for common operations.\n\"\"\"\nimport subprocess\nimport sys\n\nfrom flask import current_app\nfrom flask.cli import FlaskGroup\nimport click\n\nfrom quizApp import create_app\n\n@click.pass_context\ndef get_app(ctx, _):\n    \"\"\"Create an app with the correct config.\n    \"\"\"\n    return create_app(ctx.find_root().params[\"config\"])\n\n\n@click.option(\"-c\", \"--config\", default=\"development\",\n              help=\"Name of config to use for the app\")\n@click.group(cls=FlaskGroup, create_app=get_app)\ndef cli(**_):\n    \"\"\"Define the top level group.\n    \"\"\"\n    pass\n\nif __name__ == '__main__':\n    cli()\n```\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/242009667",
            "html_url": "https://github.com/pallets/flask/issues/1979#issuecomment-242009667",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1979",
            "id": 242009667,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjAwOTY2Nw==",
            "user": {
                "login": "liuliqiang",
                "id": 9395418,
                "node_id": "MDQ6VXNlcjkzOTU0MTg=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/9395418?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/liuliqiang",
                "html_url": "https://github.com/liuliqiang",
                "followers_url": "https://api.github.com/users/liuliqiang/followers",
                "following_url": "https://api.github.com/users/liuliqiang/following{/other_user}",
                "gists_url": "https://api.github.com/users/liuliqiang/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/liuliqiang/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/liuliqiang/subscriptions",
                "organizations_url": "https://api.github.com/users/liuliqiang/orgs",
                "repos_url": "https://api.github.com/users/liuliqiang/repos",
                "events_url": "https://api.github.com/users/liuliqiang/events{/privacy}",
                "received_events_url": "https://api.github.com/users/liuliqiang/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-24T09:40:07Z",
            "updated_at": "2016-08-24T09:42:04Z",
            "author_association": "NONE",
            "body": "@PlasmaSheep thks for your  good question...\n\nhowever maybe there has something mistake with your understand about debug mode.\n1. FLASK_DEBUG enviroment arg only work on `flask` command .\n\n> The flask script can also be instructed to enable the debug mode of the application automatically by exporting FLASK_DEBUG. If set to 1 debug is enabled or 0 disables it.\n\nmaybe it's pocoo's misatake for not describe it clearly.\n1. using `flask` command, it call the Flask object run function in lower level implements, so if your development config not work for command line execute. And the same, only command line would read the FLASK_DEBUG env arg, and if you using manage.py to run your app, it also not affect the debug mode. \n\nin [flask-cli.py](https://github.com/pallets/flask/blob/0.11.1/flask/cli.py) Line 402 you would see that flask command run simple_run command.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/242080506",
            "html_url": "https://github.com/pallets/flask/issues/1979#issuecomment-242080506",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1979",
            "id": 242080506,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjA4MDUwNg==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-24T14:16:02Z",
            "updated_at": "2016-08-24T14:16:02Z",
            "author_association": "MEMBER",
            "body": "@luke0922 is right about FLASK_DEBUG.\n\nFair enough about the second example. I'm not sure about whether there exists a good solution though.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/242123530",
            "html_url": "https://github.com/pallets/flask/issues/1979#issuecomment-242123530",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1979",
            "id": 242123530,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjEyMzUzMA==",
            "user": {
                "login": "abendebury",
                "id": 146027,
                "node_id": "MDQ6VXNlcjE0NjAyNw==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/146027?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/abendebury",
                "html_url": "https://github.com/abendebury",
                "followers_url": "https://api.github.com/users/abendebury/followers",
                "following_url": "https://api.github.com/users/abendebury/following{/other_user}",
                "gists_url": "https://api.github.com/users/abendebury/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/abendebury/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/abendebury/subscriptions",
                "organizations_url": "https://api.github.com/users/abendebury/orgs",
                "repos_url": "https://api.github.com/users/abendebury/repos",
                "events_url": "https://api.github.com/users/abendebury/events{/privacy}",
                "received_events_url": "https://api.github.com/users/abendebury/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-24T16:16:09Z",
            "updated_at": "2016-08-24T16:16:09Z",
            "author_association": "NONE",
            "body": "@luke0922:\n\n> FLASK_DEBUG enviroment arg only work on flask command .\n\nIn this case I am not surprised, I wish the documentation was a bit clearer though.\n\n> using flask command, it call the Flask object run function in lower level implements, so if your development config not work for command line execute. And the same, only command line would read the FLASK_DEBUG env arg, and if you using manage.py to run your app, it also not affect the debug mode.\n\nYes, but the issue is that there seems to be no way to enter debug mode when using a custom management script. The only way to use debug mode is to have an additional file which creates an application from the factory.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/242128513",
            "html_url": "https://github.com/pallets/flask/issues/1979#issuecomment-242128513",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1979",
            "id": 242128513,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjEyODUxMw==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-24T16:32:47Z",
            "updated_at": "2016-08-24T16:32:47Z",
            "author_association": "MEMBER",
            "body": "> The only way to use debug mode is to have an additional file which creates an application from the factory.\n\nI don't understand where you're getting that. You can set `app.debug=True` on the app, you don't need to call `create_app` again.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/242131692",
            "html_url": "https://github.com/pallets/flask/issues/1979#issuecomment-242131692",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1979",
            "id": 242131692,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjEzMTY5Mg==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-24T16:43:48Z",
            "updated_at": "2016-08-24T16:43:48Z",
            "author_association": "MEMBER",
            "body": "possible duplicate of #1641 \n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/242135557",
            "html_url": "https://github.com/pallets/flask/issues/1979#issuecomment-242135557",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1979",
            "id": 242135557,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjEzNTU1Nw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-24T16:56:16Z",
            "updated_at": "2016-08-24T16:56:16Z",
            "author_association": "MEMBER",
            "body": "`app.debug` just turns on debug behavior for the application, while `FLASK_DEBUG` turns on debugging (and reloading) behavior for the server as well as setting `app.debug = True`.\n\nIt's hard to go the other direction because the app may be lazy loaded, so you can't determine its debug state until it's actually loaded, which doesn't happen until after the server is started.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/242137184",
            "html_url": "https://github.com/pallets/flask/issues/1979#issuecomment-242137184",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1979",
            "id": 242137184,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjEzNzE4NA==",
            "user": {
                "login": "abendebury",
                "id": 146027,
                "node_id": "MDQ6VXNlcjE0NjAyNw==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/146027?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/abendebury",
                "html_url": "https://github.com/abendebury",
                "followers_url": "https://api.github.com/users/abendebury/followers",
                "following_url": "https://api.github.com/users/abendebury/following{/other_user}",
                "gists_url": "https://api.github.com/users/abendebury/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/abendebury/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/abendebury/subscriptions",
                "organizations_url": "https://api.github.com/users/abendebury/orgs",
                "repos_url": "https://api.github.com/users/abendebury/repos",
                "events_url": "https://api.github.com/users/abendebury/events{/privacy}",
                "received_events_url": "https://api.github.com/users/abendebury/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-24T17:01:21Z",
            "updated_at": "2016-08-24T17:01:21Z",
            "author_association": "NONE",
            "body": "> I don't understand where you're getting that. You can set app.debug=True on the app, you don't need to call create_app again.\n\nThis doesn't have the same functionality as `FLASK_DEBUG` , since it seems that reloading is only enabled on `FLASK_DEBUG`.\n\n> possible duplicate of #1641\n\nActually yes, this did not turn up in my searches. I'll close this, sorry about that.\n"
        }
    ]
}