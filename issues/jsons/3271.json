{
    "url": "https://api.github.com/repos/pallets/flask/issues/3271",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3271/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3271/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3271/events",
    "html_url": "https://github.com/pallets/flask/issues/3271",
    "id": 459863370,
    "node_id": "MDU6SXNzdWU0NTk4NjMzNzA=",
    "number": 3271,
    "title": "Blueprints with url_prefix responding in HTTP 308",
    "user": {
        "login": "khera-shanu",
        "id": 20905267,
        "node_id": "MDQ6VXNlcjIwOTA1MjY3",
        "avatar_url": "https://avatars1.githubusercontent.com/u/20905267?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/khera-shanu",
        "html_url": "https://github.com/khera-shanu",
        "followers_url": "https://api.github.com/users/khera-shanu/followers",
        "following_url": "https://api.github.com/users/khera-shanu/following{/other_user}",
        "gists_url": "https://api.github.com/users/khera-shanu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/khera-shanu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/khera-shanu/subscriptions",
        "organizations_url": "https://api.github.com/users/khera-shanu/orgs",
        "repos_url": "https://api.github.com/users/khera-shanu/repos",
        "events_url": "https://api.github.com/users/khera-shanu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/khera-shanu/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 7,
    "created_at": "2019-06-24T12:28:37Z",
    "updated_at": "2019-07-16T22:07:00Z",
    "closed_at": "2019-06-24T12:39:11Z",
    "author_association": "NONE",
    "body": "### Expected Behavior\r\n2xx response for an existing working URL\r\n\r\n\r\n### Actual Behavior\r\nblueprints with url_prefix started to respond with 308 in the latest flask (used pip)\r\n\r\n\r\n### Environment\r\n* Python version: Python 3.6.7\r\n* Flask version: 1.0.3\r\n* Werkzeug version: 0.15.4\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/504988844",
            "html_url": "https://github.com/pallets/flask/issues/3271#issuecomment-504988844",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3271",
            "id": 504988844,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDk4ODg0NA==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-06-24T12:29:40Z",
            "updated_at": "2019-06-24T12:29:40Z",
            "author_association": "MEMBER",
            "body": "Please provide a minimal piece of example code demonstrating this issue."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/504988968",
            "html_url": "https://github.com/pallets/flask/issues/3271#issuecomment-504988968",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3271",
            "id": 504988968,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDk4ODk2OA==",
            "user": {
                "login": "khera-shanu",
                "id": 20905267,
                "node_id": "MDQ6VXNlcjIwOTA1MjY3",
                "avatar_url": "https://avatars1.githubusercontent.com/u/20905267?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/khera-shanu",
                "html_url": "https://github.com/khera-shanu",
                "followers_url": "https://api.github.com/users/khera-shanu/followers",
                "following_url": "https://api.github.com/users/khera-shanu/following{/other_user}",
                "gists_url": "https://api.github.com/users/khera-shanu/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/khera-shanu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/khera-shanu/subscriptions",
                "organizations_url": "https://api.github.com/users/khera-shanu/orgs",
                "repos_url": "https://api.github.com/users/khera-shanu/repos",
                "events_url": "https://api.github.com/users/khera-shanu/events{/privacy}",
                "received_events_url": "https://api.github.com/users/khera-shanu/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-06-24T12:30:08Z",
            "updated_at": "2019-06-24T12:32:39Z",
            "author_association": "NONE",
            "body": "read the issue, code won't be required.\r\nI am getting this after latest version flask install, the whole application works on previous versions"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/504989771",
            "html_url": "https://github.com/pallets/flask/issues/3271#issuecomment-504989771",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3271",
            "id": 504989771,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDk4OTc3MQ==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-06-24T12:32:31Z",
            "updated_at": "2019-06-24T12:33:18Z",
            "author_association": "MEMBER",
            "body": "Yes, code **is** required, because you seem to be the only one with this issue. Also, you didn't mention from which version you updated..."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/504990290",
            "html_url": "https://github.com/pallets/flask/issues/3271#issuecomment-504990290",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3271",
            "id": 504990290,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDk5MDI5MA==",
            "user": {
                "login": "khera-shanu",
                "id": 20905267,
                "node_id": "MDQ6VXNlcjIwOTA1MjY3",
                "avatar_url": "https://avatars1.githubusercontent.com/u/20905267?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/khera-shanu",
                "html_url": "https://github.com/khera-shanu",
                "followers_url": "https://api.github.com/users/khera-shanu/followers",
                "following_url": "https://api.github.com/users/khera-shanu/following{/other_user}",
                "gists_url": "https://api.github.com/users/khera-shanu/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/khera-shanu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/khera-shanu/subscriptions",
                "organizations_url": "https://api.github.com/users/khera-shanu/orgs",
                "repos_url": "https://api.github.com/users/khera-shanu/repos",
                "events_url": "https://api.github.com/users/khera-shanu/events{/privacy}",
                "received_events_url": "https://api.github.com/users/khera-shanu/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-06-24T12:34:08Z",
            "updated_at": "2019-06-24T12:34:08Z",
            "author_association": "NONE",
            "body": "https://github.com/khera-shanu/large/blob/master/app/views/user.py\r\n\r\nthis is the code"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/504990648",
            "html_url": "https://github.com/pallets/flask/issues/3271#issuecomment-504990648",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3271",
            "id": 504990648,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDk5MDY0OA==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-06-24T12:35:13Z",
            "updated_at": "2019-06-24T12:35:13Z",
            "author_association": "MEMBER",
            "body": "Again, please provide a MINIMAL example demonstrating your issue. That means, a single file/snippet one can run with `flask run`."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/507923201",
            "html_url": "https://github.com/pallets/flask/issues/3271#issuecomment-507923201",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3271",
            "id": 507923201,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUwNzkyMzIwMQ==",
            "user": {
                "login": "XDfield",
                "id": 18633160,
                "node_id": "MDQ6VXNlcjE4NjMzMTYw",
                "avatar_url": "https://avatars2.githubusercontent.com/u/18633160?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/XDfield",
                "html_url": "https://github.com/XDfield",
                "followers_url": "https://api.github.com/users/XDfield/followers",
                "following_url": "https://api.github.com/users/XDfield/following{/other_user}",
                "gists_url": "https://api.github.com/users/XDfield/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/XDfield/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/XDfield/subscriptions",
                "organizations_url": "https://api.github.com/users/XDfield/orgs",
                "repos_url": "https://api.github.com/users/XDfield/repos",
                "events_url": "https://api.github.com/users/XDfield/events{/privacy}",
                "received_events_url": "https://api.github.com/users/XDfield/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-07-03T03:28:28Z",
            "updated_at": "2019-07-03T03:28:28Z",
            "author_association": "NONE",
            "body": "same here.\r\n@khera-shanu \r\ntry setting `strict_slashes` to False\r\n\r\n```python\r\napp.url_map.strict_slashes = False\r\n```"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/512006299",
            "html_url": "https://github.com/pallets/flask/issues/3271#issuecomment-512006299",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3271",
            "id": 512006299,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjAwNjI5OQ==",
            "user": {
                "login": "saltaverde",
                "id": 8617429,
                "node_id": "MDQ6VXNlcjg2MTc0Mjk=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/8617429?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/saltaverde",
                "html_url": "https://github.com/saltaverde",
                "followers_url": "https://api.github.com/users/saltaverde/followers",
                "following_url": "https://api.github.com/users/saltaverde/following{/other_user}",
                "gists_url": "https://api.github.com/users/saltaverde/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/saltaverde/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/saltaverde/subscriptions",
                "organizations_url": "https://api.github.com/users/saltaverde/orgs",
                "repos_url": "https://api.github.com/users/saltaverde/repos",
                "events_url": "https://api.github.com/users/saltaverde/events{/privacy}",
                "received_events_url": "https://api.github.com/users/saltaverde/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-07-16T22:06:59Z",
            "updated_at": "2019-07-16T22:06:59Z",
            "author_association": "NONE",
            "body": "@khera-shanu I ran into this problem when refactoring all of my app's routes into separate `Blueprint` objects. There seems to be a difference in the defaults of `Flask.route` and `Blueprint.route`. The former worked as (I) expected with respect to trailing slashes in the url.\r\n\r\nFor example\r\n```\r\napp = Flask(__name__)\r\n\r\n@app.route('/user')\r\ndef user():\r\n    . . .\r\n```\r\nwould work the same whether the request was to `/user` or `/user/`.\r\n\r\nHowever, in order to make a `Blueprint` behave this way, I had to add `strict_slashes=False` to each of the `Blueprint.route` calls.\r\n\r\nFor example\r\n```\r\nbp = Blueprint('user', __name__, url_prefix='/user')\r\n\r\n@bp.route('/', strict_slashes=False)\r\ndef user():\r\n    . . .\r\n```"
        }
    ]
}