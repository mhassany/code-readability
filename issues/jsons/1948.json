{
    "url": "https://api.github.com/repos/pallets/flask/issues/1948",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1948/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1948/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1948/events",
    "html_url": "https://github.com/pallets/flask/issues/1948",
    "id": 164301672,
    "node_id": "MDU6SXNzdWUxNjQzMDE2NzI=",
    "number": 1948,
    "title": "Documentation for Flask + mod_wsgi + pyvenv + Python 3 doesn't work",
    "user": {
        "login": "cdman",
        "id": 838250,
        "node_id": "MDQ6VXNlcjgzODI1MA==",
        "avatar_url": "https://avatars1.githubusercontent.com/u/838250?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cdman",
        "html_url": "https://github.com/cdman",
        "followers_url": "https://api.github.com/users/cdman/followers",
        "following_url": "https://api.github.com/users/cdman/following{/other_user}",
        "gists_url": "https://api.github.com/users/cdman/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cdman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cdman/subscriptions",
        "organizations_url": "https://api.github.com/users/cdman/orgs",
        "repos_url": "https://api.github.com/users/cdman/repos",
        "events_url": "https://api.github.com/users/cdman/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cdman/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 32876,
            "node_id": "MDU6TGFiZWwzMjg3Ng==",
            "url": "https://api.github.com/repos/pallets/flask/labels/docs",
            "name": "docs",
            "color": "0e8a16",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2016-07-07T12:52:37Z",
    "updated_at": "2019-10-02T18:39:09Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "It says [in the documentation](http://flask.pocoo.org/docs/0.11/deploying/mod_wsgi/) (the last section - \"Working with Virtual Environments\"):\n\n> For Python 3 add the following lines to the top of your .wsgi file:\n> \n> ```\n> activate_this = '/path/to/env/bin/activate_this.py'\n> with open(activate_this) as file_:\n>     exec(file_.read(), dict(__file__=activate_this))\n> ```\n\nHowever `activate_this.py` is no longer present in pyvenv (see http://bugs.python.org/issue21496), thus the above code doesn't work. I found a stackoverflow answer where it said that just copying `activate_this.py` from a 2.7 virtualenv might work, however I didn't go down that route.\n\nHow I managed to get it working:\n\nI added `WSGIPythonHome /path/to/env` to the top level of my apache config (ie. outside of VirtualEnv). However that might be a little to big of a hammer if people want to run multiple applications in the same Apache instance. In that case setting `python-path` on `WSGIDaemonProcess` might work (however I didn't try it out).\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/269890779",
            "html_url": "https://github.com/pallets/flask/issues/1948#issuecomment-269890779",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1948",
            "id": 269890779,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTg5MDc3OQ==",
            "user": {
                "login": "Thynix",
                "id": 199917,
                "node_id": "MDQ6VXNlcjE5OTkxNw==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/199917?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/Thynix",
                "html_url": "https://github.com/Thynix",
                "followers_url": "https://api.github.com/users/Thynix/followers",
                "following_url": "https://api.github.com/users/Thynix/following{/other_user}",
                "gists_url": "https://api.github.com/users/Thynix/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/Thynix/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Thynix/subscriptions",
                "organizations_url": "https://api.github.com/users/Thynix/orgs",
                "repos_url": "https://api.github.com/users/Thynix/repos",
                "events_url": "https://api.github.com/users/Thynix/events{/privacy}",
                "received_events_url": "https://api.github.com/users/Thynix/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-01T03:17:28Z",
            "updated_at": "2017-01-01T03:17:28Z",
            "author_association": "NONE",
            "body": "`python-home` on `WSGIDaemonProcess` also exists, but as I'm having similar problems currently I can't speak to whether it works."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/269891471",
            "html_url": "https://github.com/pallets/flask/issues/1948#issuecomment-269891471",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1948",
            "id": 269891471,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTg5MTQ3MQ==",
            "user": {
                "login": "Thynix",
                "id": 199917,
                "node_id": "MDQ6VXNlcjE5OTkxNw==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/199917?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/Thynix",
                "html_url": "https://github.com/Thynix",
                "followers_url": "https://api.github.com/users/Thynix/followers",
                "following_url": "https://api.github.com/users/Thynix/following{/other_user}",
                "gists_url": "https://api.github.com/users/Thynix/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/Thynix/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Thynix/subscriptions",
                "organizations_url": "https://api.github.com/users/Thynix/orgs",
                "repos_url": "https://api.github.com/users/Thynix/repos",
                "events_url": "https://api.github.com/users/Thynix/events{/privacy}",
                "received_events_url": "https://api.github.com/users/Thynix/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-01T03:58:18Z",
            "updated_at": "2017-01-01T03:58:18Z",
            "author_association": "NONE",
            "body": "`python-home` was added in `mod_wsgi` [version 3.4](https://modwsgi.readthedocs.io/en/latest/release-notes/version-3.4.html). I think it'd be reasonable (and once / if I get this weirdness sorted out I intend to open a pull request) to depend on this in the documentation because:\r\n\r\n* 3.4 was released [in 2012](https://github.com/GrahamDumpleton/mod_wsgi/releases/tag/3.4)\r\n* 3.5 was released [in 2014](https://github.com/GrahamDumpleton/mod_wsgi/releases/tag/3.5), contains a fix for a local privilege escalation vulnerability when using daemon mode, and the releases notes \"[recommend] that prior versions of mod_wsgi not be used.\"\r\n* Debian Jessie [ships 4.3.0](https://packages.debian.org/search?keywords=libapache2-mod-wsgi&searchon=names&suite=stable&section=all) as of this writing."
        }
    ]
}