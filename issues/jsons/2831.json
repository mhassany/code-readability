{
    "url": "https://api.github.com/repos/pallets/flask/issues/2831",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2831/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2831/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2831/events",
    "html_url": "https://github.com/pallets/flask/issues/2831",
    "id": 332950171,
    "node_id": "MDU6SXNzdWUzMzI5NTAxNzE=",
    "number": 2831,
    "title": "First example in \"Testing Flask Applications\" doc fails",
    "user": {
        "login": "anthony-aylward",
        "id": 5194001,
        "node_id": "MDQ6VXNlcjUxOTQwMDE=",
        "avatar_url": "https://avatars2.githubusercontent.com/u/5194001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/anthony-aylward",
        "html_url": "https://github.com/anthony-aylward",
        "followers_url": "https://api.github.com/users/anthony-aylward/followers",
        "following_url": "https://api.github.com/users/anthony-aylward/following{/other_user}",
        "gists_url": "https://api.github.com/users/anthony-aylward/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/anthony-aylward/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/anthony-aylward/subscriptions",
        "organizations_url": "https://api.github.com/users/anthony-aylward/orgs",
        "repos_url": "https://api.github.com/users/anthony-aylward/repos",
        "events_url": "https://api.github.com/users/anthony-aylward/events{/privacy}",
        "received_events_url": "https://api.github.com/users/anthony-aylward/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 8,
    "created_at": "2018-06-16T01:25:04Z",
    "updated_at": "2018-06-23T19:28:45Z",
    "closed_at": "2018-06-17T00:12:17Z",
    "author_association": "NONE",
    "body": "### Expected Behavior\r\n\r\nI am attempting to follow the example in [http://flask.pocoo.org/docs/1.0/testing/](http://flask.pocoo.org/docs/1.0/testing/)\r\n\r\nI expect to see all tests pass after these steps:\r\n```\r\ngit clone https://github.com/pallets/flask.git\r\ncd flask\r\ngit checkout 1.0.2\r\ncd examples/tutorial\r\npython3 -m venv venv\r\n. venv/bin/activate\r\npip install -e .\r\npip install '.[test]'\r\npytest\r\npip install pytest\r\nprintf 'import os\\nimport tempfile\\n\\nimport pytest\\n\\nfrom flaskr import flaskr\\n' > tests/test_flaskr.py\r\npytest\r\n```\r\n\r\n### Actual Behavior\r\n\r\nInstead, the result of the final pytest call is:\r\n\r\n```pytb\r\n======================= test session starts ========================\r\nplatform darwin -- Python 3.6.5, pytest-3.6.1, py-1.5.3, pluggy-0.6.0\r\nrootdir: /Users/anthonyaylward/Documents/web-projects/flask/examples/tutorial, inifile: setup.cfg\r\ncollected 24 items / 1 errors\r\n\r\n============================== ERRORS ==============================\r\n______________ ERROR collecting tests/test_flaskr.py _______________\r\nImportError while importing test module '/Users/anthonyaylward/Documents/web-projects/flask/examples/tutorial/tests/test_flaskr.py'.\r\nHint: make sure your test modules/packages have valid Python names.\r\nTraceback:\r\ntests/test_flaskr.py:6: in <module>\r\n    from flaskr import flaskr\r\nE   ImportError: cannot import name 'flaskr'\r\n!!!!!!!!!!!!! Interrupted: 1 errors during collection !!!!!!!!!!!!!!\r\n===================== 1 error in 0.52 seconds ======================\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: 3.6.5\r\n* Flask version: 1.0.2\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/397793663",
            "html_url": "https://github.com/pallets/flask/issues/2831#issuecomment-397793663",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2831",
            "id": 397793663,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5Nzc5MzY2Mw==",
            "user": {
                "login": "greyli",
                "id": 12967000,
                "node_id": "MDQ6VXNlcjEyOTY3MDAw",
                "avatar_url": "https://avatars3.githubusercontent.com/u/12967000?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/greyli",
                "html_url": "https://github.com/greyli",
                "followers_url": "https://api.github.com/users/greyli/followers",
                "following_url": "https://api.github.com/users/greyli/following{/other_user}",
                "gists_url": "https://api.github.com/users/greyli/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/greyli/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/greyli/subscriptions",
                "organizations_url": "https://api.github.com/users/greyli/orgs",
                "repos_url": "https://api.github.com/users/greyli/repos",
                "events_url": "https://api.github.com/users/greyli/events{/privacy}",
                "received_events_url": "https://api.github.com/users/greyli/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-06-16T07:21:09Z",
            "updated_at": "2018-06-16T07:22:07Z",
            "author_association": "MEMBER",
            "body": "1. Why you create a `test_flaskr.py` with only import statements in it?\r\n2. Why you want to `from flaskr import flaskr`? It's obvious that there is not a `flaskr` object in the `flaskr` package."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/397794512",
            "html_url": "https://github.com/pallets/flask/issues/2831#issuecomment-397794512",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2831",
            "id": 397794512,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5Nzc5NDUxMg==",
            "user": {
                "login": "anthony-aylward",
                "id": 5194001,
                "node_id": "MDQ6VXNlcjUxOTQwMDE=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/5194001?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/anthony-aylward",
                "html_url": "https://github.com/anthony-aylward",
                "followers_url": "https://api.github.com/users/anthony-aylward/followers",
                "following_url": "https://api.github.com/users/anthony-aylward/following{/other_user}",
                "gists_url": "https://api.github.com/users/anthony-aylward/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/anthony-aylward/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/anthony-aylward/subscriptions",
                "organizations_url": "https://api.github.com/users/anthony-aylward/orgs",
                "repos_url": "https://api.github.com/users/anthony-aylward/repos",
                "events_url": "https://api.github.com/users/anthony-aylward/events{/privacy}",
                "received_events_url": "https://api.github.com/users/anthony-aylward/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-06-16T07:38:25Z",
            "updated_at": "2018-06-16T07:50:00Z",
            "author_association": "NONE",
            "body": "1. The import statements are sufficient to reproduce the issue, so I don't think any other code is necessary for the example\r\n\r\n2. The import statements are from a code example in the section \"The Testing Skeleton\" of the article \"Testing Flask Applications\" at [http://flask.pocoo.org/docs/1.0/testing/#the-testing-skeleton](http://flask.pocoo.org/docs/1.0/testing/#the-testing-skeleton), which reads:\r\n\r\n```\r\nimport os\r\nimport tempfile\r\n\r\nimport pytest\r\n\r\nfrom flaskr import flaskr\r\n\r\n\r\n@pytest.fixture\r\ndef client():\r\n    db_fd, flaskr.app.config['DATABASE'] = tempfile.mkstemp()\r\n    flaskr.app.config['TESTING'] = True\r\n    client = flaskr.app.test_client()\r\n\r\n    with flaskr.app.app_context():\r\n        flaskr.init_db()\r\n\r\n    yield client\r\n\r\n    os.close(db_fd)\r\n    os.unlink(flaskr.app.config['DATABASE'])\r\n```\r\n\r\nWhile it seems clear that this example `test_flaskr.py` is not compatible with the current version of the `flaskr` example, I am not sure how I need to change it to correct the error. If possible, I'd like to learn how to create a working `test_flaskr.py` so I can follow along with the testing article."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/397816476",
            "html_url": "https://github.com/pallets/flask/issues/2831#issuecomment-397816476",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2831",
            "id": 397816476,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzgxNjQ3Ng==",
            "user": {
                "login": "greyli",
                "id": 12967000,
                "node_id": "MDQ6VXNlcjEyOTY3MDAw",
                "avatar_url": "https://avatars3.githubusercontent.com/u/12967000?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/greyli",
                "html_url": "https://github.com/greyli",
                "followers_url": "https://api.github.com/users/greyli/followers",
                "following_url": "https://api.github.com/users/greyli/following{/other_user}",
                "gists_url": "https://api.github.com/users/greyli/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/greyli/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/greyli/subscriptions",
                "organizations_url": "https://api.github.com/users/greyli/orgs",
                "repos_url": "https://api.github.com/users/greyli/repos",
                "events_url": "https://api.github.com/users/greyli/events{/privacy}",
                "received_events_url": "https://api.github.com/users/greyli/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-06-16T14:36:13Z",
            "updated_at": "2018-06-16T14:36:13Z",
            "author_association": "MEMBER",
            "body": "It seems that the testing doc is not updated with the new flaskr tutorial. In this case, I recommend you to use the old code before the doc is updated:\r\n```\r\n$ git checkout 0.12.4\r\n```"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/397832519",
            "html_url": "https://github.com/pallets/flask/issues/2831#issuecomment-397832519",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2831",
            "id": 397832519,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzgzMjUxOQ==",
            "user": {
                "login": "anthony-aylward",
                "id": 5194001,
                "node_id": "MDQ6VXNlcjUxOTQwMDE=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/5194001?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/anthony-aylward",
                "html_url": "https://github.com/anthony-aylward",
                "followers_url": "https://api.github.com/users/anthony-aylward/followers",
                "following_url": "https://api.github.com/users/anthony-aylward/following{/other_user}",
                "gists_url": "https://api.github.com/users/anthony-aylward/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/anthony-aylward/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/anthony-aylward/subscriptions",
                "organizations_url": "https://api.github.com/users/anthony-aylward/orgs",
                "repos_url": "https://api.github.com/users/anthony-aylward/repos",
                "events_url": "https://api.github.com/users/anthony-aylward/events{/privacy}",
                "received_events_url": "https://api.github.com/users/anthony-aylward/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-06-16T18:58:02Z",
            "updated_at": "2018-06-16T18:58:02Z",
            "author_association": "NONE",
            "body": "OK, makes sense. Thank you!"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/397845873",
            "html_url": "https://github.com/pallets/flask/issues/2831#issuecomment-397845873",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2831",
            "id": 397845873,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5Nzg0NTg3Mw==",
            "user": {
                "login": "greyli",
                "id": 12967000,
                "node_id": "MDQ6VXNlcjEyOTY3MDAw",
                "avatar_url": "https://avatars3.githubusercontent.com/u/12967000?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/greyli",
                "html_url": "https://github.com/greyli",
                "followers_url": "https://api.github.com/users/greyli/followers",
                "following_url": "https://api.github.com/users/greyli/following{/other_user}",
                "gists_url": "https://api.github.com/users/greyli/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/greyli/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/greyli/subscriptions",
                "organizations_url": "https://api.github.com/users/greyli/orgs",
                "repos_url": "https://api.github.com/users/greyli/repos",
                "events_url": "https://api.github.com/users/greyli/events{/privacy}",
                "received_events_url": "https://api.github.com/users/greyli/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-06-17T00:09:26Z",
            "updated_at": "2018-06-17T00:09:26Z",
            "author_association": "MEMBER",
            "body": "You are welcome. Please close this issue."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/399701233",
            "html_url": "https://github.com/pallets/flask/issues/2831#issuecomment-399701233",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2831",
            "id": 399701233,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTcwMTIzMw==",
            "user": {
                "login": "keithmendozasr",
                "id": 576988,
                "node_id": "MDQ6VXNlcjU3Njk4OA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/576988?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/keithmendozasr",
                "html_url": "https://github.com/keithmendozasr",
                "followers_url": "https://api.github.com/users/keithmendozasr/followers",
                "following_url": "https://api.github.com/users/keithmendozasr/following{/other_user}",
                "gists_url": "https://api.github.com/users/keithmendozasr/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/keithmendozasr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/keithmendozasr/subscriptions",
                "organizations_url": "https://api.github.com/users/keithmendozasr/orgs",
                "repos_url": "https://api.github.com/users/keithmendozasr/repos",
                "events_url": "https://api.github.com/users/keithmendozasr/events{/privacy}",
                "received_events_url": "https://api.github.com/users/keithmendozasr/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-06-23T18:59:51Z",
            "updated_at": "2018-06-23T18:59:51Z",
            "author_association": "NONE",
            "body": "Did an issue get created to update the tutorial?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/399702709",
            "html_url": "https://github.com/pallets/flask/issues/2831#issuecomment-399702709",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2831",
            "id": 399702709,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTcwMjcwOQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-06-23T19:28:21Z",
            "updated_at": "2018-06-23T19:28:21Z",
            "author_association": "MEMBER",
            "body": "The tutorial is up to date. Many pages in the docs, including this one, need updating. There's nothing *wrong* with what the page says, it just references an old code example."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/399702734",
            "html_url": "https://github.com/pallets/flask/issues/2831#issuecomment-399702734",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2831",
            "id": 399702734,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTcwMjczNA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-06-23T19:28:45Z",
            "updated_at": "2018-06-23T19:28:45Z",
            "author_association": "MEMBER",
            "body": "If you'd like to create an issue or a PR, go for it!"
        }
    ]
}