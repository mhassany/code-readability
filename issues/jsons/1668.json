{
    "url": "https://api.github.com/repos/pallets/flask/issues/1668",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1668/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1668/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1668/events",
    "html_url": "https://github.com/pallets/flask/issues/1668",
    "id": 124135473,
    "node_id": "MDU6SXNzdWUxMjQxMzU0NzM=",
    "number": 1668,
    "title": "Stream download chunked not working?",
    "user": {
        "login": "johaven",
        "id": 5459596,
        "node_id": "MDQ6VXNlcjU0NTk1OTY=",
        "avatar_url": "https://avatars0.githubusercontent.com/u/5459596?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/johaven",
        "html_url": "https://github.com/johaven",
        "followers_url": "https://api.github.com/users/johaven/followers",
        "following_url": "https://api.github.com/users/johaven/following{/other_user}",
        "gists_url": "https://api.github.com/users/johaven/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/johaven/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/johaven/subscriptions",
        "organizations_url": "https://api.github.com/users/johaven/orgs",
        "repos_url": "https://api.github.com/users/johaven/repos",
        "events_url": "https://api.github.com/users/johaven/events{/privacy}",
        "received_events_url": "https://api.github.com/users/johaven/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2015-12-28T22:30:34Z",
    "updated_at": "2016-09-02T20:44:00Z",
    "closed_at": "2016-01-04T18:53:10Z",
    "author_association": "NONE",
    "body": "Hello, i use requests to send large file like that:\n\n``` python\ndef gen():\n    with open(localpath, 'rb') as f:\n        while True:\n            print 'data'\n            data = f.read(1024)\n            if not data:\n                break\n            yield data\nr = self.session.post(url, data=gen(), allow_redirects=False, params=params)\n```\n\nOn the Flask side i get that:\n\n``` python\nwith open(ftmp, 'ab') as handle:\n    handle.write(request.stream.read())\n```\n\nBut no content is writed and i get response 400.\n\nThis is my request headers:\n\n> Transfer-Encoding: chunked\n> Content-Length:\n> User-Agent: python-requests/2.8.1\n> Connection: keep-alive\n> Host: 127.0.0.1:5000\n> Accept: _/_\n> Content-Type:\n> Accept-Encoding: gzip, deflate\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/167787163",
            "html_url": "https://github.com/pallets/flask/issues/1668#issuecomment-167787163",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1668",
            "id": 167787163,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE2Nzc4NzE2Mw==",
            "user": {
                "login": "johaven",
                "id": 5459596,
                "node_id": "MDQ6VXNlcjU0NTk1OTY=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/5459596?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/johaven",
                "html_url": "https://github.com/johaven",
                "followers_url": "https://api.github.com/users/johaven/followers",
                "following_url": "https://api.github.com/users/johaven/following{/other_user}",
                "gists_url": "https://api.github.com/users/johaven/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/johaven/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/johaven/subscriptions",
                "organizations_url": "https://api.github.com/users/johaven/orgs",
                "repos_url": "https://api.github.com/users/johaven/repos",
                "events_url": "https://api.github.com/users/johaven/events{/privacy}",
                "received_events_url": "https://api.github.com/users/johaven/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-12-29T13:23:37Z",
            "updated_at": "2015-12-29T13:23:37Z",
            "author_association": "NONE",
            "body": "It seems that requests library is not the problem.\nPlease read the attached issue.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/168767711",
            "html_url": "https://github.com/pallets/flask/issues/1668#issuecomment-168767711",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1668",
            "id": 168767711,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODc2NzcxMQ==",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-01-04T18:53:10Z",
            "updated_at": "2016-01-04T18:53:10Z",
            "author_association": "MEMBER",
            "body": "WSGI cannot accept chunked requests. Nothing I can do about this.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/244482882",
            "html_url": "https://github.com/pallets/flask/issues/1668#issuecomment-244482882",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1668",
            "id": 244482882,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDQ4Mjg4Mg==",
            "user": {
                "login": "cloneluke",
                "id": 6568361,
                "node_id": "MDQ6VXNlcjY1NjgzNjE=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/6568361?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/cloneluke",
                "html_url": "https://github.com/cloneluke",
                "followers_url": "https://api.github.com/users/cloneluke/followers",
                "following_url": "https://api.github.com/users/cloneluke/following{/other_user}",
                "gists_url": "https://api.github.com/users/cloneluke/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/cloneluke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/cloneluke/subscriptions",
                "organizations_url": "https://api.github.com/users/cloneluke/orgs",
                "repos_url": "https://api.github.com/users/cloneluke/repos",
                "events_url": "https://api.github.com/users/cloneluke/events{/privacy}",
                "received_events_url": "https://api.github.com/users/cloneluke/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-09-02T20:44:00Z",
            "updated_at": "2016-09-02T20:44:00Z",
            "author_association": "NONE",
            "body": "@mitsuhiko - Do you know if there is an open issue WSGI being worked for this chunked issue?\n"
        }
    ]
}