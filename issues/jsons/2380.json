{
    "url": "https://api.github.com/repos/pallets/flask/issues/2380",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2380/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2380/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2380/events",
    "html_url": "https://github.com/pallets/flask/issues/2380",
    "id": 236384767,
    "node_id": "MDU6SXNzdWUyMzYzODQ3Njc=",
    "number": 2380,
    "title": "Maybe view function names should not be used as default endpoints",
    "user": {
        "login": "dotSlashLu",
        "id": 3133289,
        "node_id": "MDQ6VXNlcjMxMzMyODk=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/3133289?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dotSlashLu",
        "html_url": "https://github.com/dotSlashLu",
        "followers_url": "https://api.github.com/users/dotSlashLu/followers",
        "following_url": "https://api.github.com/users/dotSlashLu/following{/other_user}",
        "gists_url": "https://api.github.com/users/dotSlashLu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dotSlashLu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dotSlashLu/subscriptions",
        "organizations_url": "https://api.github.com/users/dotSlashLu/orgs",
        "repos_url": "https://api.github.com/users/dotSlashLu/repos",
        "events_url": "https://api.github.com/users/dotSlashLu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dotSlashLu/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2017-06-16T05:38:16Z",
    "updated_at": "2017-06-16T06:12:55Z",
    "closed_at": "2017-06-16T06:12:55Z",
    "author_association": "NONE",
    "body": "Hi,\r\n\r\nIs there any reason the view function name is used as the default endpoint? Taken `view_func.__name__` as the default endpoint name I have to specify endpoints myself if my view functions are all subclassed from a same class and call a same method, or an `View function mapping is overwriting an existing endpoint function` error will be raised, which is not good for reusability.\r\n\r\nTake the example below:\r\n```python\r\nclass APIBase():\r\n    def call(self, **kwargs):\r\n        # assign url variables to self\r\n        for k, v in kwargs.iteritems():\r\n            self.setattr(k, v)\r\n        m = getattr(self, request.method)\r\n        m()\r\n\r\nclass DuckAPI(APIBase):\r\n    def post(self):\r\n        pass\r\n\r\nclass ChickenAPI(APIBase):\r\n    def post(self):\r\n        pass\r\n\r\ncontext.route('/duck/<duck_id>', *args, **kwargs)(DuckAPI().call)\r\ncontext.route('/chicken/<chicken_id>', *args, **kwargs)(ChickenAPI().call)\r\n```\r\n\r\nThis will raise `View function mapping is overwriting an existing endpoint function module_name.call`, but actually the `call` function are from different instances.\r\n\r\nI understand that typically `context.route` is used as a decorator thus having little possibility that the decorated functions' names in the same module will collide, but there're chances people like me will prefer to use it as a wrapper to define routes dynamically.\r\n\r\nWill it be better if we use `str(view_func)` as the default endpoint?\r\n\r\nI think we should at least change the error message, since the `call` in the above error message is not bound to the module it self, but described as `endpoint function {module_name}.call`. This took me a long time to trace the problem.\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308940169",
            "html_url": "https://github.com/pallets/flask/issues/2380#issuecomment-308940169",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2380",
            "id": 308940169,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODk0MDE2OQ==",
            "user": {
                "login": "RonnyPfannschmidt",
                "id": 156838,
                "node_id": "MDQ6VXNlcjE1NjgzOA==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/156838?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/RonnyPfannschmidt",
                "html_url": "https://github.com/RonnyPfannschmidt",
                "followers_url": "https://api.github.com/users/RonnyPfannschmidt/followers",
                "following_url": "https://api.github.com/users/RonnyPfannschmidt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RonnyPfannschmidt/subscriptions",
                "organizations_url": "https://api.github.com/users/RonnyPfannschmidt/orgs",
                "repos_url": "https://api.github.com/users/RonnyPfannschmidt/repos",
                "events_url": "https://api.github.com/users/RonnyPfannschmidt/events{/privacy}",
                "received_events_url": "https://api.github.com/users/RonnyPfannschmidt/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-16T05:56:59Z",
            "updated_at": "2017-06-16T05:56:59Z",
            "author_association": "CONTRIBUTOR",
            "body": "route is intended for declaration and doing it jsut right\r\n\r\nor classes there are secondary mechanisms using `add_url_rule`\r\n\r\nsee http://flask.pocoo.org/docs/0.12/views/"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308940677",
            "html_url": "https://github.com/pallets/flask/issues/2380#issuecomment-308940677",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2380",
            "id": 308940677,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODk0MDY3Nw==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-16T06:00:32Z",
            "updated_at": "2017-06-16T06:00:32Z",
            "author_association": "MEMBER",
            "body": "In addition to what @RonnyPfannschmidt already said: If you do magic or simply more complex things than registering plain functions - no matter whether you use a decorator or `add_url_rule` - you might want to specify an explicit endpoint name.\r\n\r\nUnrelated: Since you instantiate your `DuckAPI` class at import time you might want to consider using staticmethods/classmethods instead..."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308941136",
            "html_url": "https://github.com/pallets/flask/issues/2380#issuecomment-308941136",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2380",
            "id": 308941136,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODk0MTEzNg==",
            "user": {
                "login": "RonnyPfannschmidt",
                "id": 156838,
                "node_id": "MDQ6VXNlcjE1NjgzOA==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/156838?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/RonnyPfannschmidt",
                "html_url": "https://github.com/RonnyPfannschmidt",
                "followers_url": "https://api.github.com/users/RonnyPfannschmidt/followers",
                "following_url": "https://api.github.com/users/RonnyPfannschmidt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RonnyPfannschmidt/subscriptions",
                "organizations_url": "https://api.github.com/users/RonnyPfannschmidt/orgs",
                "repos_url": "https://api.github.com/users/RonnyPfannschmidt/repos",
                "events_url": "https://api.github.com/users/RonnyPfannschmidt/events{/privacy}",
                "received_events_url": "https://api.github.com/users/RonnyPfannschmidt/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-16T06:04:08Z",
            "updated_at": "2017-06-16T06:04:08Z",
            "author_association": "CONTRIBUTOR",
            "body": "http://flask.pocoo.org/docs/0.12/api/#flask.views.MethodView does what the proposed `ApiBase` in a more correct and framework integrated manner - i propose closing this issue"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308942301",
            "html_url": "https://github.com/pallets/flask/issues/2380#issuecomment-308942301",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2380",
            "id": 308942301,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODk0MjMwMQ==",
            "user": {
                "login": "dotSlashLu",
                "id": 3133289,
                "node_id": "MDQ6VXNlcjMxMzMyODk=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/3133289?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dotSlashLu",
                "html_url": "https://github.com/dotSlashLu",
                "followers_url": "https://api.github.com/users/dotSlashLu/followers",
                "following_url": "https://api.github.com/users/dotSlashLu/following{/other_user}",
                "gists_url": "https://api.github.com/users/dotSlashLu/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dotSlashLu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dotSlashLu/subscriptions",
                "organizations_url": "https://api.github.com/users/dotSlashLu/orgs",
                "repos_url": "https://api.github.com/users/dotSlashLu/repos",
                "events_url": "https://api.github.com/users/dotSlashLu/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dotSlashLu/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-16T06:12:55Z",
            "updated_at": "2017-06-16T06:12:55Z",
            "author_association": "NONE",
            "body": "Thanks for your suggestions \ud83d\udc4d "
        }
    ]
}