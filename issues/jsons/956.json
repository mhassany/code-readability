{
    "url": "https://api.github.com/repos/pallets/flask/issues/956",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/956/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/956/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/956/events",
    "html_url": "https://github.com/pallets/flask/issues/956",
    "id": 25897751,
    "node_id": "MDU6SXNzdWUyNTg5Nzc1MQ==",
    "number": 956,
    "title": "Empty response when serving files with WSGI, if app.debug is True",
    "user": {
        "login": "recognosco",
        "id": 4542358,
        "node_id": "MDQ6VXNlcjQ1NDIzNTg=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/4542358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/recognosco",
        "html_url": "https://github.com/recognosco",
        "followers_url": "https://api.github.com/users/recognosco/followers",
        "following_url": "https://api.github.com/users/recognosco/following{/other_user}",
        "gists_url": "https://api.github.com/users/recognosco/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/recognosco/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/recognosco/subscriptions",
        "organizations_url": "https://api.github.com/users/recognosco/orgs",
        "repos_url": "https://api.github.com/users/recognosco/repos",
        "events_url": "https://api.github.com/users/recognosco/events{/privacy}",
        "received_events_url": "https://api.github.com/users/recognosco/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2014-01-20T04:39:00Z",
    "updated_at": "2014-02-09T18:48:41Z",
    "closed_at": "2014-02-08T17:24:18Z",
    "author_association": "NONE",
    "body": "It is kind of understandable if Flask is deliberately not sending the Debug Page when it is serving through WSGI, even if `app.debug = True`, because Flask doesn't want the user to show that page in production by mistake. It is probably a security feature for the greater good. However, this means, Flask _assumes_ that when the user is deploying it using WSGI, it is in _production mode_. Which may or may not be true. However, we can accept it for the sake of security.\n\nThat being said, the part that does not make sense is that it is not sending any data to WSGI in this situation. The least it could do is to send the 500 error page that it would have sent by default, if app.debug was False. Seeing an **empty reply** doesn't instinctively make sense.\n\nI have setup a simple test to demonstrate the problem over here: https://github.com/recognosco/flask-uwsgi-error\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/32755809",
            "html_url": "https://github.com/pallets/flask/issues/956#issuecomment-32755809",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/956",
            "id": 32755809,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzU1ODA5",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-01-20T12:33:34Z",
            "updated_at": "2014-01-20T12:34:00Z",
            "author_association": "MEMBER",
            "body": "Flask always is serving through WSGI. The builtin server is a WSGI server from Werkzeug.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/32756107",
            "html_url": "https://github.com/pallets/flask/issues/956#issuecomment-32756107",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/956",
            "id": 32756107,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzU2MTA3",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-01-20T12:39:28Z",
            "updated_at": "2014-01-20T12:39:28Z",
            "author_association": "MEMBER",
            "body": "What you probably want to do is to use [`werkzeug.debug.DebuggedApplication`](http://werkzeug.pocoo.org/docs/debug/#werkzeug.debug.DebuggedApplication). I think you're proposing that setting `app.debug` to true makes the app wrap itself in that middleware.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/32782948",
            "html_url": "https://github.com/pallets/flask/issues/956#issuecomment-32782948",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/956",
            "id": 32782948,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzgyOTQ4",
            "user": {
                "login": "recognosco",
                "id": 4542358,
                "node_id": "MDQ6VXNlcjQ1NDIzNTg=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/4542358?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/recognosco",
                "html_url": "https://github.com/recognosco",
                "followers_url": "https://api.github.com/users/recognosco/followers",
                "following_url": "https://api.github.com/users/recognosco/following{/other_user}",
                "gists_url": "https://api.github.com/users/recognosco/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/recognosco/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/recognosco/subscriptions",
                "organizations_url": "https://api.github.com/users/recognosco/orgs",
                "repos_url": "https://api.github.com/users/recognosco/repos",
                "events_url": "https://api.github.com/users/recognosco/events{/privacy}",
                "received_events_url": "https://api.github.com/users/recognosco/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-01-20T18:09:33Z",
            "updated_at": "2014-01-20T18:09:33Z",
            "author_association": "NONE",
            "body": "@untitaker Thanks for your reply. I am just worried that when I set `app.debug = True` is sending a zero byte, empty reply instead of sending a 500 error page or even the Debug Page. So I guess, in essence, I am in a way proposing to wrap the app in that middleware when it is True. Do you think it is a valid expectation?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/32787910",
            "html_url": "https://github.com/pallets/flask/issues/956#issuecomment-32787910",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/956",
            "id": 32787910,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzg3OTEw",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-01-20T19:11:34Z",
            "updated_at": "2014-01-20T19:11:34Z",
            "author_association": "MEMBER",
            "body": "Sounds like a good idea to me, but i am not in the position to make any decisions. You should ask @mitsuhiko on IRC.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/34549743",
            "html_url": "https://github.com/pallets/flask/issues/956#issuecomment-34549743",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/956",
            "id": 34549743,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTQ5NzQz",
            "user": {
                "login": "mitsuhiko",
                "id": 7396,
                "node_id": "MDQ6VXNlcjczOTY=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mitsuhiko",
                "html_url": "https://github.com/mitsuhiko",
                "followers_url": "https://api.github.com/users/mitsuhiko/followers",
                "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}",
                "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions",
                "organizations_url": "https://api.github.com/users/mitsuhiko/orgs",
                "repos_url": "https://api.github.com/users/mitsuhiko/repos",
                "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mitsuhiko/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-02-08T17:24:18Z",
            "updated_at": "2014-02-08T17:24:18Z",
            "author_association": "MEMBER",
            "body": "Not sure I follow. There is no code that disables the debug page if it's enabled.  I'm especially not sending empty responses.  This sounds like a bug in uwsgi.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/34582202",
            "html_url": "https://github.com/pallets/flask/issues/956#issuecomment-34582202",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/956",
            "id": 34582202,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTgyMjAy",
            "user": {
                "login": "recognosco",
                "id": 4542358,
                "node_id": "MDQ6VXNlcjQ1NDIzNTg=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/4542358?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/recognosco",
                "html_url": "https://github.com/recognosco",
                "followers_url": "https://api.github.com/users/recognosco/followers",
                "following_url": "https://api.github.com/users/recognosco/following{/other_user}",
                "gists_url": "https://api.github.com/users/recognosco/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/recognosco/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/recognosco/subscriptions",
                "organizations_url": "https://api.github.com/users/recognosco/orgs",
                "repos_url": "https://api.github.com/users/recognosco/repos",
                "events_url": "https://api.github.com/users/recognosco/events{/privacy}",
                "received_events_url": "https://api.github.com/users/recognosco/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-02-09T18:48:41Z",
            "updated_at": "2014-02-09T18:48:41Z",
            "author_association": "NONE",
            "body": "@mitsuhiko i thought about that and tested with two servers - uwsgi and cherrypy. both of them are yielding empty responses. you can quickly test this out by checking this out: https://github.com/recognosco/flask-uwsgi-error\n"
        }
    ]
}