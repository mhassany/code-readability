{
    "url": "https://api.github.com/repos/pallets/flask/issues/2671",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2671/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2671/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2671/events",
    "html_url": "https://github.com/pallets/flask/issues/2671",
    "id": 308128897,
    "node_id": "MDU6SXNzdWUzMDgxMjg4OTc=",
    "number": 2671,
    "title": "HTML output is missing the last few lines.",
    "user": {
        "login": "wilphan",
        "id": 37709362,
        "node_id": "MDQ6VXNlcjM3NzA5MzYy",
        "avatar_url": "https://avatars1.githubusercontent.com/u/37709362?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wilphan",
        "html_url": "https://github.com/wilphan",
        "followers_url": "https://api.github.com/users/wilphan/followers",
        "following_url": "https://api.github.com/users/wilphan/following{/other_user}",
        "gists_url": "https://api.github.com/users/wilphan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wilphan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wilphan/subscriptions",
        "organizations_url": "https://api.github.com/users/wilphan/orgs",
        "repos_url": "https://api.github.com/users/wilphan/repos",
        "events_url": "https://api.github.com/users/wilphan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wilphan/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-03-23T18:04:16Z",
    "updated_at": "2018-03-23T23:03:51Z",
    "closed_at": "2018-03-23T18:10:29Z",
    "author_association": "NONE",
    "body": "**This issue tracker is a tool to address bugs in Flask itself.\r\nPlease use the #pocoo IRC channel on freenode or Stack Overflow for general\r\nquestions about using Flask or issues not related to Flask.**\r\n\r\nIf you'd like to report a bug in Flask, fill out the template below. Provide\r\nany any extra information that may be useful / related to your problem.\r\nIdeally, create an [MCVE](http://stackoverflow.com/help/mcve), which helps us\r\nunderstand the problem and helps check that it is not caused by something in\r\nyour code.\r\n\r\n---\r\n\r\n### Expected Behavior\r\n\r\nThe client browser should see all the HTML code, but it's missing the last few lines.\r\n\r\nI'm running CGI on Apache 2.4.29 on Windows 10.  The problem occurs in other browers on Windows and Macs.  The problem does not happen on RHEL 7, or when using the webserver built into Flask.  The output is small, about one screenful.  I tried stripping almost all the HTML and code out of the template to a bare minimum but the results were the same.  Sending HTML directly from the Python script (without using the template) has the same results.  There are also no problems when I remove Flask and just have a simple Python script over CGI.\r\n\r\ntest.py:\r\n```python\r\n#!c:/usr/lib/python2.7/python.exe\r\nfrom cgi import escape\r\nfrom flask import Flask, render_template\r\nimport os, sys\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route('/')\r\ndef index():\r\n    return render_template('layout.html', title='Test ', user='username',\r\n\t    hostnames=['host1','host2','host3','host4'])\r\n```\r\n\r\ntemplates/layout.html\r\n```\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>{{title}}</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"{{url_for('static', filename='styles.css')}}\">\r\n</head>\r\n\r\n<body>\r\n<div id=\"main\">\r\n\r\n    <p> Hello <b>{{user}}</b>, welcome.\r\n    </p>\r\n\r\n\r\n    <form action=\"/rss/\" method=\"post\">\r\n    <table id=\"main\">\r\n\t<tr>\r\n\t    <th id=\"main\">Host(s)</th>\r\n\t</tr>\r\n\t<tr>\r\n\t    <td id=\"main\">\r\n\t\t{% for hostname in hostnames %}\r\n\t\t    <label><input type=\"checkbox\" name=\"hostnames\" value=\"{{hostname}}\">{{hostname}}</label>\r\n\t\t    {% endfor %}\r\n\t    </td>\r\n\t</tr>\r\n    </table>\r\n    <br>\r\n    <br>\r\n    <input type=\"submit\" value=\"submit\" name=\"submit\">\r\n    </form>\r\n</div>\r\n\r\n</body>\r\n</html>\r\n```\r\n\r\ntest.cgi\r\n```\r\n#!c:/usr/lib/python2.7/python.exe\r\nfrom wsgiref.handlers import CGIHandler\r\nfrom test import app\r\n\r\nCGIHandler().run(app)\r\n```\r\n\r\n\r\n### Environment\r\n\r\n* Python version:  2.7.13\r\n* Flask version:  0.12.2\r\n* Werkzeug version:  0.12.2\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/375754658",
            "html_url": "https://github.com/pallets/flask/issues/2671#issuecomment-375754658",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2671",
            "id": 375754658,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTc1NDY1OA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-03-23T18:10:29Z",
            "updated_at": "2018-03-23T18:12:01Z",
            "author_association": "MEMBER",
            "body": "Please use Stack Overflow for questions about your own code. This tracker is for issues related to the project itself. Be sure to include a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve).\r\n\r\nThat said, I strongly suggest you use mod_wsgi on Apache instead of CGI."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/375820686",
            "html_url": "https://github.com/pallets/flask/issues/2671#issuecomment-375820686",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2671",
            "id": 375820686,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTgyMDY4Ng==",
            "user": {
                "login": "wilphan",
                "id": 37709362,
                "node_id": "MDQ6VXNlcjM3NzA5MzYy",
                "avatar_url": "https://avatars1.githubusercontent.com/u/37709362?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/wilphan",
                "html_url": "https://github.com/wilphan",
                "followers_url": "https://api.github.com/users/wilphan/followers",
                "following_url": "https://api.github.com/users/wilphan/following{/other_user}",
                "gists_url": "https://api.github.com/users/wilphan/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/wilphan/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wilphan/subscriptions",
                "organizations_url": "https://api.github.com/users/wilphan/orgs",
                "repos_url": "https://api.github.com/users/wilphan/repos",
                "events_url": "https://api.github.com/users/wilphan/events{/privacy}",
                "received_events_url": "https://api.github.com/users/wilphan/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-03-23T23:03:50Z",
            "updated_at": "2018-03-23T23:03:50Z",
            "author_association": "NONE",
            "body": "I actually think this might be a bug in Flask.  Or at least a bug in how\nFlask operates with Apache on Windows.  Not a problem with my code.  I'll\nlook for solutions elsewhere.\n\nOn Fri, Mar 23, 2018 at 11:11 AM, David Lord <notifications@github.com>\nwrote:\n\n> Please use Stack Overflow for questions about your own code. This tracker\n> is for issues related to the project itself. Be sure to include a minimal,\n> complete, and verifiable example <https://stackoverflow.com/help/mcve>.\n>\n> \u2014\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pallets/flask/issues/2671#issuecomment-375754658>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/Aj9mMqwK79w4wTwqXRJm3LiLjU8tlzJSks5thTrcgaJpZM4S5KAy>\n> .\n>\n"
        }
    ]
}