{
    "url": "https://api.github.com/repos/pallets/flask/issues/2669",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2669/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2669/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2669/events",
    "html_url": "https://github.com/pallets/flask/issues/2669",
    "id": 307724797,
    "node_id": "MDU6SXNzdWUzMDc3MjQ3OTc=",
    "number": 2669,
    "title": "import error when running flask via apache",
    "user": {
        "login": "gborrageiro",
        "id": 19519472,
        "node_id": "MDQ6VXNlcjE5NTE5NDcy",
        "avatar_url": "https://avatars1.githubusercontent.com/u/19519472?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gborrageiro",
        "html_url": "https://github.com/gborrageiro",
        "followers_url": "https://api.github.com/users/gborrageiro/followers",
        "following_url": "https://api.github.com/users/gborrageiro/following{/other_user}",
        "gists_url": "https://api.github.com/users/gborrageiro/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gborrageiro/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gborrageiro/subscriptions",
        "organizations_url": "https://api.github.com/users/gborrageiro/orgs",
        "repos_url": "https://api.github.com/users/gborrageiro/repos",
        "events_url": "https://api.github.com/users/gborrageiro/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gborrageiro/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2018-03-22T16:42:02Z",
    "updated_at": "2018-03-22T19:00:21Z",
    "closed_at": "2018-03-22T18:59:31Z",
    "author_association": "NONE",
    "body": "hello,\r\n\r\nI've spent the best part of a week trying to get flask working with Apache, without success.\r\n\r\nI am running\r\nRedhat Linux lonrs12363 3.10.0-327.10.1.el7.x86_64\r\nconda version : 4.5.0\r\nconda-build version : 3.7.1\r\npython version : 3.6.4.final.0\r\nmod_wsgi-py36.cpython-36m-x86_64-linux-gnu.so\r\nApache/2.4.6 (Red Hat Enterprise Linux) mod_fcgid/2.3.9 PHP/5.4.16 mod_wsgi/3.4 Python/2.7.5\r\n\r\nNow my Anaconda uses Python 3.6.4, and Red Hat's Apache appears to use Python 2.7.5.\r\nNot sure how big a problem this is, but there are no Python 3 packages available via yum in the standard repo.\r\n\r\nhttpd.conf is configured as follows (with some details obfuscated):\r\n\r\n```\r\nLoadModule wsgi_module /pathto/anaconda3/lib/myProject3.6/site-packages/mod_wsgi/server/mod_wsgi-py36.cmyProject-36m-x86_64-linux-gnu.so\r\nWSGISocketPrefix /var/run/wsgi\r\nWSGImyProjectPath /pathto/anaconda3/lib/myProject3.6/site-packages:/pathto/myProject/code\r\n\r\n<VirtualHost *>\r\n    ServerName www.namechanged.com\r\n\r\n    WSGIDaemonProcess foo myProject-path=/pathto/anaconda3/lib/myProject3.6/site-packages:/pathto/myProject/code user=user group=user threads=5\r\n    WSGIProcessGroup %{GLOBAL}\r\n    WSGIApplicationGroup %{GLOBAL}\r\n    WSGIScriptAlias /foo /home/user/www/wsgi-scripts/foo.wsgi process-group=foo application-group=%{GLOBAL}\r\n\r\n    <Directory /home/user/www/wsgi-scripts>\r\n        WSGIProcessGroup foo\r\n        WSGIApplicationGroup %{GLOBAL}\r\n        Require all granted\r\n    </Directory>\r\n</VirtualHost>\r\n```\r\n\r\nmy .wsgi file looks like:\r\n\r\n```\r\n#!pathto/anaconda3/bin/python\r\nimport sys\r\nimport site\r\n\r\nif sys.platform == 'win32':\r\n    ALLDIRS = ['python-path=C:\\\\dev\\\\apps\\\\Anaconda3\\\\Lib\\\\site-packages']\r\nelse:\r\n    ALLDIRS = []\r\n    ALLDIRS.append('pathto/myProject/code')\r\n    ALLDIRS.append('pathto/anaconda3/lib/python36.zip')\r\n    ALLDIRS.append('pathto/anaconda3/lib/python3.6')\r\n    ALLDIRS.append('pathto/anaconda3/lib/python3.6/lib-dynload')\r\n    ALLDIRS.append('pathto/anaconda3/lib/python3.6/site-packages')\r\n\r\n# Remember original sys.path.\r\nprev_sys_path = list(sys.path)\r\n\r\n# Add each new site-packages directory.\r\nfor directory in ALLDIRS:\r\n    site.addsitedir(directory)\r\n\r\n# Reorder sys.path so new directories at the front.\r\nnew_sys_path = []\r\nfor item in list(sys.path):\r\n    if item not in prev_sys_path:\r\n        new_sys_path.append(item)\r\n    sys.path.remove(item)\r\n\r\nsys.path[:0] = new_sys_path\r\nprint(sys.path)\r\n\r\nfrom analytics.signal import app as application\r\n```\r\n\r\nWhen I try access the web page made available by Apache, I get import errors of the form:\r\n\r\n```\r\nimport numpy as np\r\nImportError: No module named numpy\r\n```\r\n\r\nWhen I run a standard Flask server, everything works perfectly fine.\r\n\r\nhelp!\r\n\r\nthank you.",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/375421223",
            "html_url": "https://github.com/pallets/flask/issues/2669#issuecomment-375421223",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2669",
            "id": 375421223,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTQyMTIyMw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-03-22T18:59:31Z",
            "updated_at": "2018-03-22T18:59:31Z",
            "author_association": "MEMBER",
            "body": "Please use Stack Overflow for questions about your own code. This tracker is for issues related to the project itself. Be sure to include a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve)."
        }
    ]
}