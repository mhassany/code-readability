{
    "url": "https://api.github.com/repos/pallets/flask/issues/487",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/487/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/487/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/487/events",
    "html_url": "https://github.com/pallets/flask/issues/487",
    "id": 4055073,
    "node_id": "MDU6SXNzdWU0MDU1MDcz",
    "number": 487,
    "title": "loader.is_package is a optional method",
    "user": {
        "login": "RonnyPfannschmidt",
        "id": 156838,
        "node_id": "MDQ6VXNlcjE1NjgzOA==",
        "avatar_url": "https://avatars1.githubusercontent.com/u/156838?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RonnyPfannschmidt",
        "html_url": "https://github.com/RonnyPfannschmidt",
        "followers_url": "https://api.github.com/users/RonnyPfannschmidt/followers",
        "following_url": "https://api.github.com/users/RonnyPfannschmidt/following{/other_user}",
        "gists_url": "https://api.github.com/users/RonnyPfannschmidt/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/RonnyPfannschmidt/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/RonnyPfannschmidt/subscriptions",
        "organizations_url": "https://api.github.com/users/RonnyPfannschmidt/orgs",
        "repos_url": "https://api.github.com/users/RonnyPfannschmidt/repos",
        "events_url": "https://api.github.com/users/RonnyPfannschmidt/events{/privacy}",
        "received_events_url": "https://api.github.com/users/RonnyPfannschmidt/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2012-04-10T21:57:46Z",
    "updated_at": "2014-07-26T13:58:57Z",
    "closed_at": "2014-07-26T13:58:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "flask relies on loader.is_package in find_package(import_name) of flask.helpers\n\nhowever that method is optional as per PEP 302, this it breaks with loaders that don't implement it\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/9630563",
            "html_url": "https://github.com/pallets/flask/issues/487#issuecomment-9630563",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/487",
            "id": 9630563,
            "node_id": "MDEyOklzc3VlQ29tbWVudDk2MzA1NjM=",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-10-20T12:02:30Z",
            "updated_at": "2012-10-20T12:02:30Z",
            "author_association": "MEMBER",
            "body": "Would it be okay to replace\n\n```\nloader.is_package(root_mod_name)\n```\n\nwith\n\n```\npackage_path.endswith('__init__.py')\n```\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/22752552",
            "html_url": "https://github.com/pallets/flask/issues/487#issuecomment-22752552",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/487",
            "id": 22752552,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNzUyNTUy",
            "user": {
                "login": "idella",
                "id": 1655078,
                "node_id": "MDQ6VXNlcjE2NTUwNzg=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1655078?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/idella",
                "html_url": "https://github.com/idella",
                "followers_url": "https://api.github.com/users/idella/followers",
                "following_url": "https://api.github.com/users/idella/following{/other_user}",
                "gists_url": "https://api.github.com/users/idella/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/idella/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/idella/subscriptions",
                "organizations_url": "https://api.github.com/users/idella/orgs",
                "repos_url": "https://api.github.com/users/idella/repos",
                "events_url": "https://api.github.com/users/idella/events{/privacy}",
                "received_events_url": "https://api.github.com/users/idella/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2013-08-16T07:54:40Z",
            "updated_at": "2013-08-16T07:54:40Z",
            "author_association": "NONE",
            "body": "and..\n\n``` python\nimport_name = 'tests'\n\n    def find_package(import_name):\n        \"\"\"Finds a package and returns the prefix (or None if the package is\n        not installed) as well as the folder that contains the package or\n        module as a tuple.  The package path returned is the module that would\n        have to be added to the pythonpath in order to make it possible to\n        import the module.  The prefix is the path below which a UNIX like\n        folder structure exists (lib, share etc.).\n        \"\"\"\n        root_mod_name = import_name.split('.')[0]\n        loader = pkgutil.get_loader(root_mod_name)\n        if loader is None or import_name == '__main__':\n            # import name is not found, or interactive/main module\n            package_path = os.getcwd()\n        else:\n            # For .egg, zipimporter does not have get_filename until Python 2.7.\n            if hasattr(loader, 'get_filename'):\n                filename = loader.get_filename(root_mod_name)\n            elif hasattr(loader, 'archive'):\n                # zipimporter's loader.archive points to the .egg or .zip\n                # archive filename is dropped in call to dirname below.\n                filename = loader.archive\n            else:\n                # At least one loader is missing both get_filename and archive:\n                # Google App Engine's HardenedModulesHook\n                #\n                # Fall back to imports.\n                __import__(import_name)\n                filename = sys.modules[import_name].__file__\n            package_path = os.path.abspath(os.path.dirname(filename))\n            # package_path ends with __init__.py for a package\n>           if loader.is_package(root_mod_name):\nE           AttributeError: 'AssertionRewritingHook' object has no attribute 'is_package'\n\n/usr/lib64/python2.6/site-packages/flask/helpers.py:727: AttributeError\n==========================6 error in 6.22 seconds ==================================\n```\n\nso indeed it happened. I edited the flask /usr/lib64/python2.7/site-packages/flask/helpers.py with the above;\n\nflask $ PYTHON_TARGETS=python2_7 ebuild ../flask-script/flask-script-0.6.2.ebuild clean test\n\nyields\n\n``` python\n * python2_7: running distutils-r1_run_phase python_test\n====================================================== test session starts =======================================================\nplatform linux2 -- Python 2.7.5 -- pytest-2.3.5 -- /usr/bin/python2.7\nplugins: cov\ncollecting ... collected 36 items\n--------------------------------------------------\n==============================36 passed in 5.45 seconds =============================\n```\n\nso it works. Please do commit.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/50234755",
            "html_url": "https://github.com/pallets/flask/issues/487#issuecomment-50234755",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/487",
            "id": 50234755,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjM0NzU1",
            "user": {
                "login": "DasIch",
                "id": 182316,
                "node_id": "MDQ6VXNlcjE4MjMxNg==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/182316?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/DasIch",
                "html_url": "https://github.com/DasIch",
                "followers_url": "https://api.github.com/users/DasIch/followers",
                "following_url": "https://api.github.com/users/DasIch/following{/other_user}",
                "gists_url": "https://api.github.com/users/DasIch/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/DasIch/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/DasIch/subscriptions",
                "organizations_url": "https://api.github.com/users/DasIch/orgs",
                "repos_url": "https://api.github.com/users/DasIch/repos",
                "events_url": "https://api.github.com/users/DasIch/events{/privacy}",
                "received_events_url": "https://api.github.com/users/DasIch/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-07-26T13:58:57Z",
            "updated_at": "2014-07-26T13:58:57Z",
            "author_association": "CONTRIBUTOR",
            "body": "This has been fixed some time ago.\n"
        }
    ]
}