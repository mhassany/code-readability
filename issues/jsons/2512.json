{
    "url": "https://api.github.com/repos/pallets/flask/issues/2512",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2512/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2512/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2512/events",
    "html_url": "https://github.com/pallets/flask/issues/2512",
    "id": 271745454,
    "node_id": "MDU6SXNzdWUyNzE3NDU0NTQ=",
    "number": 2512,
    "title": "Idea: `flask run`-like command for production",
    "user": {
        "login": "ThiefMaster",
        "id": 179599,
        "node_id": "MDQ6VXNlcjE3OTU5OQ==",
        "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ThiefMaster",
        "html_url": "https://github.com/ThiefMaster",
        "followers_url": "https://api.github.com/users/ThiefMaster/followers",
        "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
        "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
        "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
        "repos_url": "https://api.github.com/users/ThiefMaster/repos",
        "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 11,
    "created_at": "2017-11-07T08:24:48Z",
    "updated_at": "2019-06-01T13:47:11Z",
    "closed_at": "2019-06-01T13:47:11Z",
    "author_association": "MEMBER",
    "body": "Sentry has this for example, and they simply run uWSGI (which can be installed via `pip`); configured with sane defaults through environment variables: https://github.com/getsentry/sentry/blob/master/src/sentry/services/http.py\r\n\r\nI think this would make sense for Flask too since it'd make simple use cases easier (people just wanting to run a small application without having to configure much).\r\n\r\n---\r\n\r\nThis could be done in a separate standalone package providing a new cli command instead of having it in the Flask core, but I think having an issue here is a good idea anyway in case someone is looking for something to contribute.",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/342637307",
            "html_url": "https://github.com/pallets/flask/issues/2512#issuecomment-342637307",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2512",
            "id": 342637307,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjYzNzMwNw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-11-07T22:01:54Z",
            "updated_at": "2017-11-07T22:01:54Z",
            "author_association": "MEMBER",
            "body": "@doobeh put together [flask-gunicorn](https://github.com/doobeh/flask-gunicorn) at PyCon."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/343929521",
            "html_url": "https://github.com/pallets/flask/issues/2512#issuecomment-343929521",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2512",
            "id": 343929521,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzkyOTUyMQ==",
            "user": {
                "login": "doobeh",
                "id": 470417,
                "node_id": "MDQ6VXNlcjQ3MDQxNw==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/470417?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/doobeh",
                "html_url": "https://github.com/doobeh",
                "followers_url": "https://api.github.com/users/doobeh/followers",
                "following_url": "https://api.github.com/users/doobeh/following{/other_user}",
                "gists_url": "https://api.github.com/users/doobeh/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/doobeh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/doobeh/subscriptions",
                "organizations_url": "https://api.github.com/users/doobeh/orgs",
                "repos_url": "https://api.github.com/users/doobeh/repos",
                "events_url": "https://api.github.com/users/doobeh/events{/privacy}",
                "received_events_url": "https://api.github.com/users/doobeh/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-11-13T14:09:50Z",
            "updated_at": "2017-11-13T14:09:50Z",
            "author_association": "CONTRIBUTOR",
            "body": "Yeah, which needs to be dusted off\u2014 been a bit disengaged with external projects recently.  I'll take this as a kick to get back in motion."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/367778648",
            "html_url": "https://github.com/pallets/flask/issues/2512#issuecomment-367778648",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2512",
            "id": 367778648,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2Nzc3ODY0OA==",
            "user": {
                "login": "RyanSquared",
                "id": 12415837,
                "node_id": "MDQ6VXNlcjEyNDE1ODM3",
                "avatar_url": "https://avatars2.githubusercontent.com/u/12415837?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/RyanSquared",
                "html_url": "https://github.com/RyanSquared",
                "followers_url": "https://api.github.com/users/RyanSquared/followers",
                "following_url": "https://api.github.com/users/RyanSquared/following{/other_user}",
                "gists_url": "https://api.github.com/users/RyanSquared/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/RyanSquared/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RyanSquared/subscriptions",
                "organizations_url": "https://api.github.com/users/RyanSquared/orgs",
                "repos_url": "https://api.github.com/users/RyanSquared/repos",
                "events_url": "https://api.github.com/users/RyanSquared/events{/privacy}",
                "received_events_url": "https://api.github.com/users/RyanSquared/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-02-22T18:39:58Z",
            "updated_at": "2018-02-22T18:39:58Z",
            "author_association": "CONTRIBUTOR",
            "body": "So in relation to `FLASK_ENV`, perhaps there should be a system inside of the Flask's base `run` command that delegates the \"running\" of the program to some kind of interface. So there could be a `flask.run.debug` which starts the debug server, `flask.run.gunicorn` which starts up gunicorn, `flask.run.tornado` which uses Tornado's WSGI and internal HTTP server. Then, the user-customized environments will choose which of these versions will trigger what, so `FLASK_ENV=dev` sets `FLASK_RUN_BACKEND=debug`, `FLASK_ENV=testing` sets whatever is used for testing...?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/368275293",
            "html_url": "https://github.com/pallets/flask/issues/2512#issuecomment-368275293",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2512",
            "id": 368275293,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODI3NTI5Mw==",
            "user": {
                "login": "jgrasser",
                "id": 697439,
                "node_id": "MDQ6VXNlcjY5NzQzOQ==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/697439?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jgrasser",
                "html_url": "https://github.com/jgrasser",
                "followers_url": "https://api.github.com/users/jgrasser/followers",
                "following_url": "https://api.github.com/users/jgrasser/following{/other_user}",
                "gists_url": "https://api.github.com/users/jgrasser/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jgrasser/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jgrasser/subscriptions",
                "organizations_url": "https://api.github.com/users/jgrasser/orgs",
                "repos_url": "https://api.github.com/users/jgrasser/repos",
                "events_url": "https://api.github.com/users/jgrasser/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jgrasser/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-02-25T01:32:44Z",
            "updated_at": "2018-02-25T01:32:44Z",
            "author_association": "NONE",
            "body": "It might be preferable to instead run the flask app using an apache docker image with mod_wsgi. If there is suitable interest within the community, I would be happy to build out the necessary docker config."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/368289223",
            "html_url": "https://github.com/pallets/flask/issues/2512#issuecomment-368289223",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2512",
            "id": 368289223,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODI4OTIyMw==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-02-25T07:21:30Z",
            "updated_at": "2018-02-25T07:21:30Z",
            "author_association": "MEMBER",
            "body": "Apache/mod_wsgi is often overkill and not everyone is using docker... Also, \nyou'd have to install all the dependencies again inside the container.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/368329937",
            "html_url": "https://github.com/pallets/flask/issues/2512#issuecomment-368329937",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2512",
            "id": 368329937,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODMyOTkzNw==",
            "user": {
                "login": "miguelgrinberg",
                "id": 2715854,
                "node_id": "MDQ6VXNlcjI3MTU4NTQ=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/2715854?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/miguelgrinberg",
                "html_url": "https://github.com/miguelgrinberg",
                "followers_url": "https://api.github.com/users/miguelgrinberg/followers",
                "following_url": "https://api.github.com/users/miguelgrinberg/following{/other_user}",
                "gists_url": "https://api.github.com/users/miguelgrinberg/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/miguelgrinberg/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/miguelgrinberg/subscriptions",
                "organizations_url": "https://api.github.com/users/miguelgrinberg/orgs",
                "repos_url": "https://api.github.com/users/miguelgrinberg/repos",
                "events_url": "https://api.github.com/users/miguelgrinberg/events{/privacy}",
                "received_events_url": "https://api.github.com/users/miguelgrinberg/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-02-25T17:59:26Z",
            "updated_at": "2018-02-25T17:59:26Z",
            "author_association": "MEMBER",
            "body": "This discussion clearly indicates that it is going to be hard to create a production server command that can satisfy the needs of all users, so I favor the idea of using separate extensions such as `flask-gunicorn`.\r\n\r\nAlso, specifically regarding the original proposal of using uWSGI for this, I think that is going to cause trouble for a lot of people, because uWSGI only has a source distribution on pypi. For example, installing uWSGI on Windows is nearly impossible unless you use the Ubuntu/WSL or Cygwin."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/395029099",
            "html_url": "https://github.com/pallets/flask/issues/2512#issuecomment-395029099",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2512",
            "id": 395029099,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTAyOTA5OQ==",
            "user": {
                "login": "jwg4",
                "id": 5060616,
                "node_id": "MDQ6VXNlcjUwNjA2MTY=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/5060616?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jwg4",
                "html_url": "https://github.com/jwg4",
                "followers_url": "https://api.github.com/users/jwg4/followers",
                "following_url": "https://api.github.com/users/jwg4/following{/other_user}",
                "gists_url": "https://api.github.com/users/jwg4/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jwg4/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jwg4/subscriptions",
                "organizations_url": "https://api.github.com/users/jwg4/orgs",
                "repos_url": "https://api.github.com/users/jwg4/repos",
                "events_url": "https://api.github.com/users/jwg4/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jwg4/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-06-06T11:00:28Z",
            "updated_at": "2018-06-06T11:00:28Z",
            "author_association": "NONE",
            "body": "What would `flask-gunicorn` do though @miguelgrinberg ? Would it just be a wrapper around gunicorn which invokes it in a specific way? For this to be helpful wouldn't all `flask-foo-server` extensions have to have the same options/arguments?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/395113931",
            "html_url": "https://github.com/pallets/flask/issues/2512#issuecomment-395113931",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2512",
            "id": 395113931,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTExMzkzMQ==",
            "user": {
                "login": "miguelgrinberg",
                "id": 2715854,
                "node_id": "MDQ6VXNlcjI3MTU4NTQ=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/2715854?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/miguelgrinberg",
                "html_url": "https://github.com/miguelgrinberg",
                "followers_url": "https://api.github.com/users/miguelgrinberg/followers",
                "following_url": "https://api.github.com/users/miguelgrinberg/following{/other_user}",
                "gists_url": "https://api.github.com/users/miguelgrinberg/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/miguelgrinberg/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/miguelgrinberg/subscriptions",
                "organizations_url": "https://api.github.com/users/miguelgrinberg/orgs",
                "repos_url": "https://api.github.com/users/miguelgrinberg/repos",
                "events_url": "https://api.github.com/users/miguelgrinberg/events{/privacy}",
                "received_events_url": "https://api.github.com/users/miguelgrinberg/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-06-06T15:37:35Z",
            "updated_at": "2018-06-06T15:37:54Z",
            "author_association": "MEMBER",
            "body": "@jwg4 have you seen the code for flask-gunicorn? https://github.com/doobeh/flask-gunicorn\r\n\r\nBasically it overrides `flask run` and starts gunicorn instead of the Flask development server."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/395129502",
            "html_url": "https://github.com/pallets/flask/issues/2512#issuecomment-395129502",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2512",
            "id": 395129502,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTEyOTUwMg==",
            "user": {
                "login": "jwg4",
                "id": 5060616,
                "node_id": "MDQ6VXNlcjUwNjA2MTY=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/5060616?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jwg4",
                "html_url": "https://github.com/jwg4",
                "followers_url": "https://api.github.com/users/jwg4/followers",
                "following_url": "https://api.github.com/users/jwg4/following{/other_user}",
                "gists_url": "https://api.github.com/users/jwg4/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jwg4/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jwg4/subscriptions",
                "organizations_url": "https://api.github.com/users/jwg4/orgs",
                "repos_url": "https://api.github.com/users/jwg4/repos",
                "events_url": "https://api.github.com/users/jwg4/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jwg4/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-06-06T16:23:22Z",
            "updated_at": "2018-06-06T16:23:22Z",
            "author_association": "NONE",
            "body": "Oh sorry, @miguelgrinberg I didn't realize you were talking about something that already exists. Definitely seems like the right approach, Flask itself probably doesn't want to make any determination as to how you want to run your app in production."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/409795611",
            "html_url": "https://github.com/pallets/flask/issues/2512#issuecomment-409795611",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2512",
            "id": 409795611,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTc5NTYxMQ==",
            "user": {
                "login": "RyanSquared",
                "id": 12415837,
                "node_id": "MDQ6VXNlcjEyNDE1ODM3",
                "avatar_url": "https://avatars2.githubusercontent.com/u/12415837?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/RyanSquared",
                "html_url": "https://github.com/RyanSquared",
                "followers_url": "https://api.github.com/users/RyanSquared/followers",
                "following_url": "https://api.github.com/users/RyanSquared/following{/other_user}",
                "gists_url": "https://api.github.com/users/RyanSquared/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/RyanSquared/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RyanSquared/subscriptions",
                "organizations_url": "https://api.github.com/users/RyanSquared/orgs",
                "repos_url": "https://api.github.com/users/RyanSquared/repos",
                "events_url": "https://api.github.com/users/RyanSquared/events{/privacy}",
                "received_events_url": "https://api.github.com/users/RyanSquared/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-08-02T03:38:50Z",
            "updated_at": "2018-08-02T03:38:50Z",
            "author_association": "CONTRIBUTOR",
            "body": "I like the usage of extensions being used to replace the `flask run` as it can be done inside a virtualenv or container and (hopefully) requires no work at all from the Flask side. Is there any considerations to be done except for polishing potential and existing `flask-run` extensions? I'd like to help on this if possible."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/497946504",
            "html_url": "https://github.com/pallets/flask/issues/2512#issuecomment-497946504",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2512",
            "id": 497946504,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Nzk0NjUwNA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-06-01T13:47:11Z",
            "updated_at": "2019-06-01T13:47:11Z",
            "author_association": "MEMBER",
            "body": "While I still might consider some sort of extensibility of the `run` command for other WSGI servers in the future, at this point I don't think it's worth adding the complexity to the run command. Or at least I think we need to focus on fixing the disconnect between `app.run` and `flask run` first. I'm working on refreshing the deploy docs, so hopefully that will help people understand how to deploy in production better."
        }
    ]
}