{
    "url": "https://api.github.com/repos/pallets/flask/issues/3353",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3353/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3353/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3353/events",
    "html_url": "https://github.com/pallets/flask/issues/3353",
    "id": 489977752,
    "node_id": "MDU6SXNzdWU0ODk5Nzc3NTI=",
    "number": 3353,
    "title": "Pandas with flask spins multiple subprocesses ",
    "user": {
        "login": "reach4bawer",
        "id": 52763317,
        "node_id": "MDQ6VXNlcjUyNzYzMzE3",
        "avatar_url": "https://avatars1.githubusercontent.com/u/52763317?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/reach4bawer",
        "html_url": "https://github.com/reach4bawer",
        "followers_url": "https://api.github.com/users/reach4bawer/followers",
        "following_url": "https://api.github.com/users/reach4bawer/following{/other_user}",
        "gists_url": "https://api.github.com/users/reach4bawer/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/reach4bawer/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/reach4bawer/subscriptions",
        "organizations_url": "https://api.github.com/users/reach4bawer/orgs",
        "repos_url": "https://api.github.com/users/reach4bawer/repos",
        "events_url": "https://api.github.com/users/reach4bawer/events{/privacy}",
        "received_events_url": "https://api.github.com/users/reach4bawer/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-09-05T20:12:04Z",
    "updated_at": "2019-09-23T15:28:22Z",
    "closed_at": "2019-09-23T15:28:22Z",
    "author_association": "NONE",
    "body": "<!-- **This issue tracker is a tool to address bugs in Flask itself.\r\nPlease use the #pocoo IRC channel on freenode or Stack Overflow for general\r\nquestions about using Flask or issues not related to Flask.** -->\r\n\r\n<!-- If you'd like to report a bug in Flask, fill out the template below. Provide\r\nany extra information that may be useful / related to your problem.\r\nIdeally, create an [MCVE](https://stackoverflow.com/help/mcve), which helps us\r\nunderstand the problem and helps check that it is not caused by something in\r\nyour code. -->\r\n\r\n\r\n\r\n### Expected Behavior\r\n<!-- Tell us what should happen. -->\r\nI was expecting that running my flask application would only spin one process with no subprocesses.  Like the following screenshot. (This is with importing pandas commented)\r\n![Screen Shot 2019-09-05 at 3 52 46 PM](https://user-images.githubusercontent.com/52763317/64376130-8b267000-cff5-11e9-9251-c170e549d9dc.png)\r\n\r\nThe following is example of the which replicates the issue.\r\n\r\n```python\r\nfrom flask import Flask\r\nimport pandas as pd\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route('/')\r\ndef hello():\r\n    return \"Hello World!\"\r\n\r\nif __name__ == '__main__':\r\n    app.run().\r\n```\r\n\r\n### Actual Behavior\r\n<!-- Tell us what happens instead. -->\r\nImporting pandas in a Flask app multiple subprocesses are spun up. I have a Flask app that uses Flask and pandas to show basic tables. When I run the app multiple flask and python instances instances are spun up. I normally wouldn't have bothered but this is causing the application when hosted on gunicorn to be unstable.( Running 2-4 workers spins up a lot of processes and the application keeps restarting. See the screenshot below - \r\n![Screen Shot 2019-09-05 at 3 45 46 PM](https://user-images.githubusercontent.com/52763317/64376755-f755a380-cff6-11e9-82b9-8be278b0a2e6.png)\r\n![Screen Shot 2019-09-05 at 3 48 13 PM](https://user-images.githubusercontent.com/52763317/64376756-f755a380-cff6-11e9-8332-02157ffd662b.png)\r\n\r\n\r\n### Environment\r\n\r\n* Python version: \r\n```\r\nPython 3.7.4 (default, Jul 30 2019, 19:56:38)\r\n[GCC 7.3.1 20180712 (Red Hat 7.3.1-6)] on linux\r\n```\r\n* Flask version:`1.0.2`\r\n* Werkzeug version:`0.15.2`\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/534151726",
            "html_url": "https://github.com/pallets/flask/issues/3353#issuecomment-534151726",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3353",
            "id": 534151726,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDE1MTcyNg==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-09-23T15:28:22Z",
            "updated_at": "2019-09-23T15:28:22Z",
            "author_association": "MEMBER",
            "body": "The dev server uses threading by default. You're just observing multiple worker threads.\r\n\r\nPlease use Stack Overflow for questions about your own code. This tracker is for issues related to the project itself. Be sure to include a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve)."
        }
    ]
}