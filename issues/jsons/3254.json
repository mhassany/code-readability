{
    "url": "https://api.github.com/repos/pallets/flask/issues/3254",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3254/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3254/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3254/events",
    "html_url": "https://github.com/pallets/flask/issues/3254",
    "id": 453777117,
    "node_id": "MDU6SXNzdWU0NTM3NzcxMTc=",
    "number": 3254,
    "title": "Refactoring explain_template_loading_attempts method in debughelpers.py",
    "user": {
        "login": "aligoren",
        "id": 4205423,
        "node_id": "MDQ6VXNlcjQyMDU0MjM=",
        "avatar_url": "https://avatars0.githubusercontent.com/u/4205423?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aligoren",
        "html_url": "https://github.com/aligoren",
        "followers_url": "https://api.github.com/users/aligoren/followers",
        "following_url": "https://api.github.com/users/aligoren/following{/other_user}",
        "gists_url": "https://api.github.com/users/aligoren/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/aligoren/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/aligoren/subscriptions",
        "organizations_url": "https://api.github.com/users/aligoren/orgs",
        "repos_url": "https://api.github.com/users/aligoren/repos",
        "events_url": "https://api.github.com/users/aligoren/events{/privacy}",
        "received_events_url": "https://api.github.com/users/aligoren/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-06-08T09:51:52Z",
    "updated_at": "2019-06-08T12:56:50Z",
    "closed_at": "2019-06-08T12:56:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Before starting, I'm so sorry because this issue can be totally ridiculous.\r\n\r\nHi. I've been doing a review of the Flask code base for a while.\r\n\r\nI found this method\r\n\r\nhttps://github.com/pallets/flask/blob/d4b688bd035b9704b3168b28fed39c8fcfe3b997/src/flask/debughelpers.py#L124-L169\r\n\r\nI'm also using SonarQube to review codes. SonarQube warned me about Cognitive Complexity. There is documentation here;\r\n\r\nhttps://www.sonarsource.com/docs/CognitiveComplexity.pdf\r\n\r\nFor example,\r\n\r\nhttps://github.com/pallets/flask/blob/d4b688bd035b9704b3168b28fed39c8fcfe3b997/src/flask/debughelpers.py#L130\r\n\r\nthis part can be changed like that.\r\n\r\n```python\r\nif reqctx and reqctx.request.blueprint is not None:\r\n```\r\n\r\nThe other thing is;\r\n\r\nhttps://github.com/pallets/flask/blob/d4b688bd035b9704b3168b28fed39c8fcfe3b997/src/flask/debughelpers.py#L146-L150\r\n\r\nthis part can be changed like that.\r\n\r\n```python\r\ndetail = \"no match\"\r\nif triple is not None:\r\n   detail = \"found (%r)\" % (triple[1] or \"<string>\")\r\n   total_found += 1\r\n```\r\n\r\nI think we can say; if the triple variable is **None**, don't run this `total_found += 1` statement.\r\n\r\nThe last one is;\r\n\r\nhttps://github.com/pallets/flask/blob/d4b688bd035b9704b3168b28fed39c8fcfe3b997/src/flask/debughelpers.py#L154-L159\r\n\r\nI think this part can be changed too. Because `total_found` variable initialized with **0** value.\r\n\r\nSo, there will be two situations always. for **0** or for **> 1**.\r\n\r\nWhen `total_found` is 0 or 1, the `seems_fishy` will be True. So, we may don't need to reassign this variable for each control flow. Instead of that, we can change this code like below;\r\n\r\n```python\r\ninfo_msg = \"Error: the template could not be found.\"\r\nseems_fishy = True\r\nif total_found > 1:\r\n   info_msg = \"Warning: multiple loaders returned a match for the template.\"\r\n```",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/500122224",
            "html_url": "https://github.com/pallets/flask/issues/3254#issuecomment-500122224",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3254",
            "id": 500122224,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUwMDEyMjIyNA==",
            "user": {
                "login": "jab",
                "id": 64992,
                "node_id": "MDQ6VXNlcjY0OTky",
                "avatar_url": "https://avatars1.githubusercontent.com/u/64992?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jab",
                "html_url": "https://github.com/jab",
                "followers_url": "https://api.github.com/users/jab/followers",
                "following_url": "https://api.github.com/users/jab/following{/other_user}",
                "gists_url": "https://api.github.com/users/jab/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jab/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jab/subscriptions",
                "organizations_url": "https://api.github.com/users/jab/orgs",
                "repos_url": "https://api.github.com/users/jab/repos",
                "events_url": "https://api.github.com/users/jab/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jab/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-06-08T12:56:50Z",
            "updated_at": "2019-06-08T12:56:50Z",
            "author_association": "MEMBER",
            "body": "Thanks for taking the time to try to contribute! It\u2019s absolutely not ridiculous to try to make code improvements like the ones you mention. Could you please submit pull request(s) with your proposed changes? And try to put only related changes in each pull request. I think that would make it easier for maintainers to review what\u2019s being proposed. In the meantime, I\u2019ll close this issue in favor of the more targeted PRs."
        }
    ]
}