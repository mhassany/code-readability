{
    "url": "https://api.github.com/repos/pallets/flask/issues/2386",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2386/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2386/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2386/events",
    "html_url": "https://github.com/pallets/flask/pull/2386",
    "id": 237690126,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTI2ODgwMTQ1",
    "number": 2386,
    "title": "Add command to CLI to generate secure random strings",
    "user": {
        "login": "xMamo",
        "id": 8678043,
        "node_id": "MDQ6VXNlcjg2NzgwNDM=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/8678043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/xMamo",
        "html_url": "https://github.com/xMamo",
        "followers_url": "https://api.github.com/users/xMamo/followers",
        "following_url": "https://api.github.com/users/xMamo/following{/other_user}",
        "gists_url": "https://api.github.com/users/xMamo/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/xMamo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/xMamo/subscriptions",
        "organizations_url": "https://api.github.com/users/xMamo/orgs",
        "repos_url": "https://api.github.com/users/xMamo/repos",
        "events_url": "https://api.github.com/users/xMamo/events{/privacy}",
        "received_events_url": "https://api.github.com/users/xMamo/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2017-06-21T23:13:35Z",
    "updated_at": "2017-06-24T16:42:14Z",
    "closed_at": "2017-06-24T16:35:38Z",
    "author_association": "NONE",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/2386",
        "html_url": "https://github.com/pallets/flask/pull/2386",
        "diff_url": "https://github.com/pallets/flask/pull/2386.diff",
        "patch_url": "https://github.com/pallets/flask/pull/2386.patch"
    },
    "body": "I wrote command-line utility to generate a secure random string. It can be used, for example, to set Flask's `SECRET_KEY`.\r\nThe command is called with `flask generate-secret [--length <length>]` (length defaults to 30).",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/310841599",
            "html_url": "https://github.com/pallets/flask/pull/2386#issuecomment-310841599",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2386",
            "id": 310841599,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDg0MTU5OQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-24T14:24:24Z",
            "updated_at": "2017-06-24T14:24:24Z",
            "author_association": "MEMBER",
            "body": "Needs a test and docs. Should mention something like \"Use the `flask generate-secret` command to get a random value.\" in the `SECRET_KEY` docs.\r\n\r\nI'm curious where you got the pattern you're using here. Seems weird to work backwards to get a string that's close to the desired length. I'd rather input the number of random bytes to start with and get a string of whatever length is necessary.\r\n\r\n    -b, --bytes byte length of initial random data\r\n    b64encode(os.urandom(n)).decode('UTF-8')\r\n\r\n16 bytes (128 bits) is probably a sufficient default."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/310841753",
            "html_url": "https://github.com/pallets/flask/pull/2386#issuecomment-310841753",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2386",
            "id": 310841753,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDg0MTc1Mw==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-24T14:27:34Z",
            "updated_at": "2017-06-24T14:27:34Z",
            "author_association": "MEMBER",
            "body": "I don't see the point of using a base64 string considering that most flask config files can contain python code and thus backslash-escaped strings.\r\n\r\nAlso, I'm not sure whether this is really within the scope of flask."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/310842326",
            "html_url": "https://github.com/pallets/flask/pull/2386#issuecomment-310842326",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2386",
            "id": 310842326,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDg0MjMyNg==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-24T14:38:08Z",
            "updated_at": "2017-06-24T14:38:08Z",
            "author_association": "MEMBER",
            "body": "Hmm, true, and we already mention how to generate a key as raw bytes in the docs. Although we should probably make it more clear outside the quickstart, in the config and session docs."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/310842578",
            "html_url": "https://github.com/pallets/flask/pull/2386#issuecomment-310842578",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2386",
            "id": 310842578,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDg0MjU3OA==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-24T14:42:59Z",
            "updated_at": "2017-06-24T14:42:59Z",
            "author_association": "MEMBER",
            "body": "I would use hexlify instead of base64 to ensure a safer subset of ASCII. Whether asciifying is necessary.. I just wouldn't take unnecessary risks."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/310842776",
            "html_url": "https://github.com/pallets/flask/pull/2386#issuecomment-310842776",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2386",
            "id": 310842776,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDg0Mjc3Ng==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-24T14:47:12Z",
            "updated_at": "2017-06-24T16:14:04Z",
            "author_association": "MEMBER",
            "body": "Actually, looks like I already added an example of how to generate it to the SECRET_KEY docs."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/310849608",
            "html_url": "https://github.com/pallets/flask/pull/2386#issuecomment-310849608",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2386",
            "id": 310849608,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDg0OTYwOA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-24T16:42:14Z",
            "updated_at": "2017-06-24T16:42:14Z",
            "author_association": "MEMBER",
            "body": "Closing this because I don't think we need a built-in command for it. I'd rather the user understand how the secret is generated, which is already documented."
        }
    ]
}