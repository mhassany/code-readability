{
    "url": "https://api.github.com/repos/pallets/flask/issues/1249",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1249/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1249/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1249/events",
    "html_url": "https://github.com/pallets/flask/issues/1249",
    "id": 48791934,
    "node_id": "MDU6SXNzdWU0ODc5MTkzNA==",
    "number": 1249,
    "title": "Need more documentation for usage of instance_path",
    "user": {
        "login": "jgonggrijp",
        "id": 1540185,
        "node_id": "MDQ6VXNlcjE1NDAxODU=",
        "avatar_url": "https://avatars2.githubusercontent.com/u/1540185?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jgonggrijp",
        "html_url": "https://github.com/jgonggrijp",
        "followers_url": "https://api.github.com/users/jgonggrijp/followers",
        "following_url": "https://api.github.com/users/jgonggrijp/following{/other_user}",
        "gists_url": "https://api.github.com/users/jgonggrijp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jgonggrijp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jgonggrijp/subscriptions",
        "organizations_url": "https://api.github.com/users/jgonggrijp/orgs",
        "repos_url": "https://api.github.com/users/jgonggrijp/repos",
        "events_url": "https://api.github.com/users/jgonggrijp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jgonggrijp/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 32876,
            "node_id": "MDU6TGFiZWwzMjg3Ng==",
            "url": "https://api.github.com/repos/pallets/flask/labels/docs",
            "name": "docs",
            "color": "0e8a16",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 11,
    "created_at": "2014-11-14T13:56:52Z",
    "updated_at": "2016-06-21T09:02:52Z",
    "closed_at": "2016-06-02T19:08:14Z",
    "author_association": "NONE",
    "body": "There is one short section on instance paths in the configuration handling doc, but nothing else. I have questions like the following:\n\n> Suppose I want to separate the application package, the instance directory and the configuration file. In other words, I want all three to be in different locations within the filesystem and I don't want those locations to be hard-coded in the package. The WSGI script should load the application factory from the package and pass the instance path and the configuration file to the factory, after which the factory returns an application object. The application and some of the blueprints registered on it should use the instance directory for uploads but not for configuration. How should I write my code in order to realize that?\n\nPlease help me find the answer to the question above, and please consider providing more documentation on the instance path!\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/63194723",
            "html_url": "https://github.com/pallets/flask/issues/1249#issuecomment-63194723",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1249",
            "id": 63194723,
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTk0NzIz",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-11-15T22:08:19Z",
            "updated_at": "2014-11-15T22:08:19Z",
            "author_association": "MEMBER",
            "body": "Using `instance_path` doesn't mean you can't use config filepaths outside of the instance folder, and while the documentation of either `app.config.from_pyfile` or the instance paths section don't explicitly state that fact, i don't see a reason for this assumption.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/63196532",
            "html_url": "https://github.com/pallets/flask/issues/1249#issuecomment-63196532",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1249",
            "id": 63196532,
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTk2NTMy",
            "user": {
                "login": "jgonggrijp",
                "id": 1540185,
                "node_id": "MDQ6VXNlcjE1NDAxODU=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1540185?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jgonggrijp",
                "html_url": "https://github.com/jgonggrijp",
                "followers_url": "https://api.github.com/users/jgonggrijp/followers",
                "following_url": "https://api.github.com/users/jgonggrijp/following{/other_user}",
                "gists_url": "https://api.github.com/users/jgonggrijp/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jgonggrijp/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jgonggrijp/subscriptions",
                "organizations_url": "https://api.github.com/users/jgonggrijp/orgs",
                "repos_url": "https://api.github.com/users/jgonggrijp/repos",
                "events_url": "https://api.github.com/users/jgonggrijp/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jgonggrijp/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-11-15T22:59:16Z",
            "updated_at": "2014-11-15T22:59:16Z",
            "author_association": "NONE",
            "body": "I did not make any such assumption. Could you please suggest a way to do what I described? Not everyone is a Flask developer. Thank you.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/63196787",
            "html_url": "https://github.com/pallets/flask/issues/1249#issuecomment-63196787",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1249",
            "id": 63196787,
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTk2Nzg3",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-11-15T23:07:25Z",
            "updated_at": "2014-11-15T23:07:25Z",
            "author_association": "MEMBER",
            "body": "```\ndef create_app(config_filepath, instance_path):\n    app = Flask(__name__, instance_path=instance_path)\n    #load config defaults\n    app.config.from_pyfile(config_filepath)\n\n    return app\n```\n\nI don't know what you mean by \"WSGI script\", but since you're already calling the app-factory somewhere, it should be possible to add some new parameters to that call.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/63213344",
            "html_url": "https://github.com/pallets/flask/issues/1249#issuecomment-63213344",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1249",
            "id": 63213344,
            "node_id": "MDEyOklzc3VlQ29tbWVudDYzMjEzMzQ0",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-11-16T10:13:42Z",
            "updated_at": "2014-11-16T10:13:42Z",
            "author_association": "MEMBER",
            "body": "Does that answer your question? What specifically should be added to the instance_path docs? Your usecase is IMO too specific to be mentioned 1:1 in the docs.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/70667701",
            "html_url": "https://github.com/pallets/flask/issues/1249#issuecomment-70667701",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1249",
            "id": 70667701,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjY3NzAx",
            "user": {
                "login": "schjak",
                "id": 1322064,
                "node_id": "MDQ6VXNlcjEzMjIwNjQ=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1322064?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/schjak",
                "html_url": "https://github.com/schjak",
                "followers_url": "https://api.github.com/users/schjak/followers",
                "following_url": "https://api.github.com/users/schjak/following{/other_user}",
                "gists_url": "https://api.github.com/users/schjak/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/schjak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/schjak/subscriptions",
                "organizations_url": "https://api.github.com/users/schjak/orgs",
                "repos_url": "https://api.github.com/users/schjak/repos",
                "events_url": "https://api.github.com/users/schjak/events{/privacy}",
                "received_events_url": "https://api.github.com/users/schjak/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-20T15:08:09Z",
            "updated_at": "2015-01-20T15:08:09Z",
            "author_association": "NONE",
            "body": "I think have the same issue or lack of understanding. In the docs there is an example:\n\nFlask(**name**, instance_path='/path/to/instance/folder')\n\nBut I guess you would never actually hardcode this value in your code since that would impose a specific directory structure on the server.\n\nI image it should be more dynamic - for instance:\n\nFlask(**name**, instance_path=os.environ['MY_FLASK_APP_INSTANCE_PATH'])\n\nBut I am unsure if this is the proper way to go about it (probably because I am a novice to both Flask and web servers).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223386146",
            "html_url": "https://github.com/pallets/flask/issues/1249#issuecomment-223386146",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1249",
            "id": 223386146,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzM4NjE0Ng==",
            "user": {
                "login": "jsonbrazeal",
                "id": 3199635,
                "node_id": "MDQ6VXNlcjMxOTk2MzU=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3199635?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jsonbrazeal",
                "html_url": "https://github.com/jsonbrazeal",
                "followers_url": "https://api.github.com/users/jsonbrazeal/followers",
                "following_url": "https://api.github.com/users/jsonbrazeal/following{/other_user}",
                "gists_url": "https://api.github.com/users/jsonbrazeal/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jsonbrazeal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jsonbrazeal/subscriptions",
                "organizations_url": "https://api.github.com/users/jsonbrazeal/orgs",
                "repos_url": "https://api.github.com/users/jsonbrazeal/repos",
                "events_url": "https://api.github.com/users/jsonbrazeal/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jsonbrazeal/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-02T18:49:33Z",
            "updated_at": "2016-06-02T18:49:33Z",
            "author_association": "CONTRIBUTOR",
            "body": "working on this at #pycon2016 sprints\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223390638",
            "html_url": "https://github.com/pallets/flask/issues/1249#issuecomment-223390638",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1249",
            "id": 223390638,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzM5MDYzOA==",
            "user": {
                "login": "jsonbrazeal",
                "id": 3199635,
                "node_id": "MDQ6VXNlcjMxOTk2MzU=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3199635?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jsonbrazeal",
                "html_url": "https://github.com/jsonbrazeal",
                "followers_url": "https://api.github.com/users/jsonbrazeal/followers",
                "following_url": "https://api.github.com/users/jsonbrazeal/following{/other_user}",
                "gists_url": "https://api.github.com/users/jsonbrazeal/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jsonbrazeal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jsonbrazeal/subscriptions",
                "organizations_url": "https://api.github.com/users/jsonbrazeal/orgs",
                "repos_url": "https://api.github.com/users/jsonbrazeal/repos",
                "events_url": "https://api.github.com/users/jsonbrazeal/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jsonbrazeal/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-02T19:05:43Z",
            "updated_at": "2016-06-02T19:08:00Z",
            "author_association": "CONTRIBUTOR",
            "body": "After looking at this issue, it seems that the original poster's case is too specific to be included in the docs as untitaker mentions. For schjak's comment on making the path dynamic...the user is free to implement this and use dynamic paths throughout the flask configuration, but how to change a hardcoded path to an environment variable seems like it's straightforward python code that probably doesn't belong in the instance_path documentation.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223391288",
            "html_url": "https://github.com/pallets/flask/issues/1249#issuecomment-223391288",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1249",
            "id": 223391288,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzM5MTI4OA==",
            "user": {
                "login": "jeffwidman",
                "id": 483314,
                "node_id": "MDQ6VXNlcjQ4MzMxNA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/483314?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jeffwidman",
                "html_url": "https://github.com/jeffwidman",
                "followers_url": "https://api.github.com/users/jeffwidman/followers",
                "following_url": "https://api.github.com/users/jeffwidman/following{/other_user}",
                "gists_url": "https://api.github.com/users/jeffwidman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jeffwidman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jeffwidman/subscriptions",
                "organizations_url": "https://api.github.com/users/jeffwidman/orgs",
                "repos_url": "https://api.github.com/users/jeffwidman/repos",
                "events_url": "https://api.github.com/users/jeffwidman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jeffwidman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-02T19:08:14Z",
            "updated_at": "2016-06-02T19:08:14Z",
            "author_association": "MEMBER",
            "body": "Agreed\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223664764",
            "html_url": "https://github.com/pallets/flask/issues/1249#issuecomment-223664764",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1249",
            "id": 223664764,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzY2NDc2NA==",
            "user": {
                "login": "schjak",
                "id": 1322064,
                "node_id": "MDQ6VXNlcjEzMjIwNjQ=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1322064?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/schjak",
                "html_url": "https://github.com/schjak",
                "followers_url": "https://api.github.com/users/schjak/followers",
                "following_url": "https://api.github.com/users/schjak/following{/other_user}",
                "gists_url": "https://api.github.com/users/schjak/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/schjak/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/schjak/subscriptions",
                "organizations_url": "https://api.github.com/users/schjak/orgs",
                "repos_url": "https://api.github.com/users/schjak/repos",
                "events_url": "https://api.github.com/users/schjak/events{/privacy}",
                "received_events_url": "https://api.github.com/users/schjak/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T19:00:18Z",
            "updated_at": "2016-06-03T19:00:18Z",
            "author_association": "NONE",
            "body": "I was more looking for an indication of \"best practice\". My suggested solution was to use env var - what I wanted to know was if this was a sound approach or if there is a better way to make a Flask application that does not have the instance path hardcoded.\n\nAlso, I kind of asume that you would never hardcode such paths in a real world application - but maybe I am wrong ?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223666535",
            "html_url": "https://github.com/pallets/flask/issues/1249#issuecomment-223666535",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1249",
            "id": 223666535,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzY2NjUzNQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T19:07:25Z",
            "updated_at": "2016-06-03T19:07:25Z",
            "author_association": "MEMBER",
            "body": "@schjak Flask doesn't impose any best practices on you. You can use a `ini`-like configuration and read your variables from there, environment variables, ... whatever the other tools work best with.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/227382094",
            "html_url": "https://github.com/pallets/flask/issues/1249#issuecomment-227382094",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1249",
            "id": 227382094,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyNzM4MjA5NA==",
            "user": {
                "login": "jgonggrijp",
                "id": 1540185,
                "node_id": "MDQ6VXNlcjE1NDAxODU=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1540185?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jgonggrijp",
                "html_url": "https://github.com/jgonggrijp",
                "followers_url": "https://api.github.com/users/jgonggrijp/followers",
                "following_url": "https://api.github.com/users/jgonggrijp/following{/other_user}",
                "gists_url": "https://api.github.com/users/jgonggrijp/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jgonggrijp/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jgonggrijp/subscriptions",
                "organizations_url": "https://api.github.com/users/jgonggrijp/orgs",
                "repos_url": "https://api.github.com/users/jgonggrijp/repos",
                "events_url": "https://api.github.com/users/jgonggrijp/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jgonggrijp/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-21T09:02:52Z",
            "updated_at": "2016-06-21T09:02:52Z",
            "author_association": "NONE",
            "body": "Excuse me for replying late, it appears that this thread escaped my attention back in 2014-2015. I did what @untitaker suggested with the snippet of code: add parameters to the app factory that specify the configuration file and the instance path independently. Thank you for that solution.\n\nIn my opinion, making an app factory with the instance path and the configuration as parameters is nearly always a good idea. Maybe it is not a universally best practice, but at least is it a generally good practice. My use case was not \"specific\"; I was trying to separate concerns and make my application portable. Therefor, I would encourage you to prominently include this in your documentation.\n"
        }
    ]
}