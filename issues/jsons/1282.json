{
    "url": "https://api.github.com/repos/pallets/flask/issues/1282",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1282/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1282/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1282/events",
    "html_url": "https://github.com/pallets/flask/issues/1282",
    "id": 52192819,
    "node_id": "MDU6SXNzdWU1MjE5MjgxOQ==",
    "number": 1282,
    "title": "raise FormDataRoutingRedirect",
    "user": {
        "login": "ghostbod99",
        "id": 9301739,
        "node_id": "MDQ6VXNlcjkzMDE3Mzk=",
        "avatar_url": "https://avatars2.githubusercontent.com/u/9301739?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ghostbod99",
        "html_url": "https://github.com/ghostbod99",
        "followers_url": "https://api.github.com/users/ghostbod99/followers",
        "following_url": "https://api.github.com/users/ghostbod99/following{/other_user}",
        "gists_url": "https://api.github.com/users/ghostbod99/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ghostbod99/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ghostbod99/subscriptions",
        "organizations_url": "https://api.github.com/users/ghostbod99/orgs",
        "repos_url": "https://api.github.com/users/ghostbod99/repos",
        "events_url": "https://api.github.com/users/ghostbod99/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ghostbod99/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2014-12-17T02:01:37Z",
    "updated_at": "2014-12-18T06:10:37Z",
    "closed_at": "2014-12-18T06:10:37Z",
    "author_association": "NONE",
    "body": "I found a exception when i use NestableBlueprint. It raise FormDataRoutingRedirect Exception.\nAnd I found this exception again where I run a simple test demo.\n\ntest demo:\n@user.route('/v1/', methods=['GET', 'POST'])\ndef user_test():\n    print 'test'\n    return 'test'\n\nget http://192.168.2.103:7700/v1  -> successed\nget http://192.168.2.103:7700/v1/  -> successed\npost http://192.168.2.103:7700/v1/ -> successed\npost http://192.168.2.103:7700/v1  -> raise FormDataRoutingRedirect:\n  File \"/home/ghostbod/python/hmt_api/venv/lib/python2.7/site-packages/flask/app.py\", line 1439, in raise_routing_exception\n    raise FormDataRoutingRedirect(request)\nFormDataRoutingRedirect: A request was sent to this URL (http://192.168.2.103:7700/v1) but a redirect was issued automatically by the routing system to \"http://192.168.2.103:7700/v1/\".  The URL was defined with a trailing slash so Flask will automatically redirect to the URL with the trailing slash if it was accessed without one.  Make sure to directly send your POST-request to this URL since we can't make browsers or HTTP clients redirect with form data reliably or without user interaction.\n\nNestableBlueprint test demo\n**init**.py:\nfrom modules.warehouse.bp import warehouse\napp.register_blueprint(warehouse, url_prefix='/v1/warehouse')\n\nbp.py:\nfrom wh.views import bp_wh\nwarehouse = NestableBlueprint('warehouse', **name**)\nwarehouse.register_blueprint(bp_wh, url_prefix='/wh')\n\nview.ppy:\n@bp_wh.route('/', methods=['POST'])\n@oauth.common_require_oauth()\ndef test(cid, uid):\n    return \"test\"\n\nhttp://192.168.2.103:7700/v1/warehouse/wh/?access_token=NX5fUsTrKR8Gi6AsrWgT0tFQAR5C7w -> successed\nhttp://192.168.2.103:7700/v1/warehouse/wh?access_token=NX5fUsTrKR8Gi6AsrWgT0tFQAR5C7w -> raise FormDataRoutingRedirect(request)\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/67269225",
            "html_url": "https://github.com/pallets/flask/issues/1282#issuecomment-67269225",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1282",
            "id": 67269225,
            "node_id": "MDEyOklzc3VlQ29tbWVudDY3MjY5MjI1",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-12-17T02:36:46Z",
            "updated_at": "2014-12-17T02:36:46Z",
            "author_association": "MEMBER",
            "body": "First of all, please format your code properly when posting it here. It is not hard. See https://guides.github.com/features/mastering-markdown/ on how to do it.\n\nI also don't see the problem. When you have a rule for `foo/` but try accessing `foo` instead, it redirects to `foo/`. However, this is impossible for POST requests because you cannot redirect and force the client to re-send the POST data. So in that case an error is raised. The solution is to use the correct URL, or disable `strict_slashes` (the name might be different but similar) to disable the redirect.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/67270670",
            "html_url": "https://github.com/pallets/flask/issues/1282#issuecomment-67270670",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1282",
            "id": 67270670,
            "node_id": "MDEyOklzc3VlQ29tbWVudDY3MjcwNjcw",
            "user": {
                "login": "ghostbod99",
                "id": 9301739,
                "node_id": "MDQ6VXNlcjkzMDE3Mzk=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/9301739?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ghostbod99",
                "html_url": "https://github.com/ghostbod99",
                "followers_url": "https://api.github.com/users/ghostbod99/followers",
                "following_url": "https://api.github.com/users/ghostbod99/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghostbod99/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ghostbod99/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghostbod99/subscriptions",
                "organizations_url": "https://api.github.com/users/ghostbod99/orgs",
                "repos_url": "https://api.github.com/users/ghostbod99/repos",
                "events_url": "https://api.github.com/users/ghostbod99/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ghostbod99/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-12-17T02:58:30Z",
            "updated_at": "2014-12-17T02:58:30Z",
            "author_association": "NONE",
            "body": "Thank you. I will format my code Next time.\n'url_prefix=/foo' will match  a foo rule to foo/ , So i can not use url_prefix when i want to use the post.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/67310108",
            "html_url": "https://github.com/pallets/flask/issues/1282#issuecomment-67310108",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1282",
            "id": 67310108,
            "node_id": "MDEyOklzc3VlQ29tbWVudDY3MzEwMTA4",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-12-17T11:30:40Z",
            "updated_at": "2014-12-17T11:30:40Z",
            "author_association": "MEMBER",
            "body": "All `url_prefix` does is `prefix + whatever` - it does not add any special behavior. So if your prefix is `/foo` and you want a rule in your blueprint for `/foo` you pass an empty string for rule:\n\n```\n@bp_wh.route('', methods=['POST'])\n```\n\nBTW, you can edit your old post.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/67445251",
            "html_url": "https://github.com/pallets/flask/issues/1282#issuecomment-67445251",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1282",
            "id": 67445251,
            "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDQ1MjUx",
            "user": {
                "login": "ghostbod99",
                "id": 9301739,
                "node_id": "MDQ6VXNlcjkzMDE3Mzk=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/9301739?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ghostbod99",
                "html_url": "https://github.com/ghostbod99",
                "followers_url": "https://api.github.com/users/ghostbod99/followers",
                "following_url": "https://api.github.com/users/ghostbod99/following{/other_user}",
                "gists_url": "https://api.github.com/users/ghostbod99/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ghostbod99/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ghostbod99/subscriptions",
                "organizations_url": "https://api.github.com/users/ghostbod99/orgs",
                "repos_url": "https://api.github.com/users/ghostbod99/repos",
                "events_url": "https://api.github.com/users/ghostbod99/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ghostbod99/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-12-18T06:10:37Z",
            "updated_at": "2014-12-18T06:10:37Z",
            "author_association": "NONE",
            "body": "Thank you\n"
        }
    ]
}