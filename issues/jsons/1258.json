{
    "url": "https://api.github.com/repos/pallets/flask/issues/1258",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1258/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1258/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1258/events",
    "html_url": "https://github.com/pallets/flask/pull/1258",
    "id": 50280201,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjUxNDQzNjg=",
    "number": 1258,
    "title": "Use RuntimeError instead of asserts",
    "user": {
        "login": "eugene-eeo",
        "id": 3669236,
        "node_id": "MDQ6VXNlcjM2NjkyMzY=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/3669236?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eugene-eeo",
        "html_url": "https://github.com/eugene-eeo",
        "followers_url": "https://api.github.com/users/eugene-eeo/followers",
        "following_url": "https://api.github.com/users/eugene-eeo/following{/other_user}",
        "gists_url": "https://api.github.com/users/eugene-eeo/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/eugene-eeo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/eugene-eeo/subscriptions",
        "organizations_url": "https://api.github.com/users/eugene-eeo/orgs",
        "repos_url": "https://api.github.com/users/eugene-eeo/repos",
        "events_url": "https://api.github.com/users/eugene-eeo/events{/privacy}",
        "received_events_url": "https://api.github.com/users/eugene-eeo/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2014-11-27T11:13:41Z",
    "updated_at": "2014-11-27T14:02:38Z",
    "closed_at": "2014-11-27T13:52:38Z",
    "author_association": "NONE",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/1258",
        "html_url": "https://github.com/pallets/flask/pull/1258",
        "diff_url": "https://github.com/pallets/flask/pull/1258.diff",
        "patch_url": "https://github.com/pallets/flask/pull/1258.patch"
    },
    "body": "I am not quite sure why `assert` is used, raising an exception that means what it means (an error happening at runtime) is IMHO much clearer than just a plain `AssertionError`.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/64786814",
            "html_url": "https://github.com/pallets/flask/pull/1258#issuecomment-64786814",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1258",
            "id": 64786814,
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0Nzg2ODE0",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-11-27T12:53:34Z",
            "updated_at": "2014-11-27T12:53:34Z",
            "author_association": "MEMBER",
            "body": "I'm all for clearer error messages, but `AssertionError` is really the right exception to use for this, as the user shouldn't be able to trigger this condition under normal usage. In other words, if this exception is raised, there's a bug in Flask.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/64790269",
            "html_url": "https://github.com/pallets/flask/pull/1258#issuecomment-64790269",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1258",
            "id": 64790269,
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzkwMjY5",
            "user": {
                "login": "eugene-eeo",
                "id": 3669236,
                "node_id": "MDQ6VXNlcjM2NjkyMzY=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/3669236?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/eugene-eeo",
                "html_url": "https://github.com/eugene-eeo",
                "followers_url": "https://api.github.com/users/eugene-eeo/followers",
                "following_url": "https://api.github.com/users/eugene-eeo/following{/other_user}",
                "gists_url": "https://api.github.com/users/eugene-eeo/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/eugene-eeo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/eugene-eeo/subscriptions",
                "organizations_url": "https://api.github.com/users/eugene-eeo/orgs",
                "repos_url": "https://api.github.com/users/eugene-eeo/repos",
                "events_url": "https://api.github.com/users/eugene-eeo/events{/privacy}",
                "received_events_url": "https://api.github.com/users/eugene-eeo/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-11-27T13:28:15Z",
            "updated_at": "2014-11-27T13:28:15Z",
            "author_association": "NONE",
            "body": "Oh, I get it that the bug shouldn't happen in production and the developer could and should deploy with `python -OO` to avoid asserts being evaluated?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/64790484",
            "html_url": "https://github.com/pallets/flask/pull/1258#issuecomment-64790484",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1258",
            "id": 64790484,
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzkwNDg0",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-11-27T13:30:27Z",
            "updated_at": "2014-11-27T13:30:27Z",
            "author_association": "MEMBER",
            "body": "No, you can run Python normally in production. Did you get this exception?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/64791167",
            "html_url": "https://github.com/pallets/flask/pull/1258#issuecomment-64791167",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1258",
            "id": 64791167,
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzkxMTY3",
            "user": {
                "login": "eugene-eeo",
                "id": 3669236,
                "node_id": "MDQ6VXNlcjM2NjkyMzY=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/3669236?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/eugene-eeo",
                "html_url": "https://github.com/eugene-eeo",
                "followers_url": "https://api.github.com/users/eugene-eeo/followers",
                "following_url": "https://api.github.com/users/eugene-eeo/following{/other_user}",
                "gists_url": "https://api.github.com/users/eugene-eeo/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/eugene-eeo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/eugene-eeo/subscriptions",
                "organizations_url": "https://api.github.com/users/eugene-eeo/orgs",
                "repos_url": "https://api.github.com/users/eugene-eeo/repos",
                "events_url": "https://api.github.com/users/eugene-eeo/events{/privacy}",
                "received_events_url": "https://api.github.com/users/eugene-eeo/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-11-27T13:37:02Z",
            "updated_at": "2014-11-27T13:37:02Z",
            "author_association": "NONE",
            "body": "No, I was browsing through the source and found it weird that asserts were used instead of normal exceptions.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/64792689",
            "html_url": "https://github.com/pallets/flask/pull/1258#issuecomment-64792689",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1258",
            "id": 64792689,
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzkyNjg5",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-11-27T13:52:38Z",
            "updated_at": "2014-11-27T14:02:38Z",
            "author_association": "MEMBER",
            "body": "Alright. Because Flask is using assert-statements exactly as usually recommended. [The Python wiki explains the meaning of assertion errors](https://wiki.python.org/moin/UsingAssertionsEffectively):\n\n> Assertions are not a substitute for unit tests or system tests, but rather a complement. Because assertions are a clean way to examine the internal state of an object or function, they provide \"for free\" a clear-box assistance to a black-box test that examines the external behaviour.\n> \n> Assertions should _not_ be used to test for failure cases that can occur because of bad user input or operating system/environment failures, such as a file not being found. Instead, you should raise an exception, or print an error message, or whatever is appropriate. One important reason why assertions should only be used for self-tests of the program is that assertions can be disabled at compile time.\n\nIf this exception is raised, there is almost certainly a bug in Flask, and not the user's code. I don't have anything against providing a clearer error message, but raising `AssertionError` is completely fine in this situation.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/64793428",
            "html_url": "https://github.com/pallets/flask/pull/1258#issuecomment-64793428",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1258",
            "id": 64793428,
            "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzkzNDI4",
            "user": {
                "login": "DasIch",
                "id": 182316,
                "node_id": "MDQ6VXNlcjE4MjMxNg==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/182316?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/DasIch",
                "html_url": "https://github.com/DasIch",
                "followers_url": "https://api.github.com/users/DasIch/followers",
                "following_url": "https://api.github.com/users/DasIch/following{/other_user}",
                "gists_url": "https://api.github.com/users/DasIch/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/DasIch/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/DasIch/subscriptions",
                "organizations_url": "https://api.github.com/users/DasIch/orgs",
                "repos_url": "https://api.github.com/users/DasIch/repos",
                "events_url": "https://api.github.com/users/DasIch/events{/privacy}",
                "received_events_url": "https://api.github.com/users/DasIch/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-11-27T13:59:39Z",
            "updated_at": "2014-11-27T13:59:39Z",
            "author_association": "CONTRIBUTOR",
            "body": "Definitely agree with @untitaker here. These asserts should never trigger and could in principle be removed. Their purpose is primarily documentation, in that they state clearly which pre-conditions or invariants should hold and secondarily ensure (particularly during testing and development) that a systematic failure that could violate the assumptions implied by the assert is caught early.\n\nA RuntimeError on the other hand, may very well be raised if someone merely uses an API incorrectly.\n"
        }
    ]
}