{
    "url": "https://api.github.com/repos/pallets/flask/issues/1555",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1555/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1555/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1555/events",
    "html_url": "https://github.com/pallets/flask/issues/1555",
    "id": 101239138,
    "node_id": "MDU6SXNzdWUxMDEyMzkxMzg=",
    "number": 1555,
    "title": "request.files blocks indefinitely on iOS Safari file upload",
    "user": {
        "login": "expntly",
        "id": 6870452,
        "node_id": "MDQ6VXNlcjY4NzA0NTI=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/6870452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/expntly",
        "html_url": "https://github.com/expntly",
        "followers_url": "https://api.github.com/users/expntly/followers",
        "following_url": "https://api.github.com/users/expntly/following{/other_user}",
        "gists_url": "https://api.github.com/users/expntly/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/expntly/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/expntly/subscriptions",
        "organizations_url": "https://api.github.com/users/expntly/orgs",
        "repos_url": "https://api.github.com/users/expntly/repos",
        "events_url": "https://api.github.com/users/expntly/events{/privacy}",
        "received_events_url": "https://api.github.com/users/expntly/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2015-08-16T07:17:59Z",
    "updated_at": "2016-04-05T06:42:47Z",
    "closed_at": "2016-04-05T06:42:47Z",
    "author_association": "NONE",
    "body": "Flask (0.10.1)\nFlask-Cors (2.1.0)\n\nWhat happens is on file upload from an iPhone 6 Safari, the flask server hangs when trying to access request.files.  The same iPhone with Chrome works fine.  I tried an even bigger file with Chrome, works fine too, so size doesn't seem to be the issue.\n\n```\n@app.route(\"/upload\", methods=[\"POST\"])\ndef upload():\n  print request.files\n```\n\nFor debugging purposes, here's what the environ shows with the Safari client:\n\n```\n   'environ': {'CONTENT_LENGTH': '1496190',                                                                                                                                                                     \n               'CONTENT_TYPE': 'multipart/form-data; boundary=----WebKitFormBoundaryaQ6AnBdQhCxhm4b1',                                                                                                          \n               'HTTP_ACCEPT': 'application/json, text/plain, */*',\n               'HTTP_ACCEPT_ENCODING': 'gzip, deflate',\n               'HTTP_ACCEPT_LANGUAGE': 'en-us',\n               'HTTP_CONNECTION': 'keep-alive',\n               'HTTP_HOST': '192.168.1.155:5000',\n               'HTTP_ORIGIN': 'http://192.168.1.155:3000',\n               'HTTP_REFERER': 'http://192.168.1.155:3000/',\n               'HTTP_USER_AGENT': 'Mozilla/5.0 (iPhone; CPU iPhone OS 8_0 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) Version/8.0 Mobile/12A365 Safari/600.1.4',                                     \n               'PATH_INFO': '/upload',\n               'QUERY_STRING': '',\n               'REMOTE_ADDR': '192.168.1.137',                                                                                                                                                                  \n               'REMOTE_PORT': 52871,                                                                                                                                                                            \n               'REQUEST_METHOD': 'POST',\n               'SCRIPT_NAME': '',\n               'SERVER_NAME': '0.0.0.0',\n               'SERVER_PORT': '5000',\n               'SERVER_PROTOCOL': 'HTTP/1.1',\n               'SERVER_SOFTWARE': 'Werkzeug/0.10.4',\n               'werkzeug.request': <Request 'http://192.168.1.155:5000/upload' [POST]>,\n               'werkzeug.server.shutdown': <function shutdown_server at 0x10bab2938>,                                                                                                                           \n               'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10ac741e0>,                                                                                                                                  \n               'wsgi.input': <socket._fileobject object at 0x10baade50>,                                                                                                                                        \n               'wsgi.multiprocess': False,\n               'wsgi.multithread': False,\n               'wsgi.run_once': False,\n               'wsgi.url_scheme': 'http',\n               'wsgi.version': (1, 0)},\n```\n\nAnd the HTML is classic:\n\n```\n<form method=\"POST\" enctype=\"multipart/form-data\">\n  <input type=\"file\" name=\"thefile\" ...\n```\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/131584055",
            "html_url": "https://github.com/pallets/flask/issues/1555#issuecomment-131584055",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1555",
            "id": 131584055,
            "node_id": "MDEyOklzc3VlQ29tbWVudDEzMTU4NDA1NQ==",
            "user": {
                "login": "expntly",
                "id": 6870452,
                "node_id": "MDQ6VXNlcjY4NzA0NTI=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/6870452?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/expntly",
                "html_url": "https://github.com/expntly",
                "followers_url": "https://api.github.com/users/expntly/followers",
                "following_url": "https://api.github.com/users/expntly/following{/other_user}",
                "gists_url": "https://api.github.com/users/expntly/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/expntly/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/expntly/subscriptions",
                "organizations_url": "https://api.github.com/users/expntly/orgs",
                "repos_url": "https://api.github.com/users/expntly/repos",
                "events_url": "https://api.github.com/users/expntly/events{/privacy}",
                "received_events_url": "https://api.github.com/users/expntly/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-08-16T17:13:41Z",
            "updated_at": "2015-08-16T17:13:41Z",
            "author_association": "NONE",
            "body": "Updating the OS on this phone from 8.0 to 8.1.4 fixes the issue.  Still unsure what causes 8.0 to fail.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/205676115",
            "html_url": "https://github.com/pallets/flask/issues/1555#issuecomment-205676115",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1555",
            "id": 205676115,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIwNTY3NjExNQ==",
            "user": {
                "login": "jeffwidman",
                "id": 483314,
                "node_id": "MDQ6VXNlcjQ4MzMxNA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/483314?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jeffwidman",
                "html_url": "https://github.com/jeffwidman",
                "followers_url": "https://api.github.com/users/jeffwidman/followers",
                "following_url": "https://api.github.com/users/jeffwidman/following{/other_user}",
                "gists_url": "https://api.github.com/users/jeffwidman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jeffwidman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jeffwidman/subscriptions",
                "organizations_url": "https://api.github.com/users/jeffwidman/orgs",
                "repos_url": "https://api.github.com/users/jeffwidman/repos",
                "events_url": "https://api.github.com/users/jeffwidman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jeffwidman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-04-05T06:42:47Z",
            "updated_at": "2016-04-05T06:42:47Z",
            "author_association": "MEMBER",
            "body": "Thanks for the report, and for letting us know that updating iOS fixed it. \n\nFor now, I'm going to close this, as there isn't a clear next action or high-priority bug here. I also doubt any of the maintainers have that specific iOS version for debugging. \n\nIf you or anyone else can replicate with more info so we can actually track down what's happening, then we can re-open.\n"
        }
    ]
}