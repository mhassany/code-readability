{
    "url": "https://api.github.com/repos/pallets/flask/issues/1433",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1433/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1433/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1433/events",
    "html_url": "https://github.com/pallets/flask/issues/1433",
    "id": 67906948,
    "node_id": "MDU6SXNzdWU2NzkwNjk0OA==",
    "number": 1433,
    "title": "Should we cache errorhandlers or not?",
    "user": {
        "login": "untitaker",
        "id": 837573,
        "node_id": "MDQ6VXNlcjgzNzU3Mw==",
        "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/untitaker",
        "html_url": "https://github.com/untitaker",
        "followers_url": "https://api.github.com/users/untitaker/followers",
        "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
        "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
        "organizations_url": "https://api.github.com/users/untitaker/orgs",
        "repos_url": "https://api.github.com/users/untitaker/repos",
        "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/untitaker/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 125213303,
            "node_id": "MDU6TGFiZWwxMjUyMTMzMDM=",
            "url": "https://api.github.com/repos/pallets/flask/labels/discussion",
            "name": "discussion",
            "color": "c5def5",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": {
        "url": "https://api.github.com/repos/pallets/flask/milestones/2",
        "html_url": "https://github.com/pallets/flask/milestone/2",
        "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels",
        "id": 795954,
        "node_id": "MDk6TWlsZXN0b25lNzk1OTU0",
        "number": 2,
        "title": "1.0",
        "description": "",
        "creator": {
            "login": "untitaker",
            "id": 837573,
            "node_id": "MDQ6VXNlcjgzNzU3Mw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/untitaker",
            "html_url": "https://github.com/untitaker",
            "followers_url": "https://api.github.com/users/untitaker/followers",
            "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
            "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
            "organizations_url": "https://api.github.com/users/untitaker/orgs",
            "repos_url": "https://api.github.com/users/untitaker/repos",
            "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/untitaker/received_events",
            "type": "User",
            "site_admin": false
        },
        "open_issues": 0,
        "closed_issues": 159,
        "state": "closed",
        "created_at": "2014-09-19T15:47:20Z",
        "updated_at": "2018-04-26T21:07:44Z",
        "due_on": "2018-04-26T07:00:00Z",
        "closed_at": "2018-04-26T21:07:44Z"
    },
    "comments": 5,
    "created_at": "2015-04-12T12:02:06Z",
    "updated_at": "2017-06-05T09:20:02Z",
    "closed_at": "2017-06-04T20:29:33Z",
    "author_association": "MEMBER",
    "body": "Cont. https://github.com/mitsuhiko/flask/pull/1291#discussion_r27856289\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/92047594",
            "html_url": "https://github.com/pallets/flask/issues/1433#issuecomment-92047594",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1433",
            "id": 92047594,
            "node_id": "MDEyOklzc3VlQ29tbWVudDkyMDQ3NTk0",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-04-12T12:06:09Z",
            "updated_at": "2015-04-12T12:06:09Z",
            "author_association": "MEMBER",
            "body": "cc @flying-sheep @adambyrtek\n- If the caching is going to stay, we should document it very well\n- Let @mitsuhiko decide?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/92049220",
            "html_url": "https://github.com/pallets/flask/issues/1433#issuecomment-92049220",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1433",
            "id": 92049220,
            "node_id": "MDEyOklzc3VlQ29tbWVudDkyMDQ5MjIw",
            "user": {
                "login": "adambyrtek",
                "id": 8214,
                "node_id": "MDQ6VXNlcjgyMTQ=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/8214?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/adambyrtek",
                "html_url": "https://github.com/adambyrtek",
                "followers_url": "https://api.github.com/users/adambyrtek/followers",
                "following_url": "https://api.github.com/users/adambyrtek/following{/other_user}",
                "gists_url": "https://api.github.com/users/adambyrtek/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/adambyrtek/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/adambyrtek/subscriptions",
                "organizations_url": "https://api.github.com/users/adambyrtek/orgs",
                "repos_url": "https://api.github.com/users/adambyrtek/repos",
                "events_url": "https://api.github.com/users/adambyrtek/events{/privacy}",
                "received_events_url": "https://api.github.com/users/adambyrtek/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-04-12T12:31:46Z",
            "updated_at": "2015-04-12T12:31:46Z",
            "author_association": "CONTRIBUTOR",
            "body": "Short summary of my position:\n- When Flask user encounters issues with error handling he is likely to check the contents of `error_handler_spec` during debugging, and be surprised that there are entries there which haven't been explicitly registered.\n- On first sight `error_handler_spec` seems to be modified only when a new handler is registered. It's not obvious that we pass one of the inner dicts by reference and modify it inside `_find_error_handler`, especially since the name doesn't suggest that the function has side effects.\n- I think optimizations are worth introducing when there is a real performance problem to solve, and I don't see any problem here.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/109554584",
            "html_url": "https://github.com/pallets/flask/issues/1433#issuecomment-109554584",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1433",
            "id": 109554584,
            "node_id": "MDEyOklzc3VlQ29tbWVudDEwOTU1NDU4NA==",
            "user": {
                "login": "flying-sheep",
                "id": 291575,
                "node_id": "MDQ6VXNlcjI5MTU3NQ==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/291575?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/flying-sheep",
                "html_url": "https://github.com/flying-sheep",
                "followers_url": "https://api.github.com/users/flying-sheep/followers",
                "following_url": "https://api.github.com/users/flying-sheep/following{/other_user}",
                "gists_url": "https://api.github.com/users/flying-sheep/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/flying-sheep/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/flying-sheep/subscriptions",
                "organizations_url": "https://api.github.com/users/flying-sheep/orgs",
                "repos_url": "https://api.github.com/users/flying-sheep/repos",
                "events_url": "https://api.github.com/users/flying-sheep/events{/privacy}",
                "received_events_url": "https://api.github.com/users/flying-sheep/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-06-06T09:09:11Z",
            "updated_at": "2015-06-06T09:09:11Z",
            "author_association": "CONTRIBUTOR",
            "body": "OK, my arguments rehashed:\n- The extent of the performance gain is obvious (we save traversing the exception hierarchy upwards every time a certain exception is hit), but it\u2019s not clear if it matters\n- The implementation is literally two lines\n- There is no cache invalidation since users can\u2019t register new handlers after the app started*\n- The two points above mean that there is no potential for failure\n\nThe \u201c`error_handler_spec` will be filled with crap during debugging\u201d argument is good though. we could fix it by using a `ChainMap`, chaining cache and `error_handler_spec`. then they are clearly separated, which would also affect the second raised point.\n\nThe third point is also valid: We\u2019d need to profile a big flask app with extensive error handler usage, if such a thing exists.\n\n---\n\n*this means that once the first request comes in and might populate the cache, the hierarchy of handled exceptions is frozen, so every exception type will always trigger the same handler in the future of the app lifetime.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/306064863",
            "html_url": "https://github.com/pallets/flask/issues/1433#issuecomment-306064863",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1433",
            "id": 306064863,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjA2NDg2Mw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-04T20:29:33Z",
            "updated_at": "2017-06-04T20:29:33Z",
            "author_association": "MEMBER",
            "body": "Based on #2267, I'm going to remove the cache. I don't expect the hierarchy to be deep enough for this to be meaningful. If there is a performance issue, the developer can always register the handler for the other exceptions manually."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/306142705",
            "html_url": "https://github.com/pallets/flask/issues/1433#issuecomment-306142705",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1433",
            "id": 306142705,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjE0MjcwNQ==",
            "user": {
                "login": "flying-sheep",
                "id": 291575,
                "node_id": "MDQ6VXNlcjI5MTU3NQ==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/291575?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/flying-sheep",
                "html_url": "https://github.com/flying-sheep",
                "followers_url": "https://api.github.com/users/flying-sheep/followers",
                "following_url": "https://api.github.com/users/flying-sheep/following{/other_user}",
                "gists_url": "https://api.github.com/users/flying-sheep/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/flying-sheep/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/flying-sheep/subscriptions",
                "organizations_url": "https://api.github.com/users/flying-sheep/orgs",
                "repos_url": "https://api.github.com/users/flying-sheep/repos",
                "events_url": "https://api.github.com/users/flying-sheep/events{/privacy}",
                "received_events_url": "https://api.github.com/users/flying-sheep/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-05T09:20:02Z",
            "updated_at": "2017-06-05T09:20:02Z",
            "author_association": "CONTRIBUTOR",
            "body": "sure, since there seems to be a problem with the cache\u2019s semantixs, go ahead!"
        }
    ]
}