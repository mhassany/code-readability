{
    "url": "https://api.github.com/repos/pallets/flask/issues/2857",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2857/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2857/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2857/events",
    "html_url": "https://github.com/pallets/flask/issues/2857",
    "id": 339924649,
    "node_id": "MDU6SXNzdWUzMzk5MjQ2NDk=",
    "number": 2857,
    "title": "Jsonify always returns datetime objects as GMT timezone",
    "user": {
        "login": "wayneworkman",
        "id": 13314799,
        "node_id": "MDQ6VXNlcjEzMzE0Nzk5",
        "avatar_url": "https://avatars3.githubusercontent.com/u/13314799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wayneworkman",
        "html_url": "https://github.com/wayneworkman",
        "followers_url": "https://api.github.com/users/wayneworkman/followers",
        "following_url": "https://api.github.com/users/wayneworkman/following{/other_user}",
        "gists_url": "https://api.github.com/users/wayneworkman/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wayneworkman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wayneworkman/subscriptions",
        "organizations_url": "https://api.github.com/users/wayneworkman/orgs",
        "repos_url": "https://api.github.com/users/wayneworkman/repos",
        "events_url": "https://api.github.com/users/wayneworkman/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wayneworkman/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-07-10T16:47:53Z",
    "updated_at": "2019-05-16T01:45:45Z",
    "closed_at": "2018-07-10T18:05:05Z",
    "author_association": "NONE",
    "body": "### Issue\r\nJsonify always returns datetime objects as GMT timezone. Seems like this has been a problem in the past with these issues:\r\n\r\n- https://github.com/pallets/flask/issues/2392\r\n- https://github.com/pallets/flask/pull/2374\r\n\r\n### Environment\r\n\r\n* Python version: 2.7.5\r\n* Flask version: 1.0.2\r\n* Werkzeug version: 0.14.1\r\n* pytz version: 2018.5\r\n\r\n### Testcode\r\n```\r\n#!/usr/bin/env python2.7\r\n\r\nfrom werkzeug.http import http_date\r\nfrom datetime import datetime\r\nimport pytz\r\n\r\nfrom flask import Flask, jsonify\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route('/')\r\ndef root():\r\n    # Localize time\r\n    local_time = pytz.timezone(\"America/Chicago\")\r\n    time = datetime.utcnow().replace(microsecond=0).replace(tzinfo=pytz.utc)\r\n    time = time.astimezone(local_time)\r\n\r\n    print(\"iso format:\", time.isoformat())\r\n    print(\"object:\", time.tzinfo)\r\n    print(\"http date:\", http_date(time))\r\n\r\n    result = [time]\r\n\r\n    print(\"Test object: %s\" % result)\r\n\r\n    return jsonify(result)\r\n\r\napp.run(host='127.0.0.1', port=8080, debug=False)\r\n```\r\n### Console output:\r\n```\r\nTest object: [datetime.datetime(2018, 7, 10, 11, 45, 20, tzinfo=<DstTzInfo 'America/Chicago' CDT-1 day, 19:00:00 DST>)]\r\n```\r\n### Jsonify output:\r\n```\r\n[\"Tue, 10 Jul 2018 16:45:20 GMT\"]\r\n```\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/403914573",
            "html_url": "https://github.com/pallets/flask/issues/2857#issuecomment-403914573",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2857",
            "id": 403914573,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzkxNDU3Mw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-07-10T18:05:05Z",
            "updated_at": "2018-07-10T18:05:05Z",
            "author_association": "MEMBER",
            "body": "That's the correct behavior. The default `JSONEncoder` accepts times with any timezone as *input*, but always *outputs* UTC (GMT) in RFC 1123 format.\r\n\r\nIn the vast majority of cases, you should be working with UTC at boundaries and converting to local time only when displaying to users.\r\n\r\nIf you want to change the format that dates are serialized, including supporting other timezones, override `app.json_encoder` with your own `flask.json.JSONEncoder` subclass."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/492884615",
            "html_url": "https://github.com/pallets/flask/issues/2857#issuecomment-492884615",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2857",
            "id": 492884615,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Mjg4NDYxNQ==",
            "user": {
                "login": "jhwinter",
                "id": 14960780,
                "node_id": "MDQ6VXNlcjE0OTYwNzgw",
                "avatar_url": "https://avatars2.githubusercontent.com/u/14960780?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jhwinter",
                "html_url": "https://github.com/jhwinter",
                "followers_url": "https://api.github.com/users/jhwinter/followers",
                "following_url": "https://api.github.com/users/jhwinter/following{/other_user}",
                "gists_url": "https://api.github.com/users/jhwinter/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jhwinter/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jhwinter/subscriptions",
                "organizations_url": "https://api.github.com/users/jhwinter/orgs",
                "repos_url": "https://api.github.com/users/jhwinter/repos",
                "events_url": "https://api.github.com/users/jhwinter/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jhwinter/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-05-16T01:45:45Z",
            "updated_at": "2019-05-16T01:45:45Z",
            "author_association": "NONE",
            "body": "According to this [Stack Overflow answer](https://stackoverflow.com/a/25729218), ISO 8601 is the preferred standard over RFC 1123/822/2822. This [link](http://jkorpela.fi/iso8601.html) further defines the current best practice."
        }
    ]
}