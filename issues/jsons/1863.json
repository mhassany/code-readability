{
    "url": "https://api.github.com/repos/pallets/flask/issues/1863",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1863/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1863/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1863/events",
    "html_url": "https://github.com/pallets/flask/pull/1863",
    "id": 158245525,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NzI0MjE3NTI=",
    "number": 1863,
    "title": "Fix Issue 1847 - Adding Current Path when Invoking Flask-Cli Run",
    "user": {
        "login": "dorianpula",
        "id": 2420711,
        "node_id": "MDQ6VXNlcjI0MjA3MTE=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/2420711?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dorianpula",
        "html_url": "https://github.com/dorianpula",
        "followers_url": "https://api.github.com/users/dorianpula/followers",
        "following_url": "https://api.github.com/users/dorianpula/following{/other_user}",
        "gists_url": "https://api.github.com/users/dorianpula/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dorianpula/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dorianpula/subscriptions",
        "organizations_url": "https://api.github.com/users/dorianpula/orgs",
        "repos_url": "https://api.github.com/users/dorianpula/repos",
        "events_url": "https://api.github.com/users/dorianpula/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dorianpula/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 11,
    "created_at": "2016-06-02T21:36:54Z",
    "updated_at": "2018-10-23T17:43:48Z",
    "closed_at": "2016-06-03T13:01:28Z",
    "author_association": "NONE",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/1863",
        "html_url": "https://github.com/pallets/flask/pull/1863",
        "diff_url": "https://github.com/pallets/flask/pull/1863.diff",
        "patch_url": "https://github.com/pallets/flask/pull/1863.patch"
    },
    "body": "Fix for: #1847 \n\nAdds the current directory to the Python path, when invoking a local development server.  `flask run` was unable to find the app's module in the PYTHONPATH, while `python -m flask run` adds the current working directory to the PYTHONPATH automatically.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223430526",
            "html_url": "https://github.com/pallets/flask/pull/1863#issuecomment-223430526",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1863",
            "id": 223430526,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzQzMDUyNg==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-02T21:37:54Z",
            "updated_at": "2016-06-02T21:37:54Z",
            "author_association": "MEMBER",
            "body": "Strong :-1:; IMO people should add a setup.py\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223431695",
            "html_url": "https://github.com/pallets/flask/pull/1863#issuecomment-223431695",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1863",
            "id": 223431695,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzQzMTY5NQ==",
            "user": {
                "login": "dorianpula",
                "id": 2420711,
                "node_id": "MDQ6VXNlcjI0MjA3MTE=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/2420711?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dorianpula",
                "html_url": "https://github.com/dorianpula",
                "followers_url": "https://api.github.com/users/dorianpula/followers",
                "following_url": "https://api.github.com/users/dorianpula/following{/other_user}",
                "gists_url": "https://api.github.com/users/dorianpula/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dorianpula/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dorianpula/subscriptions",
                "organizations_url": "https://api.github.com/users/dorianpula/orgs",
                "repos_url": "https://api.github.com/users/dorianpula/repos",
                "events_url": "https://api.github.com/users/dorianpula/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dorianpula/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-02T21:42:51Z",
            "updated_at": "2016-06-03T06:42:54Z",
            "author_association": "NONE",
            "body": "Sure, but the fact is that the behaviour between `python -m flask run` and `flask run` is inconsistent. Not an ideal fix, but then again not every flask app should need a `setup.py`, if it not being distributed via PyPI.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223431870",
            "html_url": "https://github.com/pallets/flask/pull/1863#issuecomment-223431870",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1863",
            "id": 223431870,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzQzMTg3MA==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-02T21:43:30Z",
            "updated_at": "2016-06-02T21:43:30Z",
            "author_association": "MEMBER",
            "body": "A setup.py makes perfect sense even if you never intend to publish your package on PyPI. It's how your register a package properly within your Python environment.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223572399",
            "html_url": "https://github.com/pallets/flask/pull/1863#issuecomment-223572399",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1863",
            "id": 223572399,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzU3MjM5OQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T13:01:28Z",
            "updated_at": "2016-06-03T13:01:28Z",
            "author_association": "MEMBER",
            "body": "You can already set `FLASK_APP=file.py` (or `FLASK_APP=package/__init__.py`), and the appropriate path will be added to `sys.path`.\n\n`setup.py` is very useful in a lot of cases, but it is not required.\n\nAll of this is poorly documented and a few instances in the quickstart are completely wrong (i.e. nonfunctional) in 0.11 and only fixed in master. If you find any other instances where this behavior could be clarified, feel free to point them out. Thanks!\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223590198",
            "html_url": "https://github.com/pallets/flask/pull/1863#issuecomment-223590198",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1863",
            "id": 223590198,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzU5MDE5OA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T14:15:00Z",
            "updated_at": "2016-06-03T14:15:00Z",
            "author_association": "MEMBER",
            "body": "@untitaker there appears to be some path issues with pointing at `__init__.py`.  https://github.com/pallets/flask/issues/1847#issuecomment-223439632  Pointing at `__init__` seems unintuitive, given that you would normally never do that in imports or `-m` calls.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223592079",
            "html_url": "https://github.com/pallets/flask/pull/1863#issuecomment-223592079",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1863",
            "id": 223592079,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzU5MjA3OQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T14:21:43Z",
            "updated_at": "2016-06-03T14:21:43Z",
            "author_association": "MEMBER",
            "body": "I would expect to be able to point to `FLASK_APP=package`, and I'm sure the vast majority of \"didn't use setup.py\" cases are running from the app directory.  Given that `FLASK_APP=package python -m flask run` works in this case, and is doing the same thing to the path, this seems like an ok workaround to make both behave the same.\n\nMaybe we could be smarter about when we add the current directory to the path, or output a warning to use setup.py instead when we do.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223592883",
            "html_url": "https://github.com/pallets/flask/pull/1863#issuecomment-223592883",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1863",
            "id": 223592883,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzU5Mjg4Mw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T14:24:34Z",
            "updated_at": "2016-06-03T14:24:34Z",
            "author_association": "MEMBER",
            "body": "Either way, we need a clearer message when this fails, rather than just dumping an `ImportError` traceback.\n\n> Could not locate a Flask app at [location].  Install your app in development mode, or see [the docs] for more information.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223634769",
            "html_url": "https://github.com/pallets/flask/pull/1863#issuecomment-223634769",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1863",
            "id": 223634769,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzYzNDc2OQ==",
            "user": {
                "login": "jeffwidman",
                "id": 483314,
                "node_id": "MDQ6VXNlcjQ4MzMxNA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/483314?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jeffwidman",
                "html_url": "https://github.com/jeffwidman",
                "followers_url": "https://api.github.com/users/jeffwidman/followers",
                "following_url": "https://api.github.com/users/jeffwidman/following{/other_user}",
                "gists_url": "https://api.github.com/users/jeffwidman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jeffwidman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jeffwidman/subscriptions",
                "organizations_url": "https://api.github.com/users/jeffwidman/orgs",
                "repos_url": "https://api.github.com/users/jeffwidman/repos",
                "events_url": "https://api.github.com/users/jeffwidman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jeffwidman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T17:01:13Z",
            "updated_at": "2016-06-03T17:01:13Z",
            "author_association": "MEMBER",
            "body": "Not a fan of forcing folks to use a `setup.py`, I prefer that we let folks get up and running with a simple `flask run` within their app directory.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223639491",
            "html_url": "https://github.com/pallets/flask/pull/1863#issuecomment-223639491",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1863",
            "id": 223639491,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzYzOTQ5MQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T17:20:39Z",
            "updated_at": "2016-06-03T17:20:39Z",
            "author_association": "MEMBER",
            "body": "See https://github.com/pallets/flask/pull/1872, I think this got fixed.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223641100",
            "html_url": "https://github.com/pallets/flask/pull/1863#issuecomment-223641100",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1863",
            "id": 223641100,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzY0MTEwMA==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T17:26:58Z",
            "updated_at": "2016-06-03T17:27:03Z",
            "author_association": "MEMBER",
            "body": "@jeffwidman I don't think that's possible at all. How would the command know which package/file to import?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223645735",
            "html_url": "https://github.com/pallets/flask/pull/1863#issuecomment-223645735",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1863",
            "id": 223645735,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzY0NTczNQ==",
            "user": {
                "login": "jeffwidman",
                "id": 483314,
                "node_id": "MDQ6VXNlcjQ4MzMxNA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/483314?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jeffwidman",
                "html_url": "https://github.com/jeffwidman",
                "followers_url": "https://api.github.com/users/jeffwidman/followers",
                "following_url": "https://api.github.com/users/jeffwidman/following{/other_user}",
                "gists_url": "https://api.github.com/users/jeffwidman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jeffwidman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jeffwidman/subscriptions",
                "organizations_url": "https://api.github.com/users/jeffwidman/orgs",
                "repos_url": "https://api.github.com/users/jeffwidman/repos",
                "events_url": "https://api.github.com/users/jeffwidman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jeffwidman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T17:45:25Z",
            "updated_at": "2016-06-03T17:45:25Z",
            "author_association": "MEMBER",
            "body": "Yeah, you're right. I am so used to accessing `run` via a simple custom `manage.py run` command that I wrote that I didn't think through how that might work if someone doesn't write their own custom command.\n"
        }
    ]
}