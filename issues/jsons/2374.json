{
    "url": "https://api.github.com/repos/pallets/flask/issues/2374",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2374/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2374/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2374/events",
    "html_url": "https://github.com/pallets/flask/pull/2374",
    "id": 235987684,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTI1Njc2NDM2",
    "number": 2374,
    "title": "Correctly JSON-encode datetimes aware of non-UTC timezones",
    "user": {
        "login": "astralblue",
        "id": 1522566,
        "node_id": "MDQ6VXNlcjE1MjI1NjY=",
        "avatar_url": "https://avatars2.githubusercontent.com/u/1522566?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/astralblue",
        "html_url": "https://github.com/astralblue",
        "followers_url": "https://api.github.com/users/astralblue/followers",
        "following_url": "https://api.github.com/users/astralblue/following{/other_user}",
        "gists_url": "https://api.github.com/users/astralblue/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/astralblue/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/astralblue/subscriptions",
        "organizations_url": "https://api.github.com/users/astralblue/orgs",
        "repos_url": "https://api.github.com/users/astralblue/repos",
        "events_url": "https://api.github.com/users/astralblue/events{/privacy}",
        "received_events_url": "https://api.github.com/users/astralblue/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": {
        "url": "https://api.github.com/repos/pallets/flask/milestones/2",
        "html_url": "https://github.com/pallets/flask/milestone/2",
        "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels",
        "id": 795954,
        "node_id": "MDk6TWlsZXN0b25lNzk1OTU0",
        "number": 2,
        "title": "1.0",
        "description": "",
        "creator": {
            "login": "untitaker",
            "id": 837573,
            "node_id": "MDQ6VXNlcjgzNzU3Mw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/untitaker",
            "html_url": "https://github.com/untitaker",
            "followers_url": "https://api.github.com/users/untitaker/followers",
            "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
            "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
            "organizations_url": "https://api.github.com/users/untitaker/orgs",
            "repos_url": "https://api.github.com/users/untitaker/repos",
            "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/untitaker/received_events",
            "type": "User",
            "site_admin": false
        },
        "open_issues": 0,
        "closed_issues": 159,
        "state": "closed",
        "created_at": "2014-09-19T15:47:20Z",
        "updated_at": "2018-04-26T21:07:44Z",
        "due_on": "2018-04-26T07:00:00Z",
        "closed_at": "2018-04-26T21:07:44Z"
    },
    "comments": 11,
    "created_at": "2017-06-14T19:39:26Z",
    "updated_at": "2018-02-11T02:09:51Z",
    "closed_at": "2017-06-15T01:42:15Z",
    "author_association": "NONE",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/2374",
        "html_url": "https://github.com/pallets/flask/pull/2374",
        "diff_url": "https://github.com/pallets/flask/pull/2374.diff",
        "patch_url": "https://github.com/pallets/flask/pull/2374.patch"
    },
    "body": "http_date() requires timetuple in UTC, but JSONEncoder.default() was\r\npassing a local timetuple instead.\r\n\r\nThis fixes #2372.\r\n\r\n<!--\r\nCommit checklist:\r\n\r\n* add tests that fail without the patch\r\n* ensure all tests pass with ``pytest``\r\n* add documentation to the relevant docstrings or pages\r\n* add ``versionadded`` or ``versionchanged`` directives to relevant docstrings\r\n* add a changelog entry if this patch changes code\r\n\r\nTests, coverage, and docs will be run automatically when you submit the pull\r\nrequest, but running them yourself can save time.\r\n-->\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308537871",
            "html_url": "https://github.com/pallets/flask/pull/2374#issuecomment-308537871",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2374",
            "id": 308537871,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODUzNzg3MQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-14T19:45:10Z",
            "updated_at": "2017-06-14T19:45:10Z",
            "author_association": "MEMBER",
            "body": "Thanks! Nice use of parametrize in the test.\r\n\r\nIs it possible to test timezones without depending on pytz?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308539510",
            "html_url": "https://github.com/pallets/flask/pull/2374#issuecomment-308539510",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2374",
            "id": 308539510,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODUzOTUxMA==",
            "user": {
                "login": "astralblue",
                "id": 1522566,
                "node_id": "MDQ6VXNlcjE1MjI1NjY=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1522566?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/astralblue",
                "html_url": "https://github.com/astralblue",
                "followers_url": "https://api.github.com/users/astralblue/followers",
                "following_url": "https://api.github.com/users/astralblue/following{/other_user}",
                "gists_url": "https://api.github.com/users/astralblue/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/astralblue/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/astralblue/subscriptions",
                "organizations_url": "https://api.github.com/users/astralblue/orgs",
                "repos_url": "https://api.github.com/users/astralblue/repos",
                "events_url": "https://api.github.com/users/astralblue/events{/privacy}",
                "received_events_url": "https://api.github.com/users/astralblue/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-14T19:51:55Z",
            "updated_at": "2017-06-14T20:23:23Z",
            "author_association": "NONE",
            "body": "`datetime.timezone` should theoretically be usable for simple cases (as we do not need DST logic of pytz to test JSONEncoder).  Will look into that."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308546858",
            "html_url": "https://github.com/pallets/flask/pull/2374#issuecomment-308546858",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2374",
            "id": 308546858,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODU0Njg1OA==",
            "user": {
                "login": "astralblue",
                "id": 1522566,
                "node_id": "MDQ6VXNlcjE1MjI1NjY=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1522566?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/astralblue",
                "html_url": "https://github.com/astralblue",
                "followers_url": "https://api.github.com/users/astralblue/followers",
                "following_url": "https://api.github.com/users/astralblue/following{/other_user}",
                "gists_url": "https://api.github.com/users/astralblue/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/astralblue/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/astralblue/subscriptions",
                "organizations_url": "https://api.github.com/users/astralblue/orgs",
                "repos_url": "https://api.github.com/users/astralblue/repos",
                "events_url": "https://api.github.com/users/astralblue/events{/privacy}",
                "received_events_url": "https://api.github.com/users/astralblue/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-14T20:21:20Z",
            "updated_at": "2017-06-14T20:23:48Z",
            "author_association": "NONE",
            "body": "The new method fails because `datetime.timezone` is Python 3 only.  x_x  The only alternative would be to hand-spin a `datetime.tzinfo` subclass, which I feel is an overkill.  x_x"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308548981",
            "html_url": "https://github.com/pallets/flask/pull/2374#issuecomment-308548981",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2374",
            "id": 308548981,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODU0ODk4MQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-14T20:29:50Z",
            "updated_at": "2017-06-14T20:29:50Z",
            "author_association": "MEMBER",
            "body": "I'm fine with a test dependency on pytz then."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308549228",
            "html_url": "https://github.com/pallets/flask/pull/2374#issuecomment-308549228",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2374",
            "id": 308549228,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODU0OTIyOA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-14T20:30:49Z",
            "updated_at": "2017-06-14T20:30:49Z",
            "author_association": "MEMBER",
            "body": "Be sure to add the dependency to the extra requirements in `setup.py` as well as `tox.ini`."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308549887",
            "html_url": "https://github.com/pallets/flask/pull/2374#issuecomment-308549887",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2374",
            "id": 308549887,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODU0OTg4Nw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-14T20:33:25Z",
            "updated_at": "2017-06-14T20:35:34Z",
            "author_association": "MEMBER",
            "body": "I take it back, that would mean a simple call to `pytest` would fail unless we made the test optional. You can use a simple fixed offset timezone for testing, there's an example at the bottom of the datetime.tzinfo docs."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308559359",
            "html_url": "https://github.com/pallets/flask/pull/2374#issuecomment-308559359",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2374",
            "id": 308559359,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODU1OTM1OQ==",
            "user": {
                "login": "astralblue",
                "id": 1522566,
                "node_id": "MDQ6VXNlcjE1MjI1NjY=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1522566?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/astralblue",
                "html_url": "https://github.com/astralblue",
                "followers_url": "https://api.github.com/users/astralblue/followers",
                "following_url": "https://api.github.com/users/astralblue/following{/other_user}",
                "gists_url": "https://api.github.com/users/astralblue/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/astralblue/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/astralblue/subscriptions",
                "organizations_url": "https://api.github.com/users/astralblue/orgs",
                "repos_url": "https://api.github.com/users/astralblue/repos",
                "events_url": "https://api.github.com/users/astralblue/events{/privacy}",
                "received_events_url": "https://api.github.com/users/astralblue/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-14T21:11:06Z",
            "updated_at": "2017-06-14T21:11:06Z",
            "author_association": "NONE",
            "body": "Oops, I missed the edit to your comment and misunderstood.  Will revert these changes."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/308561789",
            "html_url": "https://github.com/pallets/flask/pull/2374#issuecomment-308561789",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2374",
            "id": 308561789,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwODU2MTc4OQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-06-14T21:21:19Z",
            "updated_at": "2017-06-14T21:21:19Z",
            "author_association": "MEMBER",
            "body": "\ud83d\ude13 sorry for the confusion"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/326134648",
            "html_url": "https://github.com/pallets/flask/pull/2374#issuecomment-326134648",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2374",
            "id": 326134648,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjEzNDY0OA==",
            "user": {
                "login": "zsiegel92",
                "id": 26341564,
                "node_id": "MDQ6VXNlcjI2MzQxNTY0",
                "avatar_url": "https://avatars3.githubusercontent.com/u/26341564?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/zsiegel92",
                "html_url": "https://github.com/zsiegel92",
                "followers_url": "https://api.github.com/users/zsiegel92/followers",
                "following_url": "https://api.github.com/users/zsiegel92/following{/other_user}",
                "gists_url": "https://api.github.com/users/zsiegel92/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/zsiegel92/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zsiegel92/subscriptions",
                "organizations_url": "https://api.github.com/users/zsiegel92/orgs",
                "repos_url": "https://api.github.com/users/zsiegel92/repos",
                "events_url": "https://api.github.com/users/zsiegel92/events{/privacy}",
                "received_events_url": "https://api.github.com/users/zsiegel92/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-08-30T22:15:11Z",
            "updated_at": "2017-08-30T22:15:11Z",
            "author_association": "NONE",
            "body": "Hey all, Flask 0.12.2 was released in May, so this can't be part of that. Will this be part of 0.13? For now, I will send timezone info separately.\r\n\r\nThank you!!"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/326156563",
            "html_url": "https://github.com/pallets/flask/pull/2374#issuecomment-326156563",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2374",
            "id": 326156563,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMyNjE1NjU2Mw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-08-31T00:37:28Z",
            "updated_at": "2017-08-31T00:37:48Z",
            "author_association": "MEMBER",
            "body": "This will be part of the next release, it is included in the milestone."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/364713010",
            "html_url": "https://github.com/pallets/flask/pull/2374#issuecomment-364713010",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2374",
            "id": 364713010,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDcxMzAxMA==",
            "user": {
                "login": "spacemunkey77",
                "id": 26253024,
                "node_id": "MDQ6VXNlcjI2MjUzMDI0",
                "avatar_url": "https://avatars2.githubusercontent.com/u/26253024?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/spacemunkey77",
                "html_url": "https://github.com/spacemunkey77",
                "followers_url": "https://api.github.com/users/spacemunkey77/followers",
                "following_url": "https://api.github.com/users/spacemunkey77/following{/other_user}",
                "gists_url": "https://api.github.com/users/spacemunkey77/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/spacemunkey77/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/spacemunkey77/subscriptions",
                "organizations_url": "https://api.github.com/users/spacemunkey77/orgs",
                "repos_url": "https://api.github.com/users/spacemunkey77/repos",
                "events_url": "https://api.github.com/users/spacemunkey77/events{/privacy}",
                "received_events_url": "https://api.github.com/users/spacemunkey77/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-02-11T02:09:51Z",
            "updated_at": "2018-02-11T02:09:51Z",
            "author_association": "NONE",
            "body": "Using  Flask 0.13-dev and jsonify() is still setting times in UTC. I have set the local time zone using the following code snippet:\r\n\r\n    tz = TimezoneFinder()\r\n    ltz = tz.timezone_at(lng=longitude, lat=latitude)\r\n    os.environ['TZ'] = ltz\r\n    time.tzset()\r\n "
        }
    ]
}