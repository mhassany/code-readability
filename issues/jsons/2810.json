{
    "url": "https://api.github.com/repos/pallets/flask/issues/2810",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2810/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2810/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2810/events",
    "html_url": "https://github.com/pallets/flask/issues/2810",
    "id": 327666476,
    "node_id": "MDU6SXNzdWUzMjc2NjY0NzY=",
    "number": 2810,
    "title": "Missing `Content-Disposition` leads to empty `requests.form`",
    "user": {
        "login": "julian-r",
        "id": 709223,
        "node_id": "MDQ6VXNlcjcwOTIyMw==",
        "avatar_url": "https://avatars3.githubusercontent.com/u/709223?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/julian-r",
        "html_url": "https://github.com/julian-r",
        "followers_url": "https://api.github.com/users/julian-r/followers",
        "following_url": "https://api.github.com/users/julian-r/following{/other_user}",
        "gists_url": "https://api.github.com/users/julian-r/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/julian-r/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/julian-r/subscriptions",
        "organizations_url": "https://api.github.com/users/julian-r/orgs",
        "repos_url": "https://api.github.com/users/julian-r/repos",
        "events_url": "https://api.github.com/users/julian-r/events{/privacy}",
        "received_events_url": "https://api.github.com/users/julian-r/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2018-05-30T10:19:22Z",
    "updated_at": "2019-06-27T23:30:51Z",
    "closed_at": "2019-06-27T23:30:42Z",
    "author_association": "NONE",
    "body": "### Expected Behavior\r\nIf a `multipart/form-data` body is not conforming to RFC return an HTTP error, do log a message or parse the data anyways.\r\n\r\nStrangly [`werkzeug.formparser`](https://github.com/pallets/werkzeug/blob/master/werkzeug/formparser.py#L336) does throw an error, but I don't know what happens then in flask with it.\r\n\r\n```\r\nPOST /garmin-inbox HTTP/1.1\r\nContent-Type: multipart/form-data; boundary=Boundary_19_110302338_1527600550018\r\n\r\n--Boundary_19_110302338_1527600550018\r\nContent-Type: application/octet-stream\r\n\r\nHello123\r\n\r\n--Boundary_19_110302338_1527600550018\r\nContent-Type: application/json\r\n\r\nblabla\r\n--Boundary_19_110302338_1527600550018--\r\n```\r\n\r\n```python\r\n@app.route('/inbox', methods=['POST'])\r\ndef inbox():\r\n    pprint(request.form) # will be empty\r\n    pprint(request.files) # will be empty\r\n```\r\n\r\n### Actual Behavior\r\nIf a http client behaves not like defined in [RFC7578](https://tools.ietf.org/html/rfc7578#section-4.2) the `request.form` and `request.files` fields are just empty. \r\n\r\n\r\n### Environment\r\n\r\n* Python version: 3.6.5\r\n* Flask version: 1.0.2\r\n* Werkzeug version: 0.14.1\r\n\r\n\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/419631997",
            "html_url": "https://github.com/pallets/flask/issues/2810#issuecomment-419631997",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2810",
            "id": 419631997,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTYzMTk5Nw==",
            "user": {
                "login": "rohitjain00",
                "id": 17525863,
                "node_id": "MDQ6VXNlcjE3NTI1ODYz",
                "avatar_url": "https://avatars0.githubusercontent.com/u/17525863?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rohitjain00",
                "html_url": "https://github.com/rohitjain00",
                "followers_url": "https://api.github.com/users/rohitjain00/followers",
                "following_url": "https://api.github.com/users/rohitjain00/following{/other_user}",
                "gists_url": "https://api.github.com/users/rohitjain00/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rohitjain00/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rohitjain00/subscriptions",
                "organizations_url": "https://api.github.com/users/rohitjain00/orgs",
                "repos_url": "https://api.github.com/users/rohitjain00/repos",
                "events_url": "https://api.github.com/users/rohitjain00/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rohitjain00/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-09-08T10:48:50Z",
            "updated_at": "2019-06-13T19:50:12Z",
            "author_association": "NONE",
            "body": "I can work on this issue.\r\nCan you please elaborate the actual behavior?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/419839396",
            "html_url": "https://github.com/pallets/flask/issues/2810#issuecomment-419839396",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2810",
            "id": 419839396,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTgzOTM5Ng==",
            "user": {
                "login": "julian-r",
                "id": 709223,
                "node_id": "MDQ6VXNlcjcwOTIyMw==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/709223?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/julian-r",
                "html_url": "https://github.com/julian-r",
                "followers_url": "https://api.github.com/users/julian-r/followers",
                "following_url": "https://api.github.com/users/julian-r/following{/other_user}",
                "gists_url": "https://api.github.com/users/julian-r/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/julian-r/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/julian-r/subscriptions",
                "organizations_url": "https://api.github.com/users/julian-r/orgs",
                "repos_url": "https://api.github.com/users/julian-r/repos",
                "events_url": "https://api.github.com/users/julian-r/events{/privacy}",
                "received_events_url": "https://api.github.com/users/julian-r/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-09-10T08:57:18Z",
            "updated_at": "2019-06-13T19:50:17Z",
            "author_association": "NONE",
            "body": "@rohitjain00 Should I provide you a script to reproduce the behavior? In general the text in the post ist the Request body..."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/506546909",
            "html_url": "https://github.com/pallets/flask/issues/2810#issuecomment-506546909",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2810",
            "id": 506546909,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUwNjU0NjkwOQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-06-27T23:30:42Z",
            "updated_at": "2019-06-27T23:30:51Z",
            "author_association": "MEMBER",
            "body": "This behavior seems intentional, and it's possible to override, so I don't plan to change it at this time. If you pass `silent=False` to `FormDataParser`, it will raise a `ValueError` when parsing an invalid body. There are various ways to do this, including setting a different value for `Request.form_data_parser_class`, or overriding `Request.make_form_data_parser`."
        }
    ]
}