{
    "url": "https://api.github.com/repos/pallets/flask/issues/1641",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1641/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1641/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1641/events",
    "html_url": "https://github.com/pallets/flask/issues/1641",
    "id": 120601905,
    "node_id": "MDU6SXNzdWUxMjA2MDE5MDU=",
    "number": 1641,
    "title": "Allow debugger to be controlled from application configuration",
    "user": {
        "login": "nZac",
        "id": 276212,
        "node_id": "MDQ6VXNlcjI3NjIxMg==",
        "avatar_url": "https://avatars0.githubusercontent.com/u/276212?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nZac",
        "html_url": "https://github.com/nZac",
        "followers_url": "https://api.github.com/users/nZac/followers",
        "following_url": "https://api.github.com/users/nZac/following{/other_user}",
        "gists_url": "https://api.github.com/users/nZac/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/nZac/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nZac/subscriptions",
        "organizations_url": "https://api.github.com/users/nZac/orgs",
        "repos_url": "https://api.github.com/users/nZac/repos",
        "events_url": "https://api.github.com/users/nZac/events{/privacy}",
        "received_events_url": "https://api.github.com/users/nZac/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2015-12-06T02:02:11Z",
    "updated_at": "2018-01-09T20:28:04Z",
    "closed_at": "2018-01-09T20:28:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "I submitted a patch for this but learned that it was incomplete with further testing. https://github.com/mitsuhiko/flask/pull/1640\n\nBasically, it would be nice to allow `DEBUG` on the application to control the activation of the debugger and reloader when running the CLI like `app.run` does.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/179004477",
            "html_url": "https://github.com/pallets/flask/issues/1641#issuecomment-179004477",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1641",
            "id": 179004477,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE3OTAwNDQ3Nw==",
            "user": {
                "login": "Kareeeeem",
                "id": 2920965,
                "node_id": "MDQ6VXNlcjI5MjA5NjU=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/2920965?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/Kareeeeem",
                "html_url": "https://github.com/Kareeeeem",
                "followers_url": "https://api.github.com/users/Kareeeeem/followers",
                "following_url": "https://api.github.com/users/Kareeeeem/following{/other_user}",
                "gists_url": "https://api.github.com/users/Kareeeeem/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/Kareeeeem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Kareeeeem/subscriptions",
                "organizations_url": "https://api.github.com/users/Kareeeeem/orgs",
                "repos_url": "https://api.github.com/users/Kareeeeem/repos",
                "events_url": "https://api.github.com/users/Kareeeeem/events{/privacy}",
                "received_events_url": "https://api.github.com/users/Kareeeeem/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-02-03T04:45:15Z",
            "updated_at": "2016-02-03T04:51:48Z",
            "author_association": "NONE",
            "body": "I'm surprised noone has replied to this. I was really confused about this due to the comments in the source code at https://github.com/mitsuhiko/flask/blob/master/flask/cli.py#L399-L400\n\n`The reloader and debugger are by default enabled if the debug flag of Flask is enabled and disabled otherwise.` \n\nThat doesn't seem to be the case. The app is configured with DEBUG to True but it doesn't get picked up by the run command.\n\nI ended up writing my cli entry point like this.\n\n```\n@click.group(cls=FlaskGroup, create_app=create_app)                                \n@script_info_option('--config', script_info_key='config')                          \n@pass_script_info                                                                  \ndef cli(info, **params):                                                           \n    '''This is an entry point for scripts that require the app context.            \n    '''                                                                            \n    info.debug = info.load_app().config['DEBUG']\n```\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223573411",
            "html_url": "https://github.com/pallets/flask/issues/1641#issuecomment-223573411",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1641",
            "id": 223573411,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzU3MzQxMQ==",
            "user": {
                "login": "dalai4git",
                "id": 2470720,
                "node_id": "MDQ6VXNlcjI0NzA3MjA=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/2470720?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dalai4git",
                "html_url": "https://github.com/dalai4git",
                "followers_url": "https://api.github.com/users/dalai4git/followers",
                "following_url": "https://api.github.com/users/dalai4git/following{/other_user}",
                "gists_url": "https://api.github.com/users/dalai4git/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dalai4git/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dalai4git/subscriptions",
                "organizations_url": "https://api.github.com/users/dalai4git/orgs",
                "repos_url": "https://api.github.com/users/dalai4git/repos",
                "events_url": "https://api.github.com/users/dalai4git/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dalai4git/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T13:06:10Z",
            "updated_at": "2016-06-03T13:06:10Z",
            "author_association": "NONE",
            "body": "The workaround above did not work for me. In the `run_command()` the debug flag is enabled based on the return value of `get_debug_flag()` which in turn only depends on the environment.\n\nThis is what worked for me\n\n```\n@click.group(cls=FlaskGroup, create_app=create_app)\n@pass_script_info\ndef cli(info):\n    \"\"\"This is the management script of the dzik application\"\"\"\n    os.environ[\"FLASK_DEBUG\"] = str(info.load_app().config['DEBUG'])\n```\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/242150549",
            "html_url": "https://github.com/pallets/flask/issues/1641#issuecomment-242150549",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1641",
            "id": 242150549,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjE1MDU0OQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-24T17:45:54Z",
            "updated_at": "2016-08-24T17:45:54Z",
            "author_association": "MEMBER",
            "body": "I think the behavior of `flask run` unconditionally overriding `app.debug` is completely intentional. It is not particularly convenient, but given that there's already such a complex dependency between `app.debug`, Jinja's `auto_reload` etc (see https://github.com/pallets/flask/pull/1910 for just one example), I think this behavior is just easier to understand.\n\nHowever, we definetly should provide a way to set `FLASK_DEBUG` from within your own CLI, no question about that.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/252490846",
            "html_url": "https://github.com/pallets/flask/issues/1641#issuecomment-252490846",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1641",
            "id": 252490846,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI1MjQ5MDg0Ng==",
            "user": {
                "login": "robkorv",
                "id": 4266355,
                "node_id": "MDQ6VXNlcjQyNjYzNTU=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/4266355?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/robkorv",
                "html_url": "https://github.com/robkorv",
                "followers_url": "https://api.github.com/users/robkorv/followers",
                "following_url": "https://api.github.com/users/robkorv/following{/other_user}",
                "gists_url": "https://api.github.com/users/robkorv/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/robkorv/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robkorv/subscriptions",
                "organizations_url": "https://api.github.com/users/robkorv/orgs",
                "repos_url": "https://api.github.com/users/robkorv/repos",
                "events_url": "https://api.github.com/users/robkorv/events{/privacy}",
                "received_events_url": "https://api.github.com/users/robkorv/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-10-09T14:50:51Z",
            "updated_at": "2016-10-09T14:50:51Z",
            "author_association": "NONE",
            "body": "I just want to respond as a user in a story :unicorn: that just did a hello world from the docs.\n\nI expected that using `DEBUG = True` from http://flask.pocoo.org/docs/0.11/config/#configuration-best-practices would do the same as `export FLASK_DEBUG=1` from http://flask.pocoo.org/docs/0.11/server/#command-line.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/322323879",
            "html_url": "https://github.com/pallets/flask/issues/1641#issuecomment-322323879",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1641",
            "id": 322323879,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjMyMzg3OQ==",
            "user": {
                "login": "john-bodley",
                "id": 4567245,
                "node_id": "MDQ6VXNlcjQ1NjcyNDU=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/4567245?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/john-bodley",
                "html_url": "https://github.com/john-bodley",
                "followers_url": "https://api.github.com/users/john-bodley/followers",
                "following_url": "https://api.github.com/users/john-bodley/following{/other_user}",
                "gists_url": "https://api.github.com/users/john-bodley/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/john-bodley/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/john-bodley/subscriptions",
                "organizations_url": "https://api.github.com/users/john-bodley/orgs",
                "repos_url": "https://api.github.com/users/john-bodley/repos",
                "events_url": "https://api.github.com/users/john-bodley/events{/privacy}",
                "received_events_url": "https://api.github.com/users/john-bodley/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-08-14T22:10:22Z",
            "updated_at": "2017-08-14T22:10:22Z",
            "author_association": "CONTRIBUTOR",
            "body": "@dalai4git the `FLASK_DEBUG` environment needs to be either `0` or `1` rather than `False` or `True` and thus I think you additionally need to cast the `DEBUG` configuration variable to an `int` first, i.e., \r\n```python\r\nstr(int(info.load_app().config['DEBUG']))\r\n```"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/356404381",
            "html_url": "https://github.com/pallets/flask/issues/1641#issuecomment-356404381",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1641",
            "id": 356404381,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjQwNDM4MQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-01-09T20:28:03Z",
            "updated_at": "2018-01-09T20:28:03Z",
            "author_association": "MEMBER",
            "body": "We do not plan to support this. Use `FLASK_ENV=development` to enable the development environment, or `FLASK_DEBUG=1` to control debug mode."
        }
    ]
}