{
    "url": "https://api.github.com/repos/pallets/flask/issues/2274",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2274/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2274/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2274/events",
    "html_url": "https://github.com/pallets/flask/issues/2274",
    "id": 227166620,
    "node_id": "MDU6SXNzdWUyMjcxNjY2MjA=",
    "number": 2274,
    "title": "server has 127 CLOSE_WAIT ",
    "user": {
        "login": "amiden",
        "id": 13248491,
        "node_id": "MDQ6VXNlcjEzMjQ4NDkx",
        "avatar_url": "https://avatars1.githubusercontent.com/u/13248491?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amiden",
        "html_url": "https://github.com/amiden",
        "followers_url": "https://api.github.com/users/amiden/followers",
        "following_url": "https://api.github.com/users/amiden/following{/other_user}",
        "gists_url": "https://api.github.com/users/amiden/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amiden/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amiden/subscriptions",
        "organizations_url": "https://api.github.com/users/amiden/orgs",
        "repos_url": "https://api.github.com/users/amiden/repos",
        "events_url": "https://api.github.com/users/amiden/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amiden/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2017-05-08T20:36:36Z",
    "updated_at": "2017-05-08T21:02:17Z",
    "closed_at": "2017-05-08T21:02:17Z",
    "author_association": "NONE",
    "body": "```python\r\nimport re\r\n\r\nimport json\r\nimport time\r\nimport mapi\r\nimport sys\r\nfrom flask import Flask, request, abort, render_template\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route('/cityinfo', methods=['GET'])\r\ndef cityinfo():\r\n    if request.method == 'GET':\r\n        echo_str = request.args.get('echostr', '')\r\n        try:\r\n            key = request.headers.get('location')\r\n        except:\r\n            return ''\r\n        return mapi.getcity(key) #about use 10~59ms\r\n\r\n\r\n@app.route('/alive', methods=['GET'])\r\ndef alive():\r\n    return 'ok'\r\nif __name__ == '__main__':\r\n    crt = 'key/Nginx/1_bg.xxxx.club_bundle.crt'\r\n    key = 'key/Nginx/2_bg.xxxx.club.key'\r\n    try:\r\n        app.run('0.0.0.0',port=443,threaded=True,ssl_context=(crt,key))\r\n    except:\r\n        print 'error'`\r\n```\r\n\r\n    nohup sudo python as.py >1.log 2>&1 &\r\n\r\n\r\nabout run in 1000+/day for wechatapp ,then it down by CLOSE_WAIT",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/299983913",
            "html_url": "https://github.com/pallets/flask/issues/2274#issuecomment-299983913",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2274",
            "id": 299983913,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTk4MzkxMw==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-05-08T20:38:40Z",
            "updated_at": "2017-05-08T20:38:40Z",
            "author_association": "MEMBER",
            "body": "You are not supposed to use the dev server in production (or run it as root).\r\n\r\nAlso, it is unclear what exactly is happening - does it stop accepting requests?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/299989912",
            "html_url": "https://github.com/pallets/flask/issues/2274#issuecomment-299989912",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2274",
            "id": 299989912,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTk4OTkxMg==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-05-08T21:02:17Z",
            "updated_at": "2017-05-08T21:02:17Z",
            "author_association": "MEMBER",
            "body": "The dev server is not meant for production."
        }
    ]
}