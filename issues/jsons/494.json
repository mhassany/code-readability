{
    "url": "https://api.github.com/repos/pallets/flask/issues/494",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/494/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/494/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/494/events",
    "html_url": "https://github.com/pallets/flask/issues/494",
    "id": 4199285,
    "node_id": "MDU6SXNzdWU0MTk5Mjg1",
    "number": 494,
    "title": "Flask.inject_url_defaults() incorrectly splits Blueprint's name",
    "user": {
        "login": "ekoka",
        "id": 966912,
        "node_id": "MDQ6VXNlcjk2NjkxMg==",
        "avatar_url": "https://avatars2.githubusercontent.com/u/966912?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ekoka",
        "html_url": "https://github.com/ekoka",
        "followers_url": "https://api.github.com/users/ekoka/followers",
        "following_url": "https://api.github.com/users/ekoka/following{/other_user}",
        "gists_url": "https://api.github.com/users/ekoka/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ekoka/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ekoka/subscriptions",
        "organizations_url": "https://api.github.com/users/ekoka/orgs",
        "repos_url": "https://api.github.com/users/ekoka/repos",
        "events_url": "https://api.github.com/users/ekoka/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ekoka/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2012-04-19T20:17:45Z",
    "updated_at": "2016-06-04T19:14:15Z",
    "closed_at": "2016-06-04T19:14:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "The Flask.inject_url_defaults() function splits the endpoint at the wrong location to retrieve the name of the blueprint. This causes url_for() not to work properly for blueprints when combined with Blueprint.url_defaults()\n\ne.g.\nendpoint = \"catalogue.admin.products.index\"\nbp = endpoint.split('.', 1)[0]\n\nbp is now 'catalogue' rather than 'catalogue.admin.products'\n\nI presume rsplit() would be more appropriate than split() for this one. \n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223739864",
            "html_url": "https://github.com/pallets/flask/issues/494#issuecomment-223739864",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/494",
            "id": 223739864,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzczOTg2NA==",
            "user": {
                "login": "jeffwidman",
                "id": 483314,
                "node_id": "MDQ6VXNlcjQ4MzMxNA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/483314?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jeffwidman",
                "html_url": "https://github.com/jeffwidman",
                "followers_url": "https://api.github.com/users/jeffwidman/followers",
                "following_url": "https://api.github.com/users/jeffwidman/following{/other_user}",
                "gists_url": "https://api.github.com/users/jeffwidman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jeffwidman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jeffwidman/subscriptions",
                "organizations_url": "https://api.github.com/users/jeffwidman/orgs",
                "repos_url": "https://api.github.com/users/jeffwidman/repos",
                "events_url": "https://api.github.com/users/jeffwidman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jeffwidman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-04T06:33:00Z",
            "updated_at": "2016-06-04T06:33:00Z",
            "author_association": "MEMBER",
            "body": "@hyunchel I think you were looking into this at the Pycon Sprint earlier today. \n\nWere you able to reproduce or can this be closed?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223762814",
            "html_url": "https://github.com/pallets/flask/issues/494#issuecomment-223762814",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/494",
            "id": 223762814,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzc2MjgxNA==",
            "user": {
                "login": "hyunchel",
                "id": 3271191,
                "node_id": "MDQ6VXNlcjMyNzExOTE=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3271191?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/hyunchel",
                "html_url": "https://github.com/hyunchel",
                "followers_url": "https://api.github.com/users/hyunchel/followers",
                "following_url": "https://api.github.com/users/hyunchel/following{/other_user}",
                "gists_url": "https://api.github.com/users/hyunchel/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/hyunchel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hyunchel/subscriptions",
                "organizations_url": "https://api.github.com/users/hyunchel/orgs",
                "repos_url": "https://api.github.com/users/hyunchel/repos",
                "events_url": "https://api.github.com/users/hyunchel/events{/privacy}",
                "received_events_url": "https://api.github.com/users/hyunchel/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-04T15:51:24Z",
            "updated_at": "2016-06-04T16:03:31Z",
            "author_association": "CONTRIBUTOR",
            "body": "@jeffwidman I ended up leaving a bit early while working on this.\nI'm resuming my work to see if I can reproduce this issue!\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223770476",
            "html_url": "https://github.com/pallets/flask/issues/494#issuecomment-223770476",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/494",
            "id": 223770476,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzc3MDQ3Ng==",
            "user": {
                "login": "hyunchel",
                "id": 3271191,
                "node_id": "MDQ6VXNlcjMyNzExOTE=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3271191?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/hyunchel",
                "html_url": "https://github.com/hyunchel",
                "followers_url": "https://api.github.com/users/hyunchel/followers",
                "following_url": "https://api.github.com/users/hyunchel/following{/other_user}",
                "gists_url": "https://api.github.com/users/hyunchel/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/hyunchel/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hyunchel/subscriptions",
                "organizations_url": "https://api.github.com/users/hyunchel/orgs",
                "repos_url": "https://api.github.com/users/hyunchel/repos",
                "events_url": "https://api.github.com/users/hyunchel/events{/privacy}",
                "received_events_url": "https://api.github.com/users/hyunchel/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-04T18:23:59Z",
            "updated_at": "2016-06-04T18:36:49Z",
            "author_association": "CONTRIBUTOR",
            "body": "According to this issue on nested blueprint(#593), current version of Flask **does not** support nested blueprint. And unless Flask is customized, I'm not sure if an endpoint could ever contain multiple dots.\n\nRegardless, the fix with proposed and merged PR #497 allows `Flask.url_for` method to grab correct endpoint when the endpoint with nested blueprint(`foo.bar.baz.view`) is given as an argument.\n\nTo restate with clarity, the issue where `Flask.url_for` barfs with the endpoint being `foo.bar.baz.view`  is not reproducible with current [master](9c236d3b84332aef0c834266a0e3d2171fe5a7bd).\nTherefore, this issue can be closed!\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223772909",
            "html_url": "https://github.com/pallets/flask/issues/494#issuecomment-223772909",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/494",
            "id": 223772909,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzc3MjkwOQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-04T19:14:15Z",
            "updated_at": "2016-06-04T19:14:15Z",
            "author_association": "MEMBER",
            "body": "@hyunchel Thanks for your investigation!\n"
        }
    ]
}