{
    "url": "https://api.github.com/repos/pallets/flask/issues/1113",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1113/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1113/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1113/events",
    "html_url": "https://github.com/pallets/flask/issues/1113",
    "id": 37700314,
    "node_id": "MDU6SXNzdWUzNzcwMDMxNA==",
    "number": 1113,
    "title": "How to have flask.jsonify take Decimals?",
    "user": {
        "login": "kramer65",
        "id": 596581,
        "node_id": "MDQ6VXNlcjU5NjU4MQ==",
        "avatar_url": "https://avatars1.githubusercontent.com/u/596581?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kramer65",
        "html_url": "https://github.com/kramer65",
        "followers_url": "https://api.github.com/users/kramer65/followers",
        "following_url": "https://api.github.com/users/kramer65/following{/other_user}",
        "gists_url": "https://api.github.com/users/kramer65/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/kramer65/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kramer65/subscriptions",
        "organizations_url": "https://api.github.com/users/kramer65/orgs",
        "repos_url": "https://api.github.com/users/kramer65/repos",
        "events_url": "https://api.github.com/users/kramer65/events{/privacy}",
        "received_events_url": "https://api.github.com/users/kramer65/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2014-07-11T21:46:41Z",
    "updated_at": "2014-07-11T22:06:13Z",
    "closed_at": "2014-07-11T22:06:13Z",
    "author_association": "NONE",
    "body": "I'm writing a website using Flask (I love it) in which I use a lot of decimals. This however, presents me with a problem when wanting to jsonify dicts or lists containing Decimals (which happens a lot in my website).\n\nIn [this stackoverflow answer](http://stackoverflow.com/a/16957370/1650012) there is a suggestion to overcome this with the basic json.dumps() method:\n\n```\ndef decimal_default(obj):\n    if isinstance(obj, decimal.Decimal):\n        return float(obj)\n    raise TypeError\n\njson.dumps({'x': decimal.Decimal('5.5')}, default=decimal_default)\n```\n\nI wouldn't  know how to use this way of doing it with the flask builtin jsonify though. Does anybody know how I can make jsonify also convert Decimals correctly? All tips are welcome!\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/48788456",
            "html_url": "https://github.com/pallets/flask/issues/1113#issuecomment-48788456",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1113",
            "id": 48788456,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ4Nzg4NDU2",
            "user": {
                "login": "DasIch",
                "id": 182316,
                "node_id": "MDQ6VXNlcjE4MjMxNg==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/182316?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/DasIch",
                "html_url": "https://github.com/DasIch",
                "followers_url": "https://api.github.com/users/DasIch/followers",
                "following_url": "https://api.github.com/users/DasIch/following{/other_user}",
                "gists_url": "https://api.github.com/users/DasIch/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/DasIch/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/DasIch/subscriptions",
                "organizations_url": "https://api.github.com/users/DasIch/orgs",
                "repos_url": "https://api.github.com/users/DasIch/repos",
                "events_url": "https://api.github.com/users/DasIch/events{/privacy}",
                "received_events_url": "https://api.github.com/users/DasIch/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-07-11T22:06:13Z",
            "updated_at": "2014-07-11T22:06:13Z",
            "author_association": "CONTRIBUTOR",
            "body": "This is not a support channel, please use the mailinglist.\n\nThat being said JSON doesn't support decimals natively and converting decimals to floats like the stackoverflow answer suggests is simply wrong.\n\nOverall there is no general correct solution. The right approach depends entirely on the use case. Once you have figured out how you want to represent decimals, you can overwrite http://flask.pocoo.org/docs/api/#flask.Flask.json_encoder with your own encoder.\n"
        }
    ]
}