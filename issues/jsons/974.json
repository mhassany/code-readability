{
    "url": "https://api.github.com/repos/pallets/flask/issues/974",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/974/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/974/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/974/events",
    "html_url": "https://github.com/pallets/flask/issues/974",
    "id": 27045851,
    "node_id": "MDU6SXNzdWUyNzA0NTg1MQ==",
    "number": 974,
    "title": "jsonify() ignores the sort order of an OrderedDict",
    "user": {
        "login": "wmax",
        "id": 3121262,
        "node_id": "MDQ6VXNlcjMxMjEyNjI=",
        "avatar_url": "https://avatars0.githubusercontent.com/u/3121262?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wmax",
        "html_url": "https://github.com/wmax",
        "followers_url": "https://api.github.com/users/wmax/followers",
        "following_url": "https://api.github.com/users/wmax/following{/other_user}",
        "gists_url": "https://api.github.com/users/wmax/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wmax/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wmax/subscriptions",
        "organizations_url": "https://api.github.com/users/wmax/orgs",
        "repos_url": "https://api.github.com/users/wmax/repos",
        "events_url": "https://api.github.com/users/wmax/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wmax/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 8,
    "created_at": "2014-02-06T12:30:44Z",
    "updated_at": "2019-11-14T05:22:20Z",
    "closed_at": "2014-02-08T16:54:19Z",
    "author_association": "NONE",
    "body": "Hi, I would like to know whether this is a bug or a feature.\n\nExample:\n\n```\nfrom flask import Flask, jsonify\nfrom collections import OrderedDict\napp = Flask('__name__')\n\n@app.route('/')\ndef jsonify_test():\n    unsorted_dict = {'foo': 1, 'bar': 4, 'baz': 0}\n    sorted_dict = OrderedDict(sorted(unsorted_dict.items(), key=lambda x: x[1]))\n    return jsonify(sorted_dict)\n\nif __name__ == '__main__':\n    app.run(debug = True)\n```\n\nResult:\n\n```\n{\n    \"bar\": 4, \n    \"baz\": 0, \n    \"foo\": 1\n}\n```\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/34318679",
            "html_url": "https://github.com/pallets/flask/issues/974#issuecomment-34318679",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/974",
            "id": 34318679,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzE4Njc5",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-02-06T12:32:49Z",
            "updated_at": "2014-02-06T12:33:00Z",
            "author_association": "MEMBER",
            "body": "JavaScript objects are not ordered. So it's pointless to take the order of an OrderedDict into account when converting it to JSON. If you need the order, jsonify its `.items()` (which will give you an array of arrays in JS).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/34325652",
            "html_url": "https://github.com/pallets/flask/issues/974#issuecomment-34325652",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/974",
            "id": 34325652,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzI1NjUy",
            "user": {
                "login": "wmax",
                "id": 3121262,
                "node_id": "MDQ6VXNlcjMxMjEyNjI=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/3121262?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/wmax",
                "html_url": "https://github.com/wmax",
                "followers_url": "https://api.github.com/users/wmax/followers",
                "following_url": "https://api.github.com/users/wmax/following{/other_user}",
                "gists_url": "https://api.github.com/users/wmax/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/wmax/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wmax/subscriptions",
                "organizations_url": "https://api.github.com/users/wmax/orgs",
                "repos_url": "https://api.github.com/users/wmax/repos",
                "events_url": "https://api.github.com/users/wmax/events{/privacy}",
                "received_events_url": "https://api.github.com/users/wmax/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-02-06T14:09:14Z",
            "updated_at": "2014-02-06T14:09:14Z",
            "author_association": "NONE",
            "body": "Agreed(on the \"makes no sense in JS\" part).\nI've worked around by using a prettified json.dumps() output directly, because I didn't like the sparse rep. of the nested list produced by jsonify().\n\nHowever I've just noticed that the dict seems to be sorted by \"key\" after jsonifying, I've tried it with a pretty long list(more then 50 keys) so it doesn't looks like a coincidence.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/34487347",
            "html_url": "https://github.com/pallets/flask/issues/974#issuecomment-34487347",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/974",
            "id": 34487347,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDg3MzQ3",
            "user": {
                "login": "iiSeymour",
                "id": 4310904,
                "node_id": "MDQ6VXNlcjQzMTA5MDQ=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/4310904?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/iiSeymour",
                "html_url": "https://github.com/iiSeymour",
                "followers_url": "https://api.github.com/users/iiSeymour/followers",
                "following_url": "https://api.github.com/users/iiSeymour/following{/other_user}",
                "gists_url": "https://api.github.com/users/iiSeymour/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/iiSeymour/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iiSeymour/subscriptions",
                "organizations_url": "https://api.github.com/users/iiSeymour/orgs",
                "repos_url": "https://api.github.com/users/iiSeymour/repos",
                "events_url": "https://api.github.com/users/iiSeymour/events{/privacy}",
                "received_events_url": "https://api.github.com/users/iiSeymour/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-02-07T18:50:59Z",
            "updated_at": "2016-03-31T04:21:41Z",
            "author_association": "NONE",
            "body": "This is a feature.\n\nBy default Flask will serialize JSON objects in a way that the keys are ordered. This is done in order to ensure that independent of the hash seed of the dictionary the return value will be consistent to not trash external HTTP caches. You can override the default behaviour by setting `app.config[\"JSON_SORT_KEYS\"] = False`. \n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/171063856",
            "html_url": "https://github.com/pallets/flask/issues/974#issuecomment-171063856",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/974",
            "id": 171063856,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTA2Mzg1Ng==",
            "user": {
                "login": "obskyr",
                "id": 4363779,
                "node_id": "MDQ6VXNlcjQzNjM3Nzk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/4363779?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/obskyr",
                "html_url": "https://github.com/obskyr",
                "followers_url": "https://api.github.com/users/obskyr/followers",
                "following_url": "https://api.github.com/users/obskyr/following{/other_user}",
                "gists_url": "https://api.github.com/users/obskyr/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/obskyr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/obskyr/subscriptions",
                "organizations_url": "https://api.github.com/users/obskyr/orgs",
                "repos_url": "https://api.github.com/users/obskyr/repos",
                "events_url": "https://api.github.com/users/obskyr/events{/privacy}",
                "received_events_url": "https://api.github.com/users/obskyr/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-01-12T21:33:06Z",
            "updated_at": "2016-01-12T21:33:06Z",
            "author_association": "NONE",
            "body": "Actually, it seems there is a problem with `JSON_SORT_KEYS = False` too. Even then, it doesn't respect the order of an OrderedDict, and provides the properties in arbitrary order. Surely _that_ isn't intentional?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/171064737",
            "html_url": "https://github.com/pallets/flask/issues/974#issuecomment-171064737",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/974",
            "id": 171064737,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTA2NDczNw==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-01-12T21:34:49Z",
            "updated_at": "2016-01-12T21:35:41Z",
            "author_association": "MEMBER",
            "body": "This cannot be avoided. Object keys in JS have no order - just like python dict keys. If you need to keep the order you usually need to pass a list of `[key, value]` lists (e.g. the `.items()` of the OrderedDict) and then (if needed) build a lookup dict in JS.\n\nAFAIK some engines keep the order for object literals, others don't - AFAIK the standard does not require any specific behavior related to the key order.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/171067538",
            "html_url": "https://github.com/pallets/flask/issues/974#issuecomment-171067538",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/974",
            "id": 171067538,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTA2NzUzOA==",
            "user": {
                "login": "obskyr",
                "id": 4363779,
                "node_id": "MDQ6VXNlcjQzNjM3Nzk=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/4363779?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/obskyr",
                "html_url": "https://github.com/obskyr",
                "followers_url": "https://api.github.com/users/obskyr/followers",
                "following_url": "https://api.github.com/users/obskyr/following{/other_user}",
                "gists_url": "https://api.github.com/users/obskyr/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/obskyr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/obskyr/subscriptions",
                "organizations_url": "https://api.github.com/users/obskyr/orgs",
                "repos_url": "https://api.github.com/users/obskyr/repos",
                "events_url": "https://api.github.com/users/obskyr/events{/privacy}",
                "received_events_url": "https://api.github.com/users/obskyr/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-01-12T21:43:12Z",
            "updated_at": "2016-01-12T21:43:12Z",
            "author_association": "NONE",
            "body": "No, I'm talking about the actual literal order in the JSON provided - nothing related to JS. That being arbitrary can definitely be avoided.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/171067700",
            "html_url": "https://github.com/pallets/flask/issues/974#issuecomment-171067700",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/974",
            "id": 171067700,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE3MTA2NzcwMA==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-01-12T21:43:55Z",
            "updated_at": "2016-01-12T21:43:55Z",
            "author_association": "MEMBER",
            "body": "ah.. I guess that depends on whether the json serializer honors the order or not\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/372702841",
            "html_url": "https://github.com/pallets/flask/issues/974#issuecomment-372702841",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/974",
            "id": 372702841,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjcwMjg0MQ==",
            "user": {
                "login": "dmitrybelyakov",
                "id": 178866,
                "node_id": "MDQ6VXNlcjE3ODg2Ng==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/178866?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dmitrybelyakov",
                "html_url": "https://github.com/dmitrybelyakov",
                "followers_url": "https://api.github.com/users/dmitrybelyakov/followers",
                "following_url": "https://api.github.com/users/dmitrybelyakov/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmitrybelyakov/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dmitrybelyakov/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmitrybelyakov/subscriptions",
                "organizations_url": "https://api.github.com/users/dmitrybelyakov/orgs",
                "repos_url": "https://api.github.com/users/dmitrybelyakov/repos",
                "events_url": "https://api.github.com/users/dmitrybelyakov/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dmitrybelyakov/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-03-13T15:19:28Z",
            "updated_at": "2018-03-13T15:19:28Z",
            "author_association": "NONE",
            "body": "I think it is worth revisiting this issue at some point since dicts will be ordered in Python 3.7 and actually somewhat are in 3.6"
        }
    ]
}