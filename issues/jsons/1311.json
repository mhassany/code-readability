{
    "url": "https://api.github.com/repos/pallets/flask/issues/1311",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1311/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1311/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1311/events",
    "html_url": "https://github.com/pallets/flask/pull/1311",
    "id": 53972890,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjcxNTUxODA=",
    "number": 1311,
    "title": "Conditionally install default logging handlers",
    "user": {
        "login": "dtheodor",
        "id": 1549648,
        "node_id": "MDQ6VXNlcjE1NDk2NDg=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/1549648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dtheodor",
        "html_url": "https://github.com/dtheodor",
        "followers_url": "https://api.github.com/users/dtheodor/followers",
        "following_url": "https://api.github.com/users/dtheodor/following{/other_user}",
        "gists_url": "https://api.github.com/users/dtheodor/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dtheodor/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dtheodor/subscriptions",
        "organizations_url": "https://api.github.com/users/dtheodor/orgs",
        "repos_url": "https://api.github.com/users/dtheodor/repos",
        "events_url": "https://api.github.com/users/dtheodor/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dtheodor/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2015-01-10T21:59:19Z",
    "updated_at": "2017-05-25T21:17:40Z",
    "closed_at": "2017-05-25T21:17:40Z",
    "author_association": "NONE",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/1311",
        "html_url": "https://github.com/pallets/flask/pull/1311",
        "diff_url": "https://github.com/pallets/flask/pull/1311.diff",
        "patch_url": "https://github.com/pallets/flask/pull/1311.patch"
    },
    "body": "This is an attempt to address https://github.com/mitsuhiko/flask/issues/641, in particular the problem that `del logger.handlers[:]` is always invoked in app logger creation, destroying any previously created handlers.\n\nSince the `LOGGER_HANDLER_POLICY` was introduced, I am using it to only conditionally install each of the two default handlers (`'debug'` and `'production'`). If the policy is `'never'`, the handlers do not need to be added and such cleanup `del logger.handlers[:]` is not necessary.\n\nThe test I added describes my use case (and I believe everyone's in https://github.com/mitsuhiko/flask/issues/641) quite accurately, and I think it is a reasonable one. \n\nMy solution to not install handlers is different than the previous situation, which would always install them and then would do a check on each invocation of `handler.emit`. That means that if someone relied on this check and was for some reason dynamically modifying the app's configuration to change the logging policy while the app was running, it won't work any more. But, to me this seems more like an implementation artifact than a valid use-case.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/284792279",
            "html_url": "https://github.com/pallets/flask/pull/1311#issuecomment-284792279",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1311",
            "id": 284792279,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDc5MjI3OQ==",
            "user": {
                "login": "jakul",
                "id": 862794,
                "node_id": "MDQ6VXNlcjg2Mjc5NA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/862794?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jakul",
                "html_url": "https://github.com/jakul",
                "followers_url": "https://api.github.com/users/jakul/followers",
                "following_url": "https://api.github.com/users/jakul/following{/other_user}",
                "gists_url": "https://api.github.com/users/jakul/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jakul/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jakul/subscriptions",
                "organizations_url": "https://api.github.com/users/jakul/orgs",
                "repos_url": "https://api.github.com/users/jakul/repos",
                "events_url": "https://api.github.com/users/jakul/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jakul/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-03-07T17:18:28Z",
            "updated_at": "2017-03-07T17:18:28Z",
            "author_association": "NONE",
            "body": "@mitsuhiko What do we need to do to move this PR forward?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/304127356",
            "html_url": "https://github.com/pallets/flask/pull/1311#issuecomment-304127356",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1311",
            "id": 304127356,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDEyNzM1Ng==",
            "user": {
                "login": "kennethreitz",
                "id": 119893,
                "node_id": "MDQ6VXNlcjExOTg5Mw==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/119893?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kennethreitz",
                "html_url": "https://github.com/kennethreitz",
                "followers_url": "https://api.github.com/users/kennethreitz/followers",
                "following_url": "https://api.github.com/users/kennethreitz/following{/other_user}",
                "gists_url": "https://api.github.com/users/kennethreitz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kennethreitz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kennethreitz/subscriptions",
                "organizations_url": "https://api.github.com/users/kennethreitz/orgs",
                "repos_url": "https://api.github.com/users/kennethreitz/repos",
                "events_url": "https://api.github.com/users/kennethreitz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kennethreitz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-05-25T21:17:40Z",
            "updated_at": "2017-05-25T21:17:40Z",
            "author_association": "CONTRIBUTOR",
            "body": "closing due to inactivity. please consider re-opening this pull request :)"
        }
    ]
}