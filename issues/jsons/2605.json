{
    "url": "https://api.github.com/repos/pallets/flask/issues/2605",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2605/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2605/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2605/events",
    "html_url": "https://github.com/pallets/flask/issues/2605",
    "id": 290422842,
    "node_id": "MDU6SXNzdWUyOTA0MjI4NDI=",
    "number": 2605,
    "title": "FLASK_APP factory export doesn't work when invoked with parentheses and quotations but works otherwise",
    "user": {
        "login": "ambodi",
        "id": 6009583,
        "node_id": "MDQ6VXNlcjYwMDk1ODM=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/6009583?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ambodi",
        "html_url": "https://github.com/ambodi",
        "followers_url": "https://api.github.com/users/ambodi/followers",
        "following_url": "https://api.github.com/users/ambodi/following{/other_user}",
        "gists_url": "https://api.github.com/users/ambodi/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ambodi/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ambodi/subscriptions",
        "organizations_url": "https://api.github.com/users/ambodi/orgs",
        "repos_url": "https://api.github.com/users/ambodi/repos",
        "events_url": "https://api.github.com/users/ambodi/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ambodi/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2018-01-22T10:51:50Z",
    "updated_at": "2018-01-22T10:56:26Z",
    "closed_at": "2018-01-22T10:53:22Z",
    "author_association": "NONE",
    "body": "I have an app factory under a function called ```create_app```:\r\n\r\n```python\r\n\"\"\"Factory for flask app.\"\"\"\r\nimport os\r\nfrom flask import Flask\r\n\r\ndef create_app(config=None):\r\n    \"\"\"Create the app and add extra config.\"\"\"\r\n    app = Flask('mini')\r\n\r\n    app.config.update(dict(\r\n        DATABASE=os.path.join(app.root_path, 'mini.db'),\r\n        DEBUG=True,\r\n        SECRET_KEY=b'thisisnolongersecret',\r\n        USERNAME='admin',\r\n        PASSWORD='default'\r\n    ))\r\n\r\n    return app\r\n```\r\n\r\n### Expected Behavior\r\n\r\nI should be able to export my FLASK_APP and use that function like the following:\r\n\r\n```\r\nexport FLASK_APP=\"app.factory:create_app()\"\r\nflask run \r\n```\r\n### Actual Behavior\r\n\r\nI am receiving:\r\n\r\n```\r\nRuntimeError: Failed to find application in module \"mini.factory\"\r\n```\r\n\r\n```pytb\r\nTraceback (most recent call last):\r\n  File \"/Users/ara/anaconda/bin/flask\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/flask/cli.py\", line 513, in main\r\n    cli.main(args=args, prog_name=name)\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/flask/cli.py\", line 380, in main\r\n    return AppGroup.main(self, *args, **kwargs)\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/click/core.py\", line 696, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/click/core.py\", line 1060, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/click/core.py\", line 889, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/click/core.py\", line 534, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/click/decorators.py\", line 64, in new_func\r\n    return ctx.invoke(f, obj, *args[1:], **kwargs)\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/click/core.py\", line 534, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/flask/cli.py\", line 423, in run_command\r\n    app = DispatchingApp(info.load_app, use_eager_loading=eager_loading)\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/flask/cli.py\", line 152, in __init__\r\n    self._load_unlocked()\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/flask/cli.py\", line 176, in _load_unlocked\r\n    self._app = rv = self.loader()\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/flask/cli.py\", line 237, in load_app\r\n    rv = locate_app(self.app_import_path)\r\n  File \"/Users/ara/anaconda/lib/python2.7/site-packages/flask/cli.py\", line 109, in locate_app\r\n    % module)\r\nRuntimeError: Failed to find application in module \"mini.factory\"\r\n```\r\n### Workaround\r\n\r\nI can get it to work by setting:\r\n\r\n```\r\nexport FLASK_APP=factory.create_app\r\n```\r\n\r\n\r\n### Environment\r\n\r\n```\r\nFlask 0.12.2\r\nPython 2.7.9 |Anaconda custom (x86_64)| (default, Dec 15 2014, 10:37:34)\r\n[GCC 4.2.1 (Apple Inc. build 5577)]\r\n```",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/359388903",
            "html_url": "https://github.com/pallets/flask/issues/2605#issuecomment-359388903",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2605",
            "id": 359388903,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTM4ODkwMw==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-01-22T10:53:21Z",
            "updated_at": "2018-01-22T10:53:21Z",
            "author_association": "MEMBER",
            "body": "Using `()` and providing arguments is only supported in newer flask versions (unreleased, but you can try with git master)."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/359389174",
            "html_url": "https://github.com/pallets/flask/issues/2605#issuecomment-359389174",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2605",
            "id": 359389174,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTM4OTE3NA==",
            "user": {
                "login": "ambodi",
                "id": 6009583,
                "node_id": "MDQ6VXNlcjYwMDk1ODM=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/6009583?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ambodi",
                "html_url": "https://github.com/ambodi",
                "followers_url": "https://api.github.com/users/ambodi/followers",
                "following_url": "https://api.github.com/users/ambodi/following{/other_user}",
                "gists_url": "https://api.github.com/users/ambodi/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ambodi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ambodi/subscriptions",
                "organizations_url": "https://api.github.com/users/ambodi/orgs",
                "repos_url": "https://api.github.com/users/ambodi/repos",
                "events_url": "https://api.github.com/users/ambodi/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ambodi/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-01-22T10:54:14Z",
            "updated_at": "2018-01-22T10:54:14Z",
            "author_association": "NONE",
            "body": "@ThiefMaster but the tutorial for flaskr doesn't say this, right? "
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/359389672",
            "html_url": "https://github.com/pallets/flask/issues/2605#issuecomment-359389672",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2605",
            "id": 359389672,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTM4OTY3Mg==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-01-22T10:56:26Z",
            "updated_at": "2018-01-22T10:56:26Z",
            "author_association": "MEMBER",
            "body": "You should read the docs for the version you are using, i.e. http://flask.pocoo.org/docs/0.12/ and not http://flask.pocoo.org/docs/dev/ ;)"
        }
    ]
}