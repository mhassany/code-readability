{
    "url": "https://api.github.com/repos/pallets/flask/issues/3076",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3076/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3076/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3076/events",
    "html_url": "https://github.com/pallets/flask/issues/3076",
    "id": 400151427,
    "node_id": "MDU6SXNzdWU0MDAxNTE0Mjc=",
    "number": 3076,
    "title": "The data for app.url_map.converters is not passed to the blueprint",
    "user": {
        "login": "pcloth",
        "id": 18551791,
        "node_id": "MDQ6VXNlcjE4NTUxNzkx",
        "avatar_url": "https://avatars1.githubusercontent.com/u/18551791?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pcloth",
        "html_url": "https://github.com/pcloth",
        "followers_url": "https://api.github.com/users/pcloth/followers",
        "following_url": "https://api.github.com/users/pcloth/following{/other_user}",
        "gists_url": "https://api.github.com/users/pcloth/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pcloth/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pcloth/subscriptions",
        "organizations_url": "https://api.github.com/users/pcloth/orgs",
        "repos_url": "https://api.github.com/users/pcloth/repos",
        "events_url": "https://api.github.com/users/pcloth/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pcloth/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2019-01-17T07:55:43Z",
    "updated_at": "2019-01-17T08:26:15Z",
    "closed_at": "2019-01-17T08:26:15Z",
    "author_association": "NONE",
    "body": "### Expected Behavior\r\nI created a custom url regular handler, which works in the app.route, but does not take effect in the api.route of the blueprint. The error message is: File \"d:\\Anaconda3\\lib\\site-packages\\ Werkzeug\\routing.py\", line 696, in get_converter\r\n\u00a0\u00a0\u00a0\u00a0 Raise LookupError('the converter %r does not exist' % converter_name)\r\nLookupError: the converter 'regex' does not exist\r\n\u00b7\r\n\r\n```python\r\nfrom werkzeug.routing import BaseConverter\r\n\r\nclass RegexConverter(BaseConverter):\r\n    def __init__(self, map, *args):\r\n        self.map = map\r\n        self.regex = args[0]\r\n\r\napp.url_map.converters['regex'] = RegexConverter\r\n\r\nmanager = Manager(app)\r\n\r\n# Printed here has regex\r\nprint('\\n\\n',app.url_map.converters,'<---------------->',manager.app.url_map.converters,'\\n\\n')\r\n\r\n```\r\n\r\nBut I printed it in routing.Rule.get_converter but there is no regex in self.map.converters\r\n\r\n\u00a0 {'default': <class 'werkzeug.routing.UnicodeConverter'>, 'string': <class 'werkzeug.routing.UnicodeConverter'>, 'any': <class 'werkzeug.routing.AnyConverter'>, 'path': <class 'werkzeug.routing.PathConverter'>, 'int': <class 'werkzeug.routing.IntegerConverter'>, 'float': <class 'werkzeug.routing.FloatConverter'>, 'uuid': <class 'werkzeug. routing.UUIDConverter'>}\r\n\r\n\r\n### Actual Behavior\r\n\r\nThe data for app.url_map.converters is not passed to the blueprint\r\n\r\n```pytb\r\nTraceback (most recent call last):\r\n  File \"devServer.py\", line 5, in <module>\r\n    from manage import app\r\n  File \"D:\\py3\\ytt\\manage.py\", line 30, in <module>\r\n    app = create_app('development')\r\n  File \"D:\\py3\\ytt\\app\\__init__.py\", line 62, in create_app\r\n    app.register_blueprint(api_bp)\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\flask\\app.py\", line 66, in wrapper_func\r\n    return f(self, *args, **kwargs)\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\flask\\app.py\", line 1115, in register_blueprint\r\n    blueprint.register(self, options, first_registration)\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\flask\\blueprints.py\", line 187, in register\r\n    deferred(state)\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\flask\\blueprints.py\", line 208, in <lambda>\r\n    s.add_url_rule(rule, endpoint, view_func, **options))\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\flask\\blueprints.py\", line 80, in add_url_rule\r\n    view_func, defaults=defaults, **options)\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\flask\\app.py\", line 66, in wrapper_func\r\n    return f(self, *args, **kwargs)\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\flask\\app.py\", line 1216, in add_url_rule\r\n    self.url_map.add(rule)\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\werkzeug\\routing.py\", line 1217, in add\r\n    rule.bind(self)\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\werkzeug\\routing.py\", line 687, in bind\r\n    self.compile()\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\werkzeug\\routing.py\", line 741, in compile\r\n    _build_regex(self.is_leaf and self.rule or self.rule.rstrip('/'))\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\werkzeug\\routing.py\", line 730, in _build_regex\r\n    variable, converter, c_args, c_kwargs)\r\n  File \"d:\\Anaconda3\\lib\\site-packages\\werkzeug\\routing.py\", line 696, in get_converter\r\n    raise LookupError('the converter %r does not exist' % converter_name)\r\nLookupError: the converter 'regex' does not exist\r\n```\r\n\r\n### Environment\r\n\r\n* Python version:3.6\r\n* Flask version:1.02\r\n* Werkzeug version:0.14.1\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/455077267",
            "html_url": "https://github.com/pallets/flask/issues/3076#issuecomment-455077267",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3076",
            "id": 455077267,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTA3NzI2Nw==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-01-17T08:01:01Z",
            "updated_at": "2019-01-17T08:01:01Z",
            "author_association": "MEMBER",
            "body": "Sounds like you might be registering the blueprint before the custom rule is defined."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/455083427",
            "html_url": "https://github.com/pallets/flask/issues/3076#issuecomment-455083427",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3076",
            "id": 455083427,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTA4MzQyNw==",
            "user": {
                "login": "pcloth",
                "id": 18551791,
                "node_id": "MDQ6VXNlcjE4NTUxNzkx",
                "avatar_url": "https://avatars1.githubusercontent.com/u/18551791?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/pcloth",
                "html_url": "https://github.com/pcloth",
                "followers_url": "https://api.github.com/users/pcloth/followers",
                "following_url": "https://api.github.com/users/pcloth/following{/other_user}",
                "gists_url": "https://api.github.com/users/pcloth/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/pcloth/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/pcloth/subscriptions",
                "organizations_url": "https://api.github.com/users/pcloth/orgs",
                "repos_url": "https://api.github.com/users/pcloth/repos",
                "events_url": "https://api.github.com/users/pcloth/events{/privacy}",
                "received_events_url": "https://api.github.com/users/pcloth/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-01-17T08:24:51Z",
            "updated_at": "2019-01-17T08:24:51Z",
            "author_association": "NONE",
            "body": "@ThiefMaster \r\nthank you!"
        }
    ]
}