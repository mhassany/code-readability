{
    "url": "https://api.github.com/repos/pallets/flask/issues/2183",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2183/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2183/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2183/events",
    "html_url": "https://github.com/pallets/flask/issues/2183",
    "id": 208056553,
    "node_id": "MDU6SXNzdWUyMDgwNTY1NTM=",
    "number": 2183,
    "title": "Missing documentation about how URL/queries are quoted/unquoted",
    "user": {
        "login": "cateee",
        "id": 10267984,
        "node_id": "MDQ6VXNlcjEwMjY3OTg0",
        "avatar_url": "https://avatars3.githubusercontent.com/u/10267984?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cateee",
        "html_url": "https://github.com/cateee",
        "followers_url": "https://api.github.com/users/cateee/followers",
        "following_url": "https://api.github.com/users/cateee/following{/other_user}",
        "gists_url": "https://api.github.com/users/cateee/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cateee/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cateee/subscriptions",
        "organizations_url": "https://api.github.com/users/cateee/orgs",
        "repos_url": "https://api.github.com/users/cateee/repos",
        "events_url": "https://api.github.com/users/cateee/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cateee/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 5,
    "created_at": "2017-02-16T08:47:38Z",
    "updated_at": "2017-02-17T07:49:53Z",
    "closed_at": "2017-02-17T07:49:53Z",
    "author_association": "NONE",
    "body": "The help about `flask.request` http://flask.pocoo.org/docs/0.12/api/#incoming-request-data just includes a simple: _\"args: A MultiDict with the parsed contents of the query string. (The part in the URL after the question mark).\"_, Thus nothing about how args are generated.\r\n\r\nI need to pass a complex string (with spaces and other url characters).\r\n\r\nI found from some experiments, ithat I can generate on client side the query string with `urllib.parse.quote(query1, safe='')`, and this query parameter will be unquoted correctly by flask (request.args).\r\n\r\nBecause there are many quoting convention (e.g. space replaced with '+', it would be nice to have some more info on the documentation about quoting method, and possibly to have the quote and unquote also directly as flask utilities (like the json support), ready to be used client side.\r\n\r\nPossibly also the path decoding could have similar problem (in that case with the default 'safe' argument).\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/280338090",
            "html_url": "https://github.com/pallets/flask/issues/2183#issuecomment-280338090",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2183",
            "id": 280338090,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDMzODA5MA==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-02-16T14:03:23Z",
            "updated_at": "2017-02-16T14:03:23Z",
            "author_association": "MEMBER",
            "body": ">Thus nothing about how args are generated.\r\n\r\nQuery parameters are defined by the HTTP RFCs. What else is there to document?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/280365354",
            "html_url": "https://github.com/pallets/flask/issues/2183#issuecomment-280365354",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2183",
            "id": 280365354,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDM2NTM1NA==",
            "user": {
                "login": "cateee",
                "id": 10267984,
                "node_id": "MDQ6VXNlcjEwMjY3OTg0",
                "avatar_url": "https://avatars3.githubusercontent.com/u/10267984?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/cateee",
                "html_url": "https://github.com/cateee",
                "followers_url": "https://api.github.com/users/cateee/followers",
                "following_url": "https://api.github.com/users/cateee/following{/other_user}",
                "gists_url": "https://api.github.com/users/cateee/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/cateee/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/cateee/subscriptions",
                "organizations_url": "https://api.github.com/users/cateee/orgs",
                "repos_url": "https://api.github.com/users/cateee/repos",
                "events_url": "https://api.github.com/users/cateee/events{/privacy}",
                "received_events_url": "https://api.github.com/users/cateee/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-02-16T15:38:48Z",
            "updated_at": "2017-02-16T15:38:48Z",
            "author_association": "NONE",
            "body": "I searched a lot in the RFCs, and I had no luck. The encoding must be coordinated by client and server.\r\nAs far I seen it, they explains the valid transmitted \"octets\", but nothing about the encoding. This behaviour is frequent on RFC: full character support needs encoding, and it should be specified by an higher protocol.\r\n\r\nNote that python specifies two classical methods: https://docs.python.org/3.6/library/urllib.parse.html#url-quoting (one with replaces spaces with + (this one it is used by google in searches) and a second one which also spaces are encoded (it seems your method).\r\n\r\nAdditional note: I assume that codes in %xx are UTF-8 in your decoding, and HTTP predates UTF-8.\r\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/280397527",
            "html_url": "https://github.com/pallets/flask/issues/2183#issuecomment-280397527",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2183",
            "id": 280397527,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDM5NzUyNw==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-02-16T17:21:35Z",
            "updated_at": "2017-02-16T17:21:35Z",
            "author_association": "MEMBER",
            "body": "It does seem that the RFCs define very little about this, but https://url.spec.whatwg.org/#application/x-www-form-urlencoded still describes the defaults that Werkzeug mostly follows (though I think Werkzeug partially predates WHATWG). It is probably sufficient to reference just that."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/280397909",
            "html_url": "https://github.com/pallets/flask/issues/2183#issuecomment-280397909",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2183",
            "id": 280397909,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDM5NzkwOQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-02-16T17:22:51Z",
            "updated_at": "2017-02-16T17:22:51Z",
            "author_association": "MEMBER",
            "body": "Ah in fact https://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.1 does specify the plus-encoding part."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/280579222",
            "html_url": "https://github.com/pallets/flask/issues/2183#issuecomment-280579222",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2183",
            "id": 280579222,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDU3OTIyMg==",
            "user": {
                "login": "cateee",
                "id": 10267984,
                "node_id": "MDQ6VXNlcjEwMjY3OTg0",
                "avatar_url": "https://avatars3.githubusercontent.com/u/10267984?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/cateee",
                "html_url": "https://github.com/cateee",
                "followers_url": "https://api.github.com/users/cateee/followers",
                "following_url": "https://api.github.com/users/cateee/following{/other_user}",
                "gists_url": "https://api.github.com/users/cateee/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/cateee/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/cateee/subscriptions",
                "organizations_url": "https://api.github.com/users/cateee/orgs",
                "repos_url": "https://api.github.com/users/cateee/repos",
                "events_url": "https://api.github.com/users/cateee/events{/privacy}",
                "received_events_url": "https://api.github.com/users/cateee/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-02-17T07:49:53Z",
            "updated_at": "2017-02-17T07:49:53Z",
            "author_association": "NONE",
            "body": "You are right. I went also on that link before opening the issues, but I dismissed it as <form> and POST, forgetting the FORM/GET, so a standardized GET.\r\n\r\nSo I close the issue (and this bug report could help other clueless people like me, to find the answer).\r\n\r\nThe answer: to encode urls: uses [`urllib.parse.urlencode`](https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlencode), with default `quote` (`urlib.parse.quoteplus`) and default `safe`."
        }
    ]
}