{
    "url": "https://api.github.com/repos/pallets/flask/issues/1877",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1877/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1877/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1877/events",
    "html_url": "https://github.com/pallets/flask/issues/1877",
    "id": 158315713,
    "node_id": "MDU6SXNzdWUxNTgzMTU3MTM=",
    "number": 1877,
    "title": "jsonify no longer causes Content-Length to be set on returned Response object",
    "user": {
        "login": "mbra",
        "id": 641940,
        "node_id": "MDQ6VXNlcjY0MTk0MA==",
        "avatar_url": "https://avatars3.githubusercontent.com/u/641940?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mbra",
        "html_url": "https://github.com/mbra",
        "followers_url": "https://api.github.com/users/mbra/followers",
        "following_url": "https://api.github.com/users/mbra/following{/other_user}",
        "gists_url": "https://api.github.com/users/mbra/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mbra/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mbra/subscriptions",
        "organizations_url": "https://api.github.com/users/mbra/orgs",
        "repos_url": "https://api.github.com/users/mbra/repos",
        "events_url": "https://api.github.com/users/mbra/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mbra/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 135583063,
            "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=",
            "url": "https://api.github.com/repos/pallets/flask/labels/bug",
            "name": "bug",
            "color": "d93f0b",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": {
        "url": "https://api.github.com/repos/pallets/flask/milestones/2",
        "html_url": "https://github.com/pallets/flask/milestone/2",
        "labels_url": "https://api.github.com/repos/pallets/flask/milestones/2/labels",
        "id": 795954,
        "node_id": "MDk6TWlsZXN0b25lNzk1OTU0",
        "number": 2,
        "title": "1.0",
        "description": "",
        "creator": {
            "login": "untitaker",
            "id": 837573,
            "node_id": "MDQ6VXNlcjgzNzU3Mw==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/untitaker",
            "html_url": "https://github.com/untitaker",
            "followers_url": "https://api.github.com/users/untitaker/followers",
            "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
            "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
            "organizations_url": "https://api.github.com/users/untitaker/orgs",
            "repos_url": "https://api.github.com/users/untitaker/repos",
            "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/untitaker/received_events",
            "type": "User",
            "site_admin": false
        },
        "open_issues": 0,
        "closed_issues": 159,
        "state": "closed",
        "created_at": "2014-09-19T15:47:20Z",
        "updated_at": "2018-04-26T21:07:44Z",
        "due_on": "2018-04-26T07:00:00Z",
        "closed_at": "2018-04-26T21:07:44Z"
    },
    "comments": 13,
    "created_at": "2016-06-03T08:24:29Z",
    "updated_at": "2017-05-30T20:47:38Z",
    "closed_at": "2017-05-30T20:47:38Z",
    "author_association": "NONE",
    "body": "I am not sure if this was an intentional change, as it is only triggered by `jsonify` by passing an iterable to `flask.wrappers.Response`/`werkzeug.wrappers.Response`.\n\nIn commit https://github.com/pallets/flask/commit/d9402fc0c03353b6d2659297682e578d695476ce a newline was added to the json response, as per a request from the httpbin project.\n\nWhen `werkzeug.wrappers.Response` is passed a non text_type iterable, the `self.set_data` codepath, responsible for setting the Content-Length header, is not used anymore.\n\nIroncially this breaks httpbins \"response-headers\" route that uses the response object in a somewhat\ncreative way and breaks while trying to access `response.headers['Content-Length']`\n\nIf this considered a backwards incompatible change that might need to be undone, or is this considered new and intended behaviour?\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223520626",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223520626",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223520626,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzUyMDYyNg==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T08:26:45Z",
            "updated_at": "2016-06-03T08:26:45Z",
            "author_association": "MEMBER",
            "body": "This is unintended behavior.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223520780",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223520780",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223520780,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzUyMDc4MA==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T08:27:29Z",
            "updated_at": "2016-06-03T08:27:29Z",
            "author_association": "MEMBER",
            "body": "From a first look the best fix is to explicitly set content-length in jsonify.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223522378",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223522378",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223522378,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzUyMjM3OA==",
            "user": {
                "login": "mbra",
                "id": 641940,
                "node_id": "MDQ6VXNlcjY0MTk0MA==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/641940?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mbra",
                "html_url": "https://github.com/mbra",
                "followers_url": "https://api.github.com/users/mbra/followers",
                "following_url": "https://api.github.com/users/mbra/following{/other_user}",
                "gists_url": "https://api.github.com/users/mbra/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mbra/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mbra/subscriptions",
                "organizations_url": "https://api.github.com/users/mbra/orgs",
                "repos_url": "https://api.github.com/users/mbra/repos",
                "events_url": "https://api.github.com/users/mbra/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mbra/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T08:35:05Z",
            "updated_at": "2016-06-03T08:35:05Z",
            "author_association": "NONE",
            "body": "I do not have a good grasp of the Encoding Implications, but would it not help to just concat the newline onto the generated json string so we trigger the intended behaviour in `werkzeug.wrappers.Response`?\n\nAfter all setting somewhat \"special\" headers might introduce other undesired side-effects over time.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223523360",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223523360",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223523360,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzUyMzM2MA==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T08:39:50Z",
            "updated_at": "2016-06-03T08:39:50Z",
            "author_association": "MEMBER",
            "body": "I'm not sure about the performance implications of concatenating strings like that. We already are `O(n)` (at least!), but I think somebody would report a performance regression because of this.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223524259",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223524259",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223524259,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzUyNDI1OQ==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T08:43:58Z",
            "updated_at": "2016-06-03T08:43:58Z",
            "author_association": "MEMBER",
            "body": "```\nfoo = json.dumps(...)\n...\nrv.headers['Content-length'] = len(foo) + 1\n```\n\nsomething like this could work (you know `\\n` is 1 byte and i'd expect `len()` on a string to be O(1) in python)\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223525629",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223525629",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223525629,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzUyNTYyOQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T08:50:35Z",
            "updated_at": "2016-06-03T08:50:35Z",
            "author_association": "MEMBER",
            "body": "The point by @mbra was that if the behavior of `Response` changed wrt to the content-length header, jsonify wouldn't change.\n\nAlso we need to be careful here: `len(u\"\u00f6\") != len(u\"\u00f6\".encode(\"utf-8\"))`.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223526028",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223526028",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223526028,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzUyNjAyOA==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T08:52:34Z",
            "updated_at": "2016-06-03T08:53:13Z",
            "author_association": "MEMBER",
            "body": "ah damn.. json dumps still returns a unicode string at least in python3. not sure if it'll contain any non-ascii chars though. AFAIK it escapes them all\n\nbut yeah, might be a bit fragile nonetheless\n\nedit: just checked the docs:\n\n> If ensure_ascii is True (the default), all non-ASCII characters in the output are escaped with \\uXXXX sequences, and the result is a str instance consisting of ASCII characters only. \n\nSo I guess it'd be safe since it's documented behavior to always return plain ascii\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223528055",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223528055",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223528055,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzUyODA1NQ==",
            "user": {
                "login": "mbra",
                "id": 641940,
                "node_id": "MDQ6VXNlcjY0MTk0MA==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/641940?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mbra",
                "html_url": "https://github.com/mbra",
                "followers_url": "https://api.github.com/users/mbra/followers",
                "following_url": "https://api.github.com/users/mbra/following{/other_user}",
                "gists_url": "https://api.github.com/users/mbra/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mbra/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mbra/subscriptions",
                "organizations_url": "https://api.github.com/users/mbra/orgs",
                "repos_url": "https://api.github.com/users/mbra/repos",
                "events_url": "https://api.github.com/users/mbra/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mbra/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T09:02:28Z",
            "updated_at": "2016-06-03T09:02:28Z",
            "author_association": "NONE",
            "body": "Well, I did not consider the performance penalty, the reallocations from the string concatenation could really be harmful, for large responses.\n\nPerhaps calling `werkzeug.wrappers.ResponseBase.calculate_content_length` and setting the header is a good enough compromise, after all the real logic is kept in werkzeug. But I do not\nknow how often the additional `_ensure_sequence` Codepath would be, but at a first glance this\nshould not be as much of an issue as concating a large json object and a newline.\n\nAlso, the bad feeling I have about setting the Content-Length is that I do not know if and where a decision if made to use `Transfer-Encoding: chunked` and how that plays with manually setting `Content-Length`.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223532518",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223532518",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223532518,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzUzMjUxOA==",
            "user": {
                "login": "mbra",
                "id": 641940,
                "node_id": "MDQ6VXNlcjY0MTk0MA==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/641940?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mbra",
                "html_url": "https://github.com/mbra",
                "followers_url": "https://api.github.com/users/mbra/followers",
                "following_url": "https://api.github.com/users/mbra/following{/other_user}",
                "gists_url": "https://api.github.com/users/mbra/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mbra/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mbra/subscriptions",
                "organizations_url": "https://api.github.com/users/mbra/orgs",
                "repos_url": "https://api.github.com/users/mbra/repos",
                "events_url": "https://api.github.com/users/mbra/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mbra/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T09:24:24Z",
            "updated_at": "2016-06-03T09:24:24Z",
            "author_association": "NONE",
            "body": "Mhh, after reading up on chunked Transfer and WSGI, this seems not to be an issue...\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223539385",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223539385",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223539385,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzUzOTM4NQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T09:56:37Z",
            "updated_at": "2016-06-03T09:56:37Z",
            "author_association": "MEMBER",
            "body": "Chunked encoding doesn't make much sense since we're not streaming. Content-Length is required by some clients, if it is suddenly missing I'm sure at least _some_ code will break.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223546111",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223546111",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223546111,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzU0NjExMQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T10:31:39Z",
            "updated_at": "2016-06-03T10:31:39Z",
            "author_association": "MEMBER",
            "body": "The only alternative I could see involves StringIO, and calling `json.dump` on it.\n\n@mitsuhiko Do you think this is breakage?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223587655",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-223587655",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 223587655,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzU4NzY1NQ==",
            "user": {
                "login": "mbra",
                "id": 641940,
                "node_id": "MDQ6VXNlcjY0MTk0MA==",
                "avatar_url": "https://avatars3.githubusercontent.com/u/641940?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/mbra",
                "html_url": "https://github.com/mbra",
                "followers_url": "https://api.github.com/users/mbra/followers",
                "following_url": "https://api.github.com/users/mbra/following{/other_user}",
                "gists_url": "https://api.github.com/users/mbra/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/mbra/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mbra/subscriptions",
                "organizations_url": "https://api.github.com/users/mbra/orgs",
                "repos_url": "https://api.github.com/users/mbra/repos",
                "events_url": "https://api.github.com/users/mbra/events{/privacy}",
                "received_events_url": "https://api.github.com/users/mbra/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T14:05:12Z",
            "updated_at": "2016-06-03T14:05:12Z",
            "author_association": "NONE",
            "body": "Mhh, perhaps this should be handled by werkzeug. The docs for `automatically_set_content_length` says: \"Should this response object automatically set the content-length header if possible? This is true by default.\"\n\nPerhaps I am missing something again, but calculating from a tuple should always be possible, right?\nI know this just moves the same problem down the callchain but at least the `Content-Length` calculation is kept in one place.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/305003402",
            "html_url": "https://github.com/pallets/flask/issues/1877#issuecomment-305003402",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1877",
            "id": 305003402,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTAwMzQwMg==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-05-30T20:47:38Z",
            "updated_at": "2017-05-30T20:47:38Z",
            "author_association": "MEMBER",
            "body": "Not sure when this got fixed, but I can't reproduce this. Examining the response from a client shows the correct content length. (`headers['Content-Length']` isn't available, but it's eventually set.)"
        }
    ]
}