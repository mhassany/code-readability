{
    "url": "https://api.github.com/repos/pallets/flask/issues/549",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/549/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/549/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/549/events",
    "html_url": "https://github.com/pallets/flask/issues/549",
    "id": 5637431,
    "node_id": "MDU6SXNzdWU1NjM3NDMx",
    "number": 549,
    "title": "DEBUG reloader is too agressive",
    "user": {
        "login": "rbucker",
        "id": 882595,
        "node_id": "MDQ6VXNlcjg4MjU5NQ==",
        "avatar_url": "https://avatars1.githubusercontent.com/u/882595?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rbucker",
        "html_url": "https://github.com/rbucker",
        "followers_url": "https://api.github.com/users/rbucker/followers",
        "following_url": "https://api.github.com/users/rbucker/following{/other_user}",
        "gists_url": "https://api.github.com/users/rbucker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/rbucker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/rbucker/subscriptions",
        "organizations_url": "https://api.github.com/users/rbucker/orgs",
        "repos_url": "https://api.github.com/users/rbucker/repos",
        "events_url": "https://api.github.com/users/rbucker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/rbucker/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 11,
    "created_at": "2012-07-16T12:00:20Z",
    "updated_at": "2012-12-07T21:18:48Z",
    "closed_at": "2012-12-07T20:29:25Z",
    "author_association": "NONE",
    "body": "My webapp is a single file app. It's also 37K now. I'm editing the file using BBedit via the built-in SFTP feature in BBedit. In the last 24hours I've been experiencing latency between my desktop and the remote system. When I \"save\" my PY file and flask detects the change it immediately tried to reload it.  When I was using vim locally it worked great. Now that I'm going remote... (1) flask tried to reload the py file but it's only partially there.\n\n(yes, it would be better if BBedit save the file to a tmp file and then renamed it, however, I do not claim to know the motivation for the current methodology)\n\nAnyway, give than I have no idea what the flask issues are... I'd recommend a token at the end of the file that could be detected to make sure that the entire file is ready before loading it.\n\nAlso, (2) the reloader seems to crash quietly each time.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/10326895",
            "html_url": "https://github.com/pallets/flask/issues/549#issuecomment-10326895",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/549",
            "id": 10326895,
            "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzI2ODk1",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-11-13T13:59:33Z",
            "updated_at": "2012-11-13T13:59:33Z",
            "author_association": "MEMBER",
            "body": "The reloader wouldn't get a chance to handle the crash, since a partial Python file probably results in a syntax error.\n\nI don't think this is an issue Flask (or any of its dependencies) should handle, i think BBEdit should.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/10331893",
            "html_url": "https://github.com/pallets/flask/issues/549#issuecomment-10331893",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/549",
            "id": 10331893,
            "node_id": "MDEyOklzc3VlQ29tbWVudDEwMzMxODkz",
            "user": {
                "login": "soulseekah",
                "id": 685880,
                "node_id": "MDQ6VXNlcjY4NTg4MA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/685880?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/soulseekah",
                "html_url": "https://github.com/soulseekah",
                "followers_url": "https://api.github.com/users/soulseekah/followers",
                "following_url": "https://api.github.com/users/soulseekah/following{/other_user}",
                "gists_url": "https://api.github.com/users/soulseekah/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/soulseekah/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/soulseekah/subscriptions",
                "organizations_url": "https://api.github.com/users/soulseekah/orgs",
                "repos_url": "https://api.github.com/users/soulseekah/repos",
                "events_url": "https://api.github.com/users/soulseekah/events{/privacy}",
                "received_events_url": "https://api.github.com/users/soulseekah/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-11-13T16:14:48Z",
            "updated_at": "2012-11-13T16:14:57Z",
            "author_association": "CONTRIBUTOR",
            "body": "> currently we always use the stat loop reloader for the simple reason\n> that the inotify one does not respond to added files properly.  Also\n> it's quite buggy and the API is a mess.\n\nBut this is Werkzeug territory, no? https://github.com/mitsuhiko/werkzeug/blob/master/werkzeug/serving.py#L489\n\n@rbucker881 did you ever find a way around the issue? Did you disable it perhaps? Or something else? Any thoughts to share?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/11135796",
            "html_url": "https://github.com/pallets/flask/issues/549#issuecomment-11135796",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/549",
            "id": 11135796,
            "node_id": "MDEyOklzc3VlQ29tbWVudDExMTM1Nzk2",
            "user": {
                "login": "rbucker",
                "id": 882595,
                "node_id": "MDQ6VXNlcjg4MjU5NQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/882595?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rbucker",
                "html_url": "https://github.com/rbucker",
                "followers_url": "https://api.github.com/users/rbucker/followers",
                "following_url": "https://api.github.com/users/rbucker/following{/other_user}",
                "gists_url": "https://api.github.com/users/rbucker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rbucker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rbucker/subscriptions",
                "organizations_url": "https://api.github.com/users/rbucker/orgs",
                "repos_url": "https://api.github.com/users/rbucker/repos",
                "events_url": "https://api.github.com/users/rbucker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rbucker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-12-07T16:19:26Z",
            "updated_at": "2012-12-07T16:19:26Z",
            "author_association": "NONE",
            "body": "the flask team has not responded that I know. @untitaker responded but I do not understand... to be more precise it appears that flask's restart is leading edge triggered instead of trailing edge. It also does not consider when multiple files in the project dependency are updated at the same time.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/11144533",
            "html_url": "https://github.com/pallets/flask/issues/549#issuecomment-11144533",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/549",
            "id": 11144533,
            "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ0NTMz",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-12-07T20:13:12Z",
            "updated_at": "2012-12-07T20:13:12Z",
            "author_association": "MEMBER",
            "body": "Are you using `app.run` in production?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/11144822",
            "html_url": "https://github.com/pallets/flask/issues/549#issuecomment-11144822",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/549",
            "id": 11144822,
            "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ0ODIy",
            "user": {
                "login": "rbucker",
                "id": 882595,
                "node_id": "MDQ6VXNlcjg4MjU5NQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/882595?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rbucker",
                "html_url": "https://github.com/rbucker",
                "followers_url": "https://api.github.com/users/rbucker/followers",
                "following_url": "https://api.github.com/users/rbucker/following{/other_user}",
                "gists_url": "https://api.github.com/users/rbucker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rbucker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rbucker/subscriptions",
                "organizations_url": "https://api.github.com/users/rbucker/orgs",
                "repos_url": "https://api.github.com/users/rbucker/repos",
                "events_url": "https://api.github.com/users/rbucker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rbucker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-12-07T20:20:41Z",
            "updated_at": "2012-12-07T20:20:41Z",
            "author_association": "NONE",
            "body": "I'm not referring to production. This is a dev issue.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/11144858",
            "html_url": "https://github.com/pallets/flask/issues/549#issuecomment-11144858",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/549",
            "id": 11144858,
            "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ0ODU4",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-12-07T20:21:47Z",
            "updated_at": "2012-12-07T20:21:47Z",
            "author_association": "MEMBER",
            "body": "What is your dev server doing on a remote system?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/11145014",
            "html_url": "https://github.com/pallets/flask/issues/549#issuecomment-11145014",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/549",
            "id": 11145014,
            "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ1MDE0",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-12-07T20:26:48Z",
            "updated_at": "2012-12-07T20:26:48Z",
            "author_association": "MEMBER",
            "body": "It would be a quickfix to use\n\n```\nwhile true; do ./testserver.py; sleep 2; done\n```\n\nwhich is easy enough, since it will restart the whole interpreter every time the server crashes.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/11145108",
            "html_url": "https://github.com/pallets/flask/issues/549#issuecomment-11145108",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/549",
            "id": 11145108,
            "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ1MTA4",
            "user": {
                "login": "rbucker",
                "id": 882595,
                "node_id": "MDQ6VXNlcjg4MjU5NQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/882595?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rbucker",
                "html_url": "https://github.com/rbucker",
                "followers_url": "https://api.github.com/users/rbucker/followers",
                "following_url": "https://api.github.com/users/rbucker/following{/other_user}",
                "gists_url": "https://api.github.com/users/rbucker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rbucker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rbucker/subscriptions",
                "organizations_url": "https://api.github.com/users/rbucker/orgs",
                "repos_url": "https://api.github.com/users/rbucker/repos",
                "events_url": "https://api.github.com/users/rbucker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rbucker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-12-07T20:29:25Z",
            "updated_at": "2012-12-07T20:29:25Z",
            "author_association": "NONE",
            "body": "that's not a preferred solution but it'll work.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/11145587",
            "html_url": "https://github.com/pallets/flask/issues/549#issuecomment-11145587",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/549",
            "id": 11145587,
            "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ1NTg3",
            "user": {
                "login": "techniq",
                "id": 177476,
                "node_id": "MDQ6VXNlcjE3NzQ3Ng==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/177476?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/techniq",
                "html_url": "https://github.com/techniq",
                "followers_url": "https://api.github.com/users/techniq/followers",
                "following_url": "https://api.github.com/users/techniq/following{/other_user}",
                "gists_url": "https://api.github.com/users/techniq/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/techniq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/techniq/subscriptions",
                "organizations_url": "https://api.github.com/users/techniq/orgs",
                "repos_url": "https://api.github.com/users/techniq/repos",
                "events_url": "https://api.github.com/users/techniq/events{/privacy}",
                "received_events_url": "https://api.github.com/users/techniq/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-12-07T20:43:32Z",
            "updated_at": "2012-12-07T20:43:32Z",
            "author_association": "NONE",
            "body": "Not sure if this would help with your specific case, but I use Flask-Failsafe (http://pypi.python.org/pypi/Flask-Failsafe/) extension to safeguard against some syntax errors from killing the dev server.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/11146439",
            "html_url": "https://github.com/pallets/flask/issues/549#issuecomment-11146439",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/549",
            "id": 11146439,
            "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ2NDM5",
            "user": {
                "login": "rbucker",
                "id": 882595,
                "node_id": "MDQ6VXNlcjg4MjU5NQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/882595?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rbucker",
                "html_url": "https://github.com/rbucker",
                "followers_url": "https://api.github.com/users/rbucker/followers",
                "following_url": "https://api.github.com/users/rbucker/following{/other_user}",
                "gists_url": "https://api.github.com/users/rbucker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rbucker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rbucker/subscriptions",
                "organizations_url": "https://api.github.com/users/rbucker/orgs",
                "repos_url": "https://api.github.com/users/rbucker/repos",
                "events_url": "https://api.github.com/users/rbucker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rbucker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-12-07T21:08:29Z",
            "updated_at": "2012-12-07T21:08:29Z",
            "author_association": "NONE",
            "body": "That looks like an interesting solution. Very similar to that other solution but quite possibly better. In that other solution a proper syntax error will cause the application to load and crash and load and crash ... until it's fixed. Failsafe suggests that it'll trap the exception and give you a chance to repair it without generating too much heat. which is good if you actually insert an error but \"could\" be a little greedy when the issue is latency when uploading or saving new code. I'd have to check to see if it's leading or trailing edge triggered.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/11146805",
            "html_url": "https://github.com/pallets/flask/issues/549#issuecomment-11146805",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/549",
            "id": 11146805,
            "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ2ODA1",
            "user": {
                "login": "techniq",
                "id": 177476,
                "node_id": "MDQ6VXNlcjE3NzQ3Ng==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/177476?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/techniq",
                "html_url": "https://github.com/techniq",
                "followers_url": "https://api.github.com/users/techniq/followers",
                "following_url": "https://api.github.com/users/techniq/following{/other_user}",
                "gists_url": "https://api.github.com/users/techniq/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/techniq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/techniq/subscriptions",
                "organizations_url": "https://api.github.com/users/techniq/orgs",
                "repos_url": "https://api.github.com/users/techniq/repos",
                "events_url": "https://api.github.com/users/techniq/events{/privacy}",
                "received_events_url": "https://api.github.com/users/techniq/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2012-12-07T21:18:48Z",
            "updated_at": "2012-12-07T21:18:48Z",
            "author_association": "NONE",
            "body": "Note, I still find a way to crash even with the extension wrapping my create_app, but it greatly reduces it happening.  I get a little trigger happy with Command+S :)\n"
        }
    ]
}