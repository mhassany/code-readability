{
    "url": "https://api.github.com/repos/pallets/flask/issues/2239",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2239/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2239/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2239/events",
    "html_url": "https://github.com/pallets/flask/issues/2239",
    "id": 221356733,
    "node_id": "MDU6SXNzdWUyMjEzNTY3MzM=",
    "number": 2239,
    "title": "Bind to IPv6 and IPv4 simultanously (Dual Stack operation)",
    "user": {
        "login": "TheDiveO",
        "id": 6920158,
        "node_id": "MDQ6VXNlcjY5MjAxNTg=",
        "avatar_url": "https://avatars2.githubusercontent.com/u/6920158?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheDiveO",
        "html_url": "https://github.com/TheDiveO",
        "followers_url": "https://api.github.com/users/TheDiveO/followers",
        "following_url": "https://api.github.com/users/TheDiveO/following{/other_user}",
        "gists_url": "https://api.github.com/users/TheDiveO/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/TheDiveO/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/TheDiveO/subscriptions",
        "organizations_url": "https://api.github.com/users/TheDiveO/orgs",
        "repos_url": "https://api.github.com/users/TheDiveO/repos",
        "events_url": "https://api.github.com/users/TheDiveO/events{/privacy}",
        "received_events_url": "https://api.github.com/users/TheDiveO/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 8,
    "created_at": "2017-04-12T18:51:49Z",
    "updated_at": "2017-04-12T19:47:51Z",
    "closed_at": "2017-04-12T19:26:38Z",
    "author_association": "NONE",
    "body": "At this time, `Flask.run()` accepts only a `host=` parameter containing a single address. While `::` for the Linux kernel also accepts IPv4-mapped IPv6 addresses from the `::ffff:0.0.0.0/96` range, other dual stack implementations, such as Windows (and OpenBSD I think) do not map IPv4 addresses into the IPv6 address space for (IMHO sound) security rationales.\r\n\r\nPlease support binding to multiple addresses, thus supporting dual stack deployment, such as `host=('0.0.0.0', '::')`.",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/293673479",
            "html_url": "https://github.com/pallets/flask/issues/2239#issuecomment-293673479",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2239",
            "id": 293673479,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY3MzQ3OQ==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-04-12T18:52:21Z",
            "updated_at": "2017-04-12T18:52:21Z",
            "author_association": "MEMBER",
            "body": "What's the point of this? The builtin server is just for development anyway."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/293676201",
            "html_url": "https://github.com/pallets/flask/issues/2239#issuecomment-293676201",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2239",
            "id": 293676201,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY3NjIwMQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-04-12T19:02:40Z",
            "updated_at": "2017-04-12T19:02:40Z",
            "author_association": "MEMBER",
            "body": "This would be an issue with Werkzeug, not Flask. But yeah, don't really see why the dev server would need to bind multiple addresses."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/293678513",
            "html_url": "https://github.com/pallets/flask/issues/2239#issuecomment-293678513",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2239",
            "id": 293678513,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY3ODUxMw==",
            "user": {
                "login": "TheDiveO",
                "id": 6920158,
                "node_id": "MDQ6VXNlcjY5MjAxNTg=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/6920158?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/TheDiveO",
                "html_url": "https://github.com/TheDiveO",
                "followers_url": "https://api.github.com/users/TheDiveO/followers",
                "following_url": "https://api.github.com/users/TheDiveO/following{/other_user}",
                "gists_url": "https://api.github.com/users/TheDiveO/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/TheDiveO/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TheDiveO/subscriptions",
                "organizations_url": "https://api.github.com/users/TheDiveO/orgs",
                "repos_url": "https://api.github.com/users/TheDiveO/repos",
                "events_url": "https://api.github.com/users/TheDiveO/events{/privacy}",
                "received_events_url": "https://api.github.com/users/TheDiveO/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-04-12T19:12:08Z",
            "updated_at": "2017-04-12T19:12:08Z",
            "author_association": "NONE",
            "body": "@davidism Okay, so I'm looking into Werkzeug. Binding to multiple addresses is necessary, because you need to bind to IPv4 ANY separately from IPv6 ANY. Do you have any IPv6 and Dual Stack experience?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/293678686",
            "html_url": "https://github.com/pallets/flask/issues/2239#issuecomment-293678686",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2239",
            "id": 293678686,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY3ODY4Ng==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-04-12T19:12:46Z",
            "updated_at": "2017-04-12T19:12:46Z",
            "author_association": "MEMBER",
            "body": "Can you please explain why you need dual stack in a server that is **only** suitable for development? It **must not** be used in production."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/293679875",
            "html_url": "https://github.com/pallets/flask/issues/2239#issuecomment-293679875",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2239",
            "id": 293679875,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY3OTg3NQ==",
            "user": {
                "login": "TheDiveO",
                "id": 6920158,
                "node_id": "MDQ6VXNlcjY5MjAxNTg=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/6920158?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/TheDiveO",
                "html_url": "https://github.com/TheDiveO",
                "followers_url": "https://api.github.com/users/TheDiveO/followers",
                "following_url": "https://api.github.com/users/TheDiveO/following{/other_user}",
                "gists_url": "https://api.github.com/users/TheDiveO/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/TheDiveO/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TheDiveO/subscriptions",
                "organizations_url": "https://api.github.com/users/TheDiveO/orgs",
                "repos_url": "https://api.github.com/users/TheDiveO/repos",
                "events_url": "https://api.github.com/users/TheDiveO/events{/privacy}",
                "received_events_url": "https://api.github.com/users/TheDiveO/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-04-12T19:17:42Z",
            "updated_at": "2017-04-12T19:21:49Z",
            "author_association": "NONE",
            "body": "@ThiefMaster can you please explain why a dual stack server is for production only? I'm using it in a simulation environment inside lightweight docker containers, but need many instances of them in separate subnets. I'm running dual stack for a reason."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/293679884",
            "html_url": "https://github.com/pallets/flask/issues/2239#issuecomment-293679884",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2239",
            "id": 293679884,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY3OTg4NA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-04-12T19:17:43Z",
            "updated_at": "2017-04-12T19:22:04Z",
            "author_association": "MEMBER",
            "body": "The dev server is for local development. For production, where it seems more likely you would need to bind to multiple addresses, use a production WSGI server. That includes within docker containers. See [the deploying docs](http://flask.pocoo.org/docs/dev/deploying/). uWSGI, gunicorn, and Nginx can all bind to multiple addresses."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/293681779",
            "html_url": "https://github.com/pallets/flask/issues/2239#issuecomment-293681779",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2239",
            "id": 293681779,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY4MTc3OQ==",
            "user": {
                "login": "TheDiveO",
                "id": 6920158,
                "node_id": "MDQ6VXNlcjY5MjAxNTg=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/6920158?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/TheDiveO",
                "html_url": "https://github.com/TheDiveO",
                "followers_url": "https://api.github.com/users/TheDiveO/followers",
                "following_url": "https://api.github.com/users/TheDiveO/following{/other_user}",
                "gists_url": "https://api.github.com/users/TheDiveO/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/TheDiveO/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TheDiveO/subscriptions",
                "organizations_url": "https://api.github.com/users/TheDiveO/orgs",
                "repos_url": "https://api.github.com/users/TheDiveO/repos",
                "events_url": "https://api.github.com/users/TheDiveO/events{/privacy}",
                "received_events_url": "https://api.github.com/users/TheDiveO/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-04-12T19:25:15Z",
            "updated_at": "2017-04-12T19:25:15Z",
            "author_association": "NONE",
            "body": "Gevent looks like an option to me, as I need to keep resources low in the comtainers, because I run many of them in parallel."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/293682007",
            "html_url": "https://github.com/pallets/flask/issues/2239#issuecomment-293682007",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2239",
            "id": 293682007,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzY4MjAwNw==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-04-12T19:26:12Z",
            "updated_at": "2017-04-12T19:47:51Z",
            "author_association": "MEMBER",
            "body": "davidism edit: It would be more useful to provide a concrete example where the dev server needs to support multiple binds. Evaluating the viability of a request is difficult without an example.\r\n\r\nYou are welcome to contribute dual-stack support to Werkzeug, if it's a well-made PR I'm sure we'll appreciate it. However, AFAIK you cannot bind a single listening socket to both IPv4 and IPv6 unless you bind to all IPs (HAProxy has an option for this (\"v4v6\")). And while I'm not extremely familiar with the dev server's internals it might add lots of complexity to the code if it suddenly needs to deal with multiple listening sockets.\r\n\r\nBTW: If all you need is a pure-python server, you can also have a look at cherrypy's webserver. It's quite easy to run Flask (or any other) WSGI app inside it."
        }
    ]
}