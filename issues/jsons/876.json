{
    "url": "https://api.github.com/repos/pallets/flask/issues/876",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/876/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/876/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/876/events",
    "html_url": "https://github.com/pallets/flask/pull/876",
    "id": 20280377,
    "node_id": "MDExOlB1bGxSZXF1ZXN0ODcxMzg5Mg==",
    "number": 876,
    "title": "Add TEMPLATES_AUTO_RELOAD config key",
    "user": {
        "login": "defuz",
        "id": 276041,
        "node_id": "MDQ6VXNlcjI3NjA0MQ==",
        "avatar_url": "https://avatars2.githubusercontent.com/u/276041?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/defuz",
        "html_url": "https://github.com/defuz",
        "followers_url": "https://api.github.com/users/defuz/followers",
        "following_url": "https://api.github.com/users/defuz/following{/other_user}",
        "gists_url": "https://api.github.com/users/defuz/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/defuz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/defuz/subscriptions",
        "organizations_url": "https://api.github.com/users/defuz/orgs",
        "repos_url": "https://api.github.com/users/defuz/repos",
        "events_url": "https://api.github.com/users/defuz/events{/privacy}",
        "received_events_url": "https://api.github.com/users/defuz/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2013-09-30T18:09:10Z",
    "updated_at": "2014-10-24T21:45:09Z",
    "closed_at": "2014-03-21T20:43:20Z",
    "author_association": "CONTRIBUTOR",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/876",
        "html_url": "https://github.com/pallets/flask/pull/876",
        "diff_url": "https://github.com/pallets/flask/pull/876.diff",
        "patch_url": "https://github.com/pallets/flask/pull/876.patch"
    },
    "body": "Currently jinja environment checks for changes in the template file every time you need to render it. But disk I/O is costly and it may be viable to disable this feature in production.\n\nI added `TEMPLATES_AUTO_RELOAD` config option which allows to set `auto_reload` attribute of `jinja2.Environment` to `False` when the application is running in non-debug mode. This allows to make the template rendering a little more efficient because it disables a checking of changing templates file each time before template is rendered.\n\nIn some situations, this could give a significant increase of performance (from 60 to 200 rps in my case). Unfortunately, if you want to do the same by overriding of `Flask.jinja_options` attribute, it would be uncomfortable because a reloading of templates is needed for debugging.\n\nThis change should not affect existing applications. Also, it might make sense to disable reloading by default.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/38322013",
            "html_url": "https://github.com/pallets/flask/pull/876#issuecomment-38322013",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/876",
            "id": 38322013,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzIyMDEz",
            "user": {
                "login": "kennethreitz",
                "id": 119893,
                "node_id": "MDQ6VXNlcjExOTg5Mw==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/119893?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/kennethreitz",
                "html_url": "https://github.com/kennethreitz",
                "followers_url": "https://api.github.com/users/kennethreitz/followers",
                "following_url": "https://api.github.com/users/kennethreitz/following{/other_user}",
                "gists_url": "https://api.github.com/users/kennethreitz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/kennethreitz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kennethreitz/subscriptions",
                "organizations_url": "https://api.github.com/users/kennethreitz/orgs",
                "repos_url": "https://api.github.com/users/kennethreitz/repos",
                "events_url": "https://api.github.com/users/kennethreitz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/kennethreitz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-03-21T20:43:19Z",
            "updated_at": "2014-03-21T20:43:19Z",
            "author_association": "CONTRIBUTOR",
            "body": "Love it. :cake:\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/38414281",
            "html_url": "https://github.com/pallets/flask/pull/876#issuecomment-38414281",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/876",
            "id": 38414281,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDE0Mjgx",
            "user": {
                "login": "fengsp",
                "id": 2986070,
                "node_id": "MDQ6VXNlcjI5ODYwNzA=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/2986070?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/fengsp",
                "html_url": "https://github.com/fengsp",
                "followers_url": "https://api.github.com/users/fengsp/followers",
                "following_url": "https://api.github.com/users/fengsp/following{/other_user}",
                "gists_url": "https://api.github.com/users/fengsp/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/fengsp/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/fengsp/subscriptions",
                "organizations_url": "https://api.github.com/users/fengsp/orgs",
                "repos_url": "https://api.github.com/users/fengsp/repos",
                "events_url": "https://api.github.com/users/fengsp/events{/privacy}",
                "received_events_url": "https://api.github.com/users/fengsp/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-03-24T05:58:58Z",
            "updated_at": "2014-03-24T05:58:58Z",
            "author_association": "CONTRIBUTOR",
            "body": "Just what I need, thanks.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/41743820",
            "html_url": "https://github.com/pallets/flask/pull/876#issuecomment-41743820",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/876",
            "id": 41743820,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzQzODIw",
            "user": {
                "login": "klinkin",
                "id": 461927,
                "node_id": "MDQ6VXNlcjQ2MTkyNw==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/461927?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/klinkin",
                "html_url": "https://github.com/klinkin",
                "followers_url": "https://api.github.com/users/klinkin/followers",
                "following_url": "https://api.github.com/users/klinkin/following{/other_user}",
                "gists_url": "https://api.github.com/users/klinkin/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/klinkin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/klinkin/subscriptions",
                "organizations_url": "https://api.github.com/users/klinkin/orgs",
                "repos_url": "https://api.github.com/users/klinkin/repos",
                "events_url": "https://api.github.com/users/klinkin/events{/privacy}",
                "received_events_url": "https://api.github.com/users/klinkin/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-04-29T23:14:22Z",
            "updated_at": "2014-04-29T23:14:22Z",
            "author_association": "NONE",
            "body": ":+1: \n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/60453666",
            "html_url": "https://github.com/pallets/flask/pull/876#issuecomment-60453666",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/876",
            "id": 60453666,
            "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDUzNjY2",
            "user": {
                "login": "nickretallack",
                "id": 13291,
                "node_id": "MDQ6VXNlcjEzMjkx",
                "avatar_url": "https://avatars3.githubusercontent.com/u/13291?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/nickretallack",
                "html_url": "https://github.com/nickretallack",
                "followers_url": "https://api.github.com/users/nickretallack/followers",
                "following_url": "https://api.github.com/users/nickretallack/following{/other_user}",
                "gists_url": "https://api.github.com/users/nickretallack/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/nickretallack/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nickretallack/subscriptions",
                "organizations_url": "https://api.github.com/users/nickretallack/orgs",
                "repos_url": "https://api.github.com/users/nickretallack/repos",
                "events_url": "https://api.github.com/users/nickretallack/events{/privacy}",
                "received_events_url": "https://api.github.com/users/nickretallack/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-10-24T21:45:09Z",
            "updated_at": "2014-10-24T21:45:09Z",
            "author_association": "NONE",
            "body": "This would also prevent an annoying production issue:\n\nYou just swapped the source code to a new version, but you haven't restarted the python instances yet.  A new request comes in and hits an existing python process.  It runs the old code, but renders with the new templates, because templates reload automatically.  The result is that it breaks because the old code and the new templates don't match.\n\nMoments later, the python processes get restarted and are now using the new code with the new templates.  But now your email inbox is stuffed full of error messages, and your mail server is exploding trying to handle all these requests to send you error emails, and everything is slow and dying as a result.\n\nSure, the real way to fix this is to take a server out of rotation when you want to patch it, but if you're running a small app on only one server, you don't really have that option.\n"
        }
    ]
}