{
    "url": "https://api.github.com/repos/pallets/flask/issues/1978",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1978/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1978/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1978/events",
    "html_url": "https://github.com/pallets/flask/issues/1978",
    "id": 169376236,
    "node_id": "MDU6SXNzdWUxNjkzNzYyMzY=",
    "number": 1978,
    "title": "docs: sqlalchemy pattern document has an invalid import",
    "user": {
        "login": "sc68cal",
        "id": 506899,
        "node_id": "MDQ6VXNlcjUwNjg5OQ==",
        "avatar_url": "https://avatars2.githubusercontent.com/u/506899?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sc68cal",
        "html_url": "https://github.com/sc68cal",
        "followers_url": "https://api.github.com/users/sc68cal/followers",
        "following_url": "https://api.github.com/users/sc68cal/following{/other_user}",
        "gists_url": "https://api.github.com/users/sc68cal/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sc68cal/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sc68cal/subscriptions",
        "organizations_url": "https://api.github.com/users/sc68cal/orgs",
        "repos_url": "https://api.github.com/users/sc68cal/repos",
        "events_url": "https://api.github.com/users/sc68cal/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sc68cal/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 9,
    "created_at": "2016-08-04T13:37:53Z",
    "updated_at": "2016-08-08T19:37:09Z",
    "closed_at": "2016-08-08T02:04:34Z",
    "author_association": "NONE",
    "body": "The [declarative](https://github.com/pallets/flask/blob/master/docs/patterns/sqlalchemy.rst#declarative) section includes the following example:\n\n```\nDeclarative\n-----------\n\nThe declarative extension in SQLAlchemy is the most recent method of using\nSQLAlchemy.  It allows you to define tables and models in one go, similar\nto how Django works.  In addition to the following text I recommend the\nofficial documentation on the `declarative`_ extension.\n\nHere's the example :file:`database.py` module for your application::\n\n    from sqlalchemy import create_engine\n    from sqlalchemy.orm import scoped_session, sessionmaker\n    from sqlalchemy.ext.declarative import declarative_base\n\n    engine = create_engine('sqlite:////tmp/test.db', convert_unicode=True)\n    db_session = scoped_session(sessionmaker(autocommit=False,\n                                             autoflush=False,\n                                             bind=engine))\n```\n\n`db_session` is a variable, and a paragraph below, it tries to import it. Which isn't really possible.\n\n```\n\n    from yourapplication.database import db_session\n\n    @app.teardown_appcontext\n    def shutdown_session(exception=None):\n        db_session.remove()\n```\n\nThis documentation is misleading \n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/237740955",
            "html_url": "https://github.com/pallets/flask/issues/1978#issuecomment-237740955",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1978",
            "id": 237740955,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzc0MDk1NQ==",
            "user": {
                "login": "wgwz",
                "id": 10120306,
                "node_id": "MDQ6VXNlcjEwMTIwMzA2",
                "avatar_url": "https://avatars2.githubusercontent.com/u/10120306?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/wgwz",
                "html_url": "https://github.com/wgwz",
                "followers_url": "https://api.github.com/users/wgwz/followers",
                "following_url": "https://api.github.com/users/wgwz/following{/other_user}",
                "gists_url": "https://api.github.com/users/wgwz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/wgwz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wgwz/subscriptions",
                "organizations_url": "https://api.github.com/users/wgwz/orgs",
                "repos_url": "https://api.github.com/users/wgwz/repos",
                "events_url": "https://api.github.com/users/wgwz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/wgwz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-05T02:37:38Z",
            "updated_at": "2016-08-05T02:37:38Z",
            "author_association": "CONTRIBUTOR",
            "body": "@sc68cal I don't think that there is anything wrong with that import in principle. But of course it might be nice for the application structure to be stated more explicitly. \n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/237860082",
            "html_url": "https://github.com/pallets/flask/issues/1978#issuecomment-237860082",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1978",
            "id": 237860082,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzg2MDA4Mg==",
            "user": {
                "login": "sc68cal",
                "id": 506899,
                "node_id": "MDQ6VXNlcjUwNjg5OQ==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/506899?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/sc68cal",
                "html_url": "https://github.com/sc68cal",
                "followers_url": "https://api.github.com/users/sc68cal/followers",
                "following_url": "https://api.github.com/users/sc68cal/following{/other_user}",
                "gists_url": "https://api.github.com/users/sc68cal/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/sc68cal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sc68cal/subscriptions",
                "organizations_url": "https://api.github.com/users/sc68cal/orgs",
                "repos_url": "https://api.github.com/users/sc68cal/repos",
                "events_url": "https://api.github.com/users/sc68cal/events{/privacy}",
                "received_events_url": "https://api.github.com/users/sc68cal/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-05T14:08:52Z",
            "updated_at": "2016-08-05T14:08:52Z",
            "author_association": "NONE",
            "body": "Where is there a function named `db_session`? There is a _variable_ named `db_session` but you can't import variables....\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/237869187",
            "html_url": "https://github.com/pallets/flask/issues/1978#issuecomment-237869187",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1978",
            "id": 237869187,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzg2OTE4Nw==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-05T14:43:08Z",
            "updated_at": "2016-08-05T14:43:08Z",
            "author_association": "MEMBER",
            "body": "Of course you can. Just not without `from`.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238114612",
            "html_url": "https://github.com/pallets/flask/issues/1978#issuecomment-238114612",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1978",
            "id": 238114612,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODExNDYxMg==",
            "user": {
                "login": "wgwz",
                "id": 10120306,
                "node_id": "MDQ6VXNlcjEwMTIwMzA2",
                "avatar_url": "https://avatars2.githubusercontent.com/u/10120306?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/wgwz",
                "html_url": "https://github.com/wgwz",
                "followers_url": "https://api.github.com/users/wgwz/followers",
                "following_url": "https://api.github.com/users/wgwz/following{/other_user}",
                "gists_url": "https://api.github.com/users/wgwz/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/wgwz/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wgwz/subscriptions",
                "organizations_url": "https://api.github.com/users/wgwz/orgs",
                "repos_url": "https://api.github.com/users/wgwz/repos",
                "events_url": "https://api.github.com/users/wgwz/events{/privacy}",
                "received_events_url": "https://api.github.com/users/wgwz/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-07T23:11:09Z",
            "updated_at": "2016-08-07T23:11:09Z",
            "author_association": "CONTRIBUTOR",
            "body": "@sc68cal What do you think? If things make sense now, you should maybe go ahead and close the issue. \n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238126344",
            "html_url": "https://github.com/pallets/flask/issues/1978#issuecomment-238126344",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1978",
            "id": 238126344,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODEyNjM0NA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-08T02:04:34Z",
            "updated_at": "2016-08-08T02:04:34Z",
            "author_association": "MEMBER",
            "body": "I don't see anything wrong with this import.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238288472",
            "html_url": "https://github.com/pallets/flask/issues/1978#issuecomment-238288472",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1978",
            "id": 238288472,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODI4ODQ3Mg==",
            "user": {
                "login": "sc68cal",
                "id": 506899,
                "node_id": "MDQ6VXNlcjUwNjg5OQ==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/506899?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/sc68cal",
                "html_url": "https://github.com/sc68cal",
                "followers_url": "https://api.github.com/users/sc68cal/followers",
                "following_url": "https://api.github.com/users/sc68cal/following{/other_user}",
                "gists_url": "https://api.github.com/users/sc68cal/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/sc68cal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sc68cal/subscriptions",
                "organizations_url": "https://api.github.com/users/sc68cal/orgs",
                "repos_url": "https://api.github.com/users/sc68cal/repos",
                "events_url": "https://api.github.com/users/sc68cal/events{/privacy}",
                "received_events_url": "https://api.github.com/users/sc68cal/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-08T16:16:53Z",
            "updated_at": "2016-08-08T16:16:53Z",
            "author_association": "NONE",
            "body": "That's a post of me trying to follow the documentation, albiet with a module named `api` instead of `database` like the instructions has.\n\nThere is no `db_session.py` that the docs includes. The docs talk about a `database.py` module. So if anything it should be \n\n```\nfrom yourapplication.database import database\n```\n\nAnd I guess it would be `database.db_session.close()` ?\n\nThe issue is the docs are quite ambiguous.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238289240",
            "html_url": "https://github.com/pallets/flask/issues/1978#issuecomment-238289240",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1978",
            "id": 238289240,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODI4OTI0MA==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-08T16:19:45Z",
            "updated_at": "2016-08-08T16:19:45Z",
            "author_association": "MEMBER",
            "body": "You _can_ import _anything_ (variable, functions, etc.) from a module...\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238292528",
            "html_url": "https://github.com/pallets/flask/issues/1978#issuecomment-238292528",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1978",
            "id": 238292528,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODI5MjUyOA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-08T16:31:26Z",
            "updated_at": "2016-08-08T16:31:26Z",
            "author_association": "MEMBER",
            "body": "I can't reproduce your issue.  I created a `database.py` file based on the docs then imported from it successfully in other modules.\n\nThis is not an issue with Flask or its docs, it appears to be an issue with your understanding of Python imports.  The Flask issue tracker is not the place to resolve that.\n\nIf you have a question about your own code, please post on Stack Overflow after creating a [minimal, complete, and verifiable example](http://stackoverflow.com/help/mcve).\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/238351040",
            "html_url": "https://github.com/pallets/flask/issues/1978#issuecomment-238351040",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1978",
            "id": 238351040,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIzODM1MTA0MA==",
            "user": {
                "login": "sc68cal",
                "id": 506899,
                "node_id": "MDQ6VXNlcjUwNjg5OQ==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/506899?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/sc68cal",
                "html_url": "https://github.com/sc68cal",
                "followers_url": "https://api.github.com/users/sc68cal/followers",
                "following_url": "https://api.github.com/users/sc68cal/following{/other_user}",
                "gists_url": "https://api.github.com/users/sc68cal/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/sc68cal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sc68cal/subscriptions",
                "organizations_url": "https://api.github.com/users/sc68cal/orgs",
                "repos_url": "https://api.github.com/users/sc68cal/repos",
                "events_url": "https://api.github.com/users/sc68cal/events{/privacy}",
                "received_events_url": "https://api.github.com/users/sc68cal/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-08-08T19:36:44Z",
            "updated_at": "2016-08-08T19:36:44Z",
            "author_association": "NONE",
            "body": "The issue was there was a error in an import further down the stack. Basically PEBCAK, sorry for the waste of time\n"
        }
    ]
}