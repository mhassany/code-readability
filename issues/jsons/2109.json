{
    "url": "https://api.github.com/repos/pallets/flask/issues/2109",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2109/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2109/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2109/events",
    "html_url": "https://github.com/pallets/flask/issues/2109",
    "id": 195524440,
    "node_id": "MDU6SXNzdWUxOTU1MjQ0NDA=",
    "number": 2109,
    "title": "app.run(host, port) and SERVER_NAME should correspond to where flask is actually running",
    "user": {
        "login": "MartijnRas",
        "id": 116096,
        "node_id": "MDQ6VXNlcjExNjA5Ng==",
        "avatar_url": "https://avatars1.githubusercontent.com/u/116096?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MartijnRas",
        "html_url": "https://github.com/MartijnRas",
        "followers_url": "https://api.github.com/users/MartijnRas/followers",
        "following_url": "https://api.github.com/users/MartijnRas/following{/other_user}",
        "gists_url": "https://api.github.com/users/MartijnRas/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/MartijnRas/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MartijnRas/subscriptions",
        "organizations_url": "https://api.github.com/users/MartijnRas/orgs",
        "repos_url": "https://api.github.com/users/MartijnRas/repos",
        "events_url": "https://api.github.com/users/MartijnRas/events{/privacy}",
        "received_events_url": "https://api.github.com/users/MartijnRas/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2016-12-14T12:58:31Z",
    "updated_at": "2019-01-24T08:43:23Z",
    "closed_at": "2017-05-19T19:55:09Z",
    "author_association": "NONE",
    "body": "Assuming the SERVER_NAME config variable is configured as '0.0.0.0:5555':\r\n\r\n1) Calling app.run(host=None, port=None) results in flask running on http://127.0.0.1:5555/\r\n2) Calling app.run(host='127.0.0.1', port=5000) results in flask running on http://127.0.0.1:5000/\r\n\r\nIn both cases the SERVER_NAME config variable does not correspond to where flask is actually running.\r\n\r\nThe host and port parameters in app.run() must of course take precedence, but should be set according to the SERVER_NAME config variable if present.\r\n\r\nThe current implementation in app.run():\r\n\r\n    if host is None:\r\n        host = '127.0.0.1'\r\n    if port is None:\r\n        server_name = self.config['SERVER_NAME']\r\n        if server_name and ':' in server_name:\r\n            port = int(server_name.rsplit(':', 1)[1])\r\n        else:\r\n            port = 5000\r\n\r\nCould be replaced by the following:\r\n\r\n    _host = '127.0.0.1'\r\n    _port = 5000\r\n    servername = self.config['SERVER_NAME']\r\n    if server_name:\r\n        if server_name and ':' in server_name:\r\n            _host, _port = servername.split(':', 1)\r\n    if host is None:\r\n        host = _host\r\n    if port is None:\r\n        port = _port\r\n\r\nThe following can be used to make sure the SERVER_NAME config variable corresponds to where flask is actually running:\r\n\r\n    if servername:\r\n        self.config['SERVER_NAME'] = host + ':' + port\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/272978658",
            "html_url": "https://github.com/pallets/flask/issues/2109#issuecomment-272978658",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2109",
            "id": 272978658,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mjk3ODY1OA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-16T22:42:25Z",
            "updated_at": "2017-01-16T23:19:50Z",
            "author_association": "MEMBER",
            "body": "0.0.0.0:5000 is not a valid server name. It's a valid bind, but that's not what `SERVER_NAME` is. Also, it's probably a bad sign when you're binding the dev server to the outside."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/272985097",
            "html_url": "https://github.com/pallets/flask/issues/2109#issuecomment-272985097",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2109",
            "id": 272985097,
            "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mjk4NTA5Nw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-01-16T23:29:27Z",
            "updated_at": "2017-01-16T23:29:27Z",
            "author_association": "MEMBER",
            "body": "This won't (a cannot due to lazy loading) apply to the `flask run` command, which is the recommended way to run the dev server now."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/302785918",
            "html_url": "https://github.com/pallets/flask/issues/2109#issuecomment-302785918",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2109",
            "id": 302785918,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjc4NTkxOA==",
            "user": {
                "login": "jeffwidman",
                "id": 483314,
                "node_id": "MDQ6VXNlcjQ4MzMxNA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/483314?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jeffwidman",
                "html_url": "https://github.com/jeffwidman",
                "followers_url": "https://api.github.com/users/jeffwidman/followers",
                "following_url": "https://api.github.com/users/jeffwidman/following{/other_user}",
                "gists_url": "https://api.github.com/users/jeffwidman/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jeffwidman/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jeffwidman/subscriptions",
                "organizations_url": "https://api.github.com/users/jeffwidman/orgs",
                "repos_url": "https://api.github.com/users/jeffwidman/repos",
                "events_url": "https://api.github.com/users/jeffwidman/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jeffwidman/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-05-19T19:05:01Z",
            "updated_at": "2017-05-19T19:05:01Z",
            "author_association": "MEMBER",
            "body": "Seems like this should be closed based on above comments?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/302796664",
            "html_url": "https://github.com/pallets/flask/issues/2109#issuecomment-302796664",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2109",
            "id": 302796664,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjc5NjY2NA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-05-19T19:55:09Z",
            "updated_at": "2017-05-19T19:55:09Z",
            "author_association": "MEMBER",
            "body": "Yes. Also, server name isn't necessarily the same as the local address the server is bound to."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/358357018",
            "html_url": "https://github.com/pallets/flask/issues/2109#issuecomment-358357018",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2109",
            "id": 358357018,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODM1NzAxOA==",
            "user": {
                "login": "ralex2304",
                "id": 31699677,
                "node_id": "MDQ6VXNlcjMxNjk5Njc3",
                "avatar_url": "https://avatars1.githubusercontent.com/u/31699677?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ralex2304",
                "html_url": "https://github.com/ralex2304",
                "followers_url": "https://api.github.com/users/ralex2304/followers",
                "following_url": "https://api.github.com/users/ralex2304/following{/other_user}",
                "gists_url": "https://api.github.com/users/ralex2304/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ralex2304/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ralex2304/subscriptions",
                "organizations_url": "https://api.github.com/users/ralex2304/orgs",
                "repos_url": "https://api.github.com/users/ralex2304/repos",
                "events_url": "https://api.github.com/users/ralex2304/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ralex2304/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-01-17T16:19:21Z",
            "updated_at": "2018-01-17T16:19:21Z",
            "author_association": "NONE",
            "body": "How can I make 2 server names?\r\n\"example.com\" and \"www.example.com\"."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/412313460",
            "html_url": "https://github.com/pallets/flask/issues/2109#issuecomment-412313460",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2109",
            "id": 412313460,
            "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjMxMzQ2MA==",
            "user": {
                "login": "ivanlmj",
                "id": 7580855,
                "node_id": "MDQ6VXNlcjc1ODA4NTU=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/7580855?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ivanlmj",
                "html_url": "https://github.com/ivanlmj",
                "followers_url": "https://api.github.com/users/ivanlmj/followers",
                "following_url": "https://api.github.com/users/ivanlmj/following{/other_user}",
                "gists_url": "https://api.github.com/users/ivanlmj/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ivanlmj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ivanlmj/subscriptions",
                "organizations_url": "https://api.github.com/users/ivanlmj/orgs",
                "repos_url": "https://api.github.com/users/ivanlmj/repos",
                "events_url": "https://api.github.com/users/ivanlmj/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ivanlmj/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-08-12T02:08:58Z",
            "updated_at": "2018-08-12T02:08:58Z",
            "author_association": "NONE",
            "body": "Is there any way of putting the `host` and `port` variables in a separate file?\r\n\r\nFor example, defining a configuration file and having these variables inside of it, instead of defining these exactly on `app.run()`:\r\n\r\n    app.config.from_pyfile('settings.cfg') \r\n    app.run()"
        }
    ]
}