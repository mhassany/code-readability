{
    "url": "https://api.github.com/repos/pallets/flask/issues/3324",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3324/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3324/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3324/events",
    "html_url": "https://github.com/pallets/flask/pull/3324",
    "id": 478143297,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MzA1MzIzMjY3",
    "number": 3324,
    "title": "cli: optionally silence flask startup messages when using werkzeug",
    "user": {
        "login": "derosier",
        "id": 290322,
        "node_id": "MDQ6VXNlcjI5MDMyMg==",
        "avatar_url": "https://avatars3.githubusercontent.com/u/290322?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/derosier",
        "html_url": "https://github.com/derosier",
        "followers_url": "https://api.github.com/users/derosier/followers",
        "following_url": "https://api.github.com/users/derosier/following{/other_user}",
        "gists_url": "https://api.github.com/users/derosier/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/derosier/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/derosier/subscriptions",
        "organizations_url": "https://api.github.com/users/derosier/orgs",
        "repos_url": "https://api.github.com/users/derosier/repos",
        "events_url": "https://api.github.com/users/derosier/events{/privacy}",
        "received_events_url": "https://api.github.com/users/derosier/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-08-07T21:16:22Z",
    "updated_at": "2019-08-24T16:09:58Z",
    "closed_at": "2019-08-24T16:09:58Z",
    "author_association": "NONE",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/3324",
        "html_url": "https://github.com/pallets/flask/pull/3324",
        "diff_url": "https://github.com/pallets/flask/pull/3324.diff",
        "patch_url": "https://github.com/pallets/flask/pull/3324.patch"
    },
    "body": "While inappropriate for a production public webserver, for certain\r\nuse-cases, the embedded Werkzeug server is perfectly acceptable and useful.\r\nHowever, we might not want the messages cluttering up the console output.\r\n\r\nThis adds an environment variable knob that can be used to silence the\r\nstartup output. Set \"FLASK_SILENCE_STARTUP\" = \"true\" and the messages\r\nwill be skipped.\r\n\r\nIn an earlier attempt, I tried using the WERKZEUG_RUN_MAIN knob, but it has\r\nother side-effects in Werkzeug and thus was unsuitable. The new knob _only_\r\nhas the effect of silencing the messages.\r\n\r\nIn our use-case, a \"real\" webserver is inappropriate as Flask is being used to add a REST-style interface to real-time data-analysis program in order to support internal messaging between parts. During the running of this program, some 20+ processes get spawned, with their own Flask interfaces, and in the system, several other related programs run with Flask app interfaces. This is basically being used only for internal messaging in an isolated system as such the reason to not use the embedded server in a \"production\" system is moot, and the embedded Werkzeug server is perfect for our case. However, the spawning of lots of Flask processes clutters up the startup log of the system making it unpleasant to try to find the actual messages we need to see.\r\n\r\nWe're using the 1.0.x branch and if this is deemed acceptable, I'll pull-request the same change for 1.0.x and 1.1.x if desired.",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/519277101",
            "html_url": "https://github.com/pallets/flask/pull/3324#issuecomment-519277101",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3324",
            "id": 519277101,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTI3NzEwMQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-08-07T21:32:52Z",
            "updated_at": "2019-08-07T21:34:52Z",
            "author_association": "MEMBER",
            "body": "Thank you, but I do not want to provide the option to silence these messages, as it will be misused.\r\n\r\nEven locally, you can run a production WSGI server when not developing the app. Plenty of servers such as Gunicorn, pyuwsgi, and Waitress provide Python interfaces for starting the server as well, if you want to start everything from Python."
        }
    ]
}