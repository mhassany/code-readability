{
    "url": "https://api.github.com/repos/pallets/flask/issues/1730",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1730/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1730/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1730/events",
    "html_url": "https://github.com/pallets/flask/pull/1730",
    "id": 134222919,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NTk2MTQ3Mjg=",
    "number": 1730,
    "title": "make safe_join behave like os.path.join with *args",
    "user": {
        "login": "geusebi",
        "id": 1700752,
        "node_id": "MDQ6VXNlcjE3MDA3NTI=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/1700752?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/geusebi",
        "html_url": "https://github.com/geusebi",
        "followers_url": "https://api.github.com/users/geusebi/followers",
        "following_url": "https://api.github.com/users/geusebi/following{/other_user}",
        "gists_url": "https://api.github.com/users/geusebi/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/geusebi/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/geusebi/subscriptions",
        "organizations_url": "https://api.github.com/users/geusebi/orgs",
        "repos_url": "https://api.github.com/users/geusebi/repos",
        "events_url": "https://api.github.com/users/geusebi/events{/privacy}",
        "received_events_url": "https://api.github.com/users/geusebi/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 16,
    "created_at": "2016-02-17T09:12:48Z",
    "updated_at": "2016-06-04T19:12:59Z",
    "closed_at": "2016-06-04T19:12:55Z",
    "author_association": "CONTRIBUTOR",
    "pull_request": {
        "url": "https://api.github.com/repos/pallets/flask/pulls/1730",
        "html_url": "https://github.com/pallets/flask/pull/1730",
        "diff_url": "https://github.com/pallets/flask/pull/1730.diff",
        "patch_url": "https://github.com/pallets/flask/pull/1730.patch"
    },
    "body": "Make safe_join behave like os.path.join, which accept multiple path components with *args.\nNote that only the ``directory'' 's bound is respected and the path components are only joined together.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/185401323",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-185401323",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 185401323,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTQwMTMyMw==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-02-17T21:01:13Z",
            "updated_at": "2016-02-17T21:01:13Z",
            "author_association": "MEMBER",
            "body": "Is there a concrete usecase for this? I would expect this to cause confusion as it's no longer clear which components are trusted.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/185431690",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-185431690",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 185431690,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTQzMTY5MA==",
            "user": {
                "login": "geusebi",
                "id": 1700752,
                "node_id": "MDQ6VXNlcjE3MDA3NTI=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/1700752?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/geusebi",
                "html_url": "https://github.com/geusebi",
                "followers_url": "https://api.github.com/users/geusebi/followers",
                "following_url": "https://api.github.com/users/geusebi/following{/other_user}",
                "gists_url": "https://api.github.com/users/geusebi/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/geusebi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/geusebi/subscriptions",
                "organizations_url": "https://api.github.com/users/geusebi/orgs",
                "repos_url": "https://api.github.com/users/geusebi/repos",
                "events_url": "https://api.github.com/users/geusebi/events{/privacy}",
                "received_events_url": "https://api.github.com/users/geusebi/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-02-17T22:15:26Z",
            "updated_at": "2016-02-17T22:15:26Z",
            "author_association": "CONTRIBUTOR",
            "body": "I often use an another version which protect each single path components from crossing its boundary, depend on the case.\n\nI issued a pull request with this version because it was the easier one.\n\ne.g. (with base_dir coming from config and the other variables from the user)\n`safe_join(base_dir, users_dir, user_name, \"some_file\")`\nwhatever the user input it cannot leave base_dir.\n\nChecking every single path would be even better for me as it's the version I use most.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/185433079",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-185433079",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 185433079,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTQzMzA3OQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-02-17T22:20:06Z",
            "updated_at": "2016-02-17T22:20:06Z",
            "author_association": "MEMBER",
            "body": "I still don't understand which usecase this has.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/185444952",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-185444952",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 185444952,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE4NTQ0NDk1Mg==",
            "user": {
                "login": "geusebi",
                "id": 1700752,
                "node_id": "MDQ6VXNlcjE3MDA3NTI=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/1700752?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/geusebi",
                "html_url": "https://github.com/geusebi",
                "followers_url": "https://api.github.com/users/geusebi/followers",
                "following_url": "https://api.github.com/users/geusebi/following{/other_user}",
                "gists_url": "https://api.github.com/users/geusebi/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/geusebi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/geusebi/subscriptions",
                "organizations_url": "https://api.github.com/users/geusebi/orgs",
                "repos_url": "https://api.github.com/users/geusebi/repos",
                "events_url": "https://api.github.com/users/geusebi/events{/privacy}",
                "received_events_url": "https://api.github.com/users/geusebi/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-02-17T22:49:32Z",
            "updated_at": "2016-02-17T22:49:32Z",
            "author_association": "CONTRIBUTOR",
            "body": "If you have many path to join you can do:\n`safe_join(base_dir, users_dir, user_name, \"some_file\")`\nor:\n`paths = (base_dir, users_dir, user_name, \"some_file\")`\n`safe_join(*paths)`\ninstead of:\n`safe_join(base_dir, safe_join(users_dir, safe_join(user_name, \"some_file\")))`\n\nAlso you can switch from os.path.join to safe_join without problems even if you use *args.\nI've always used os.path.join this way and I missed that feature when I used safe_join for the first time.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/186206326",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-186206326",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 186206326,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE4NjIwNjMyNg==",
            "user": {
                "login": "timster",
                "id": 173666,
                "node_id": "MDQ6VXNlcjE3MzY2Ng==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/173666?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/timster",
                "html_url": "https://github.com/timster",
                "followers_url": "https://api.github.com/users/timster/followers",
                "following_url": "https://api.github.com/users/timster/following{/other_user}",
                "gists_url": "https://api.github.com/users/timster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/timster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/timster/subscriptions",
                "organizations_url": "https://api.github.com/users/timster/orgs",
                "repos_url": "https://api.github.com/users/timster/repos",
                "events_url": "https://api.github.com/users/timster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/timster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-02-19T13:08:06Z",
            "updated_at": "2016-02-19T13:08:06Z",
            "author_association": "NONE",
            "body": "Couldn't you just do\n\n`safe_join(base_dir, os.path.join(users_dir, user_name, \"some_file\"))`\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/187044768",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-187044768",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 187044768,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzA0NDc2OA==",
            "user": {
                "login": "geusebi",
                "id": 1700752,
                "node_id": "MDQ6VXNlcjE3MDA3NTI=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/1700752?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/geusebi",
                "html_url": "https://github.com/geusebi",
                "followers_url": "https://api.github.com/users/geusebi/followers",
                "following_url": "https://api.github.com/users/geusebi/following{/other_user}",
                "gists_url": "https://api.github.com/users/geusebi/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/geusebi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/geusebi/subscriptions",
                "organizations_url": "https://api.github.com/users/geusebi/orgs",
                "repos_url": "https://api.github.com/users/geusebi/repos",
                "events_url": "https://api.github.com/users/geusebi/events{/privacy}",
                "received_events_url": "https://api.github.com/users/geusebi/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-02-22T07:09:03Z",
            "updated_at": "2016-02-22T07:09:03Z",
            "author_association": "CONTRIBUTOR",
            "body": "Sure, but it would be nice to have safe_join to accept arguments exactly as its counterpart (I'm assuming it's os.path.join(a, *p)). It's easy to implement this behavior without breaking anything and so I proposed the pull request.\n\nIf you see no value or no need to merge, no problem :)\n\nA version which checks every path components could be something like this\nhttps://gist.github.com/geusebi/b152f1ee17a66a9bbeee (not tested)\nWith this version \n`safe_join(base_dir, safe_join(users_dir, safe_join(user_name, \"some_file\")))`\ncould be written as I did in my last comment i.e.\n`paths = (base_dir, users_dir, user_name, \"some_file\")`\n`safe_join(*paths)`\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/187090015",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-187090015",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 187090015,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzA5MDAxNQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-02-22T09:26:12Z",
            "updated_at": "2016-02-22T09:26:12Z",
            "author_association": "MEMBER",
            "body": "You've still not given me a concrete usecase. I'm worried that the proposed API isn't secure in situations where it's assumed to be.\n\nOn 22 February 2016 08:09:17 CET, Giampaolo Eusebi notifications@github.com wrote:\n\n> Sure, but it would be nice to have safe_join to accept arguments\n> exactly as its counterpart (I'm assuming it's os.path.join(a, *p)).\n> It's easy to implement this behavior without breaking anything and so I\n> proposed the pull request.\n> \n> If you see no value or no need to merge, no problem :)\n> \n> A version which checks every path components could be something like\n> this\n> https://gist.github.com/geusebi/b152f1ee17a66a9bbeee (not tested)\n> With this version \n> `safe_join(base_dir, safe_join(users_dir, safe_join(user_name,\n> \"some_file\")))`\n> could be written as I did in my last comment i.e.\n> `paths = (base_dir, users_dir, user_name, \"some_file\")`\n> `safe_join(*paths)`\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/mitsuhiko/flask/pull/1730#issuecomment-187044768\n\n## \n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/187090518",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-187090518",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 187090518,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzA5MDUxOA==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-02-22T09:27:04Z",
            "updated_at": "2016-02-22T09:27:04Z",
            "author_association": "MEMBER",
            "body": "I think for security-related functions it makes sense to keep them simple. Extra complexity just makes it more likely that someone uses them in an insecure fashion\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/187092283",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-187092283",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 187092283,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzA5MjI4Mw==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-02-22T09:31:03Z",
            "updated_at": "2016-02-22T09:31:03Z",
            "author_association": "MEMBER",
            "body": "To be clear, I'd rather see a behavior where only the basepath is trusted, and the other args are treated as potentially malicious.\n\nOn 22 February 2016 10:27:16 CET, Adrian notifications@github.com wrote:\n\n> I think for security-related functions it makes sense to keep them\n> simple. Extra complexity just makes it more likely that someone uses\n> them in an insecure fashion\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/mitsuhiko/flask/pull/1730#issuecomment-187090518\n\n## \n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/187148656",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-187148656",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 187148656,
            "node_id": "MDEyOklzc3VlQ29tbWVudDE4NzE0ODY1Ng==",
            "user": {
                "login": "geusebi",
                "id": 1700752,
                "node_id": "MDQ6VXNlcjE3MDA3NTI=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/1700752?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/geusebi",
                "html_url": "https://github.com/geusebi",
                "followers_url": "https://api.github.com/users/geusebi/followers",
                "following_url": "https://api.github.com/users/geusebi/following{/other_user}",
                "gists_url": "https://api.github.com/users/geusebi/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/geusebi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/geusebi/subscriptions",
                "organizations_url": "https://api.github.com/users/geusebi/orgs",
                "repos_url": "https://api.github.com/users/geusebi/repos",
                "events_url": "https://api.github.com/users/geusebi/events{/privacy}",
                "received_events_url": "https://api.github.com/users/geusebi/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-02-22T12:16:02Z",
            "updated_at": "2016-02-22T12:16:02Z",
            "author_association": "CONTRIBUTOR",
            "body": "Here only the basepath is trusted https://gist.github.com/geusebi/b152f1ee17a66a9bbeee .\n\nUsecase: sometimes I happen to manipulate paths and I have to collect some of these paths from the user and from other untrusted sources. In the end I have a tuple or a list of paths to join, safe_join allow me to do it safely but I have to call it using reduce or with a loop to make it work with multiple paths. This puzzled me the first time as I presumed it was fully compatible with path.join.\n\nIf I am the only one which thinks it can be useful and if so many (very reasonable) doubts are coming from this simple addition it should probably be refused :)\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/204566782",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-204566782",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 204566782,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDU2Njc4Mg==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-04-01T21:10:37Z",
            "updated_at": "2016-04-01T21:10:37Z",
            "author_association": "MEMBER",
            "body": "I'll merge if you update the PR from the gist you posted and add a changelog.\n\n(Also you use a generator expression and a loop in the gist, it could be only one)\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/216780588",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-216780588",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 216780588,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjc4MDU4OA==",
            "user": {
                "login": "joequery",
                "id": 503584,
                "node_id": "MDQ6VXNlcjUwMzU4NA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/503584?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/joequery",
                "html_url": "https://github.com/joequery",
                "followers_url": "https://api.github.com/users/joequery/followers",
                "following_url": "https://api.github.com/users/joequery/following{/other_user}",
                "gists_url": "https://api.github.com/users/joequery/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/joequery/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joequery/subscriptions",
                "organizations_url": "https://api.github.com/users/joequery/orgs",
                "repos_url": "https://api.github.com/users/joequery/repos",
                "events_url": "https://api.github.com/users/joequery/events{/privacy}",
                "received_events_url": "https://api.github.com/users/joequery/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-05-04T08:20:58Z",
            "updated_at": "2016-05-04T08:20:58Z",
            "author_association": "NONE",
            "body": ":+1: from me for this PR. With the current behavior of only allowing a single file to be joined to the basepath, we're increasing the likelihood that someone using this function has manually constructed their own insecure \"basepath\" (which wouldn't truly be a basepath at that point) to accommodate the function definition.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/216965448",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-216965448",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 216965448,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjk2NTQ0OA==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-05-04T18:55:51Z",
            "updated_at": "2016-05-04T18:55:51Z",
            "author_association": "MEMBER",
            "body": "This PR is insecure as well. It treats `*pathnames` as \"trusted\" in the sense that it allows `..` in one `pathnames` part to eradicate the previous one.\n\nhttps://gist.github.com/geusebi/b152f1ee17a66a9bbeee is the correct approach.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223665707",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-223665707",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 223665707,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzY2NTcwNw==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-03T19:04:05Z",
            "updated_at": "2016-06-03T19:04:05Z",
            "author_association": "MEMBER",
            "body": "@geusebi Could you rebase and add tests? Thanks!\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223747697",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-223747697",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 223747697,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzc0NzY5Nw==",
            "user": {
                "login": "geusebi",
                "id": 1700752,
                "node_id": "MDQ6VXNlcjE3MDA3NTI=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/1700752?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/geusebi",
                "html_url": "https://github.com/geusebi",
                "followers_url": "https://api.github.com/users/geusebi/followers",
                "following_url": "https://api.github.com/users/geusebi/following{/other_user}",
                "gists_url": "https://api.github.com/users/geusebi/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/geusebi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/geusebi/subscriptions",
                "organizations_url": "https://api.github.com/users/geusebi/orgs",
                "repos_url": "https://api.github.com/users/geusebi/repos",
                "events_url": "https://api.github.com/users/geusebi/events{/privacy}",
                "received_events_url": "https://api.github.com/users/geusebi/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-04T10:06:45Z",
            "updated_at": "2016-06-04T10:06:45Z",
            "author_association": "CONTRIBUTOR",
            "body": "Rebased and added some tests, let me know if you need something else.\n\nP.S.\nIt would be great if somebody else could take a double look at the code before the merge.\n\nMany thanks\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/223772849",
            "html_url": "https://github.com/pallets/flask/pull/1730#issuecomment-223772849",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1730",
            "id": 223772849,
            "node_id": "MDEyOklzc3VlQ29tbWVudDIyMzc3Mjg0OQ==",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2016-06-04T19:12:58Z",
            "updated_at": "2016-06-04T19:12:58Z",
            "author_association": "MEMBER",
            "body": "Excellent, thanks!\n"
        }
    ]
}