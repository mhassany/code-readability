{
    "url": "https://api.github.com/repos/pallets/flask/issues/1330",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1330/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1330/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1330/events",
    "html_url": "https://github.com/pallets/flask/issues/1330",
    "id": 55771025,
    "node_id": "MDU6SXNzdWU1NTc3MTAyNQ==",
    "number": 1330,
    "title": "Method is_json does not support capital letters in mimetype",
    "user": {
        "login": "KarelJakubec",
        "id": 2052163,
        "node_id": "MDQ6VXNlcjIwNTIxNjM=",
        "avatar_url": "https://avatars1.githubusercontent.com/u/2052163?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/KarelJakubec",
        "html_url": "https://github.com/KarelJakubec",
        "followers_url": "https://api.github.com/users/KarelJakubec/followers",
        "following_url": "https://api.github.com/users/KarelJakubec/following{/other_user}",
        "gists_url": "https://api.github.com/users/KarelJakubec/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/KarelJakubec/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/KarelJakubec/subscriptions",
        "organizations_url": "https://api.github.com/users/KarelJakubec/orgs",
        "repos_url": "https://api.github.com/users/KarelJakubec/repos",
        "events_url": "https://api.github.com/users/KarelJakubec/events{/privacy}",
        "received_events_url": "https://api.github.com/users/KarelJakubec/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 135583063,
            "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=",
            "url": "https://api.github.com/repos/pallets/flask/labels/bug",
            "name": "bug",
            "color": "d93f0b",
            "default": true,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 5,
    "created_at": "2015-01-28T15:34:45Z",
    "updated_at": "2015-01-29T09:25:32Z",
    "closed_at": "2015-01-29T09:24:38Z",
    "author_association": "NONE",
    "body": "Method is_json (flask/wrappers.py:112) tests whether mimetype is in format 'application/...+json'. According to http://tools.ietf.org/html/rfc2045, mime types are case insensitive.\n\n'The type, subtype, and parameter names are not case sensitive.  For example, TEXT, Text, and TeXt are all equivalent top-level media types.'\n\nSo mimetype 'ApLiCaTiOn/jSoN' is technically fine (and yes, extremely rare) and as the method tests the mimetype just for lowercase mimetype 'application/json' the previous example will fail, yet it should be ok.\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/71857122",
            "html_url": "https://github.com/pallets/flask/issues/1330#issuecomment-71857122",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1330",
            "id": 71857122,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxODU3MTIy",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-28T15:49:02Z",
            "updated_at": "2015-01-28T15:49:02Z",
            "author_association": "MEMBER",
            "body": "This is a bug in Werkzeug I believe, not Flask.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/71862086",
            "html_url": "https://github.com/pallets/flask/issues/1330#issuecomment-71862086",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1330",
            "id": 71862086,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxODYyMDg2",
            "user": {
                "login": "KarelJakubec",
                "id": 2052163,
                "node_id": "MDQ6VXNlcjIwNTIxNjM=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/2052163?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/KarelJakubec",
                "html_url": "https://github.com/KarelJakubec",
                "followers_url": "https://api.github.com/users/KarelJakubec/followers",
                "following_url": "https://api.github.com/users/KarelJakubec/following{/other_user}",
                "gists_url": "https://api.github.com/users/KarelJakubec/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/KarelJakubec/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/KarelJakubec/subscriptions",
                "organizations_url": "https://api.github.com/users/KarelJakubec/orgs",
                "repos_url": "https://api.github.com/users/KarelJakubec/repos",
                "events_url": "https://api.github.com/users/KarelJakubec/events{/privacy}",
                "received_events_url": "https://api.github.com/users/KarelJakubec/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-28T16:12:27Z",
            "updated_at": "2015-01-28T16:12:27Z",
            "author_association": "NONE",
            "body": "The question is what Werkzeug should do with it? Convert it all to lower/upper case? The RFC is funny as additional parameter values MAY be case sensitive (like charset=UTF-8 is something different as charset=utf-8), which means that Werkzeug may convert mimetype and parameter names, but it cannot convert parameter values. :) And the decision whether it is a json or not is done in Flask.\n\nAnyway, the fix is pretty simple I believe.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/71862252",
            "html_url": "https://github.com/pallets/flask/issues/1330#issuecomment-71862252",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1330",
            "id": 71862252,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxODYyMjUy",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-28T16:13:28Z",
            "updated_at": "2015-01-28T16:13:28Z",
            "author_association": "MEMBER",
            "body": "I think Werkzeug should read and process values in a case-insensitive way, but always guarantee that its output will be lowercase.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/71993464",
            "html_url": "https://github.com/pallets/flask/issues/1330#issuecomment-71993464",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1330",
            "id": 71993464,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTkzNDY0",
            "user": {
                "login": "KarelJakubec",
                "id": 2052163,
                "node_id": "MDQ6VXNlcjIwNTIxNjM=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/2052163?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/KarelJakubec",
                "html_url": "https://github.com/KarelJakubec",
                "followers_url": "https://api.github.com/users/KarelJakubec/followers",
                "following_url": "https://api.github.com/users/KarelJakubec/following{/other_user}",
                "gists_url": "https://api.github.com/users/KarelJakubec/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/KarelJakubec/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/KarelJakubec/subscriptions",
                "organizations_url": "https://api.github.com/users/KarelJakubec/orgs",
                "repos_url": "https://api.github.com/users/KarelJakubec/repos",
                "events_url": "https://api.github.com/users/KarelJakubec/events{/privacy}",
                "received_events_url": "https://api.github.com/users/KarelJakubec/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-29T09:24:38Z",
            "updated_at": "2015-01-29T09:24:38Z",
            "author_association": "NONE",
            "body": "Ok, I'll file new issue/feature request in Werkzeug. \n\nHowever I believe that the opinion there will be that it is not a Wekrzeug's job to convert header values and it is a user who should deal with it. :)\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/71993555",
            "html_url": "https://github.com/pallets/flask/issues/1330#issuecomment-71993555",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1330",
            "id": 71993555,
            "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTkzNTU1",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2015-01-29T09:25:32Z",
            "updated_at": "2015-01-29T09:25:32Z",
            "author_association": "MEMBER",
            "body": "I also maintain Werkzeug :)\n"
        }
    ]
}