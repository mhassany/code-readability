{
    "url": "https://api.github.com/repos/pallets/flask/issues/2413",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2413/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2413/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2413/events",
    "html_url": "https://github.com/pallets/flask/issues/2413",
    "id": 242789173,
    "node_id": "MDU6SXNzdWUyNDI3ODkxNzM=",
    "number": 2413,
    "title": "Flaskr example code RuntimeError",
    "user": {
        "login": "alexander-jiang",
        "id": 2998065,
        "node_id": "MDQ6VXNlcjI5OTgwNjU=",
        "avatar_url": "https://avatars3.githubusercontent.com/u/2998065?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alexander-jiang",
        "html_url": "https://github.com/alexander-jiang",
        "followers_url": "https://api.github.com/users/alexander-jiang/followers",
        "following_url": "https://api.github.com/users/alexander-jiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/alexander-jiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alexander-jiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alexander-jiang/subscriptions",
        "organizations_url": "https://api.github.com/users/alexander-jiang/orgs",
        "repos_url": "https://api.github.com/users/alexander-jiang/repos",
        "events_url": "https://api.github.com/users/alexander-jiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alexander-jiang/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 380608249,
            "node_id": "MDU6TGFiZWwzODA2MDgyNDk=",
            "url": "https://api.github.com/repos/pallets/flask/labels/cli",
            "name": "cli",
            "color": "1d76db",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": true,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2017-07-13T18:24:38Z",
    "updated_at": "2017-11-30T07:13:17Z",
    "closed_at": "2017-07-13T18:39:39Z",
    "author_association": "NONE",
    "body": "### Expected Behavior\r\n\r\nThe flaskr example code (in examples/flaskr) should work off-the-shelf. But I was able to reproduce the following issue by forking a clean copy of the repository and following the instructions in the README.md of the flaskr example. Namely, these are the commands I'm executing:\r\n\r\n```\r\n$ git clone https://github.com/alexander-jiang/flask.git\r\n$ cd flask/examples/flaskr\r\n$ virtualenv venv\r\n$ venv\\Scripts\\activate\r\n$ pip install -e .\r\n$ set FLASK_APP=flaskr.factory:create_app()\r\n$ flask initdb\r\n$ flask run\r\n```\r\n\r\n### Actual Behavior\r\n\r\nThe `flask initdb` command fails with a `RuntimeError`:\r\n```pytb\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\xxxxxxxxx\\appdata\\local\\programs\\python\\python36-32\\Lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"c:\\users\\xxxxxxxxx\\appdata\\local\\programs\\python\\python36-32\\Lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\xxxxxxxxx\\flask\\examples\\flaskr\\venv\\Scripts\\flask.exe\\__main__.py\", line 9, in <module>\r\n  File \"c:\\users\\xxxxxxxxx\\flask\\examples\\flaskr\\venv\\lib\\site-packages\\flask\\cli.py\", line 513, in main\r\n    cli.main(args=args, prog_name=name)\r\n  File \"c:\\users\\xxxxxxxxx\\flask\\examples\\flaskr\\venv\\lib\\site-packages\\flask\\cli.py\", line 380, in main\r\n    return AppGroup.main(self, *args, **kwargs)\r\n  File \"c:\\users\\xxxxxxxxx\\flask\\examples\\flaskr\\venv\\lib\\site-packages\\click\\core.py\", line 697, in main\r\n    rv = self.invoke(ctx)\r\n  File \"c:\\users\\xxxxxxxxx\\flask\\examples\\flaskr\\venv\\lib\\site-packages\\click\\core.py\", line 1061, in invoke\r\n    cmd_name, cmd, args = self.resolve_command(ctx, args)\r\n  File \"c:\\users\\xxxxxxxxx\\flask\\examples\\flaskr\\venv\\lib\\site-packages\\click\\core.py\", line 1100, in resolve_command\r\n    cmd = self.get_command(ctx, cmd_name)\r\n  File \"c:\\users\\xxxxxxxxx\\flask\\examples\\flaskr\\venv\\lib\\site-packages\\flask\\cli.py\", line 351, in get_command\r\n    rv = info.load_app().cli.get_command(ctx, name)\r\n  File \"c:\\users\\xxxxxxxxx\\flask\\examples\\flaskr\\venv\\lib\\site-packages\\flask\\cli.py\", line 237, in load_app\r\n    rv = locate_app(self.app_import_path)\r\n  File \"c:\\users\\xxxxxxxxx\\flask\\examples\\flaskr\\venv\\lib\\site-packages\\flask\\cli.py\", line 109, in locate_app\r\n    % module)\r\nRuntimeError: Failed to find application in module \"flaskr.factory\"\r\n```\r\n\r\n### Environment\r\n\r\n* OS: Windows 10 (64 bit)\r\n* Python version: 3.6.1\r\n* Flask version: 0.12.2\r\n* Werkzeug version: 0.12.2\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/315165927",
            "html_url": "https://github.com/pallets/flask/issues/2413#issuecomment-315165927",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2413",
            "id": 315165927,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTE2NTkyNw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-07-13T18:39:39Z",
            "updated_at": "2017-07-13T18:39:39Z",
            "author_association": "MEMBER",
            "body": "Flaskr's setup.py installs Flask from PyPI. If you want to test Flaskr with the dev version you cloned, you need to install that first.\r\n\r\n```\r\ngit clone ...\r\ncd flask\r\npip install -e .\r\nnow the flaskr stuff\r\n```"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/315169083",
            "html_url": "https://github.com/pallets/flask/issues/2413#issuecomment-315169083",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2413",
            "id": 315169083,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTE2OTA4Mw==",
            "user": {
                "login": "alexander-jiang",
                "id": 2998065,
                "node_id": "MDQ6VXNlcjI5OTgwNjU=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/2998065?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/alexander-jiang",
                "html_url": "https://github.com/alexander-jiang",
                "followers_url": "https://api.github.com/users/alexander-jiang/followers",
                "following_url": "https://api.github.com/users/alexander-jiang/following{/other_user}",
                "gists_url": "https://api.github.com/users/alexander-jiang/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/alexander-jiang/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/alexander-jiang/subscriptions",
                "organizations_url": "https://api.github.com/users/alexander-jiang/orgs",
                "repos_url": "https://api.github.com/users/alexander-jiang/repos",
                "events_url": "https://api.github.com/users/alexander-jiang/events{/privacy}",
                "received_events_url": "https://api.github.com/users/alexander-jiang/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-07-13T18:51:21Z",
            "updated_at": "2017-07-13T18:51:21Z",
            "author_association": "NONE",
            "body": "@davidism Sorry about the false alarm, then. I didn't realize that this was already in Flask 0.13 (I'm using Flask 0.12 for a side project right now and found this error while working on that). I tried testing Flaskr with 0.13 as follows:\r\n```\r\n$ git clone https://github.com/alexander-jiang/flask.git\r\n$ cd flask\r\n$ pip install -e .\r\n$ set FLASK_APP=flaskr.factory:create_app()\r\n$ cd examples/flaskr\r\n$ flask initdb\r\n```\r\nBut now the `flask initdb` command fails with:\r\n```\r\nError: No such command \"initdb\".\r\n```\r\n\r\nAm I missing something else here?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/315174441",
            "html_url": "https://github.com/pallets/flask/issues/2413#issuecomment-315174441",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2413",
            "id": 315174441,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTE3NDQ0MQ==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-07-13T19:12:00Z",
            "updated_at": "2017-07-13T19:12:08Z",
            "author_association": "MEMBER",
            "body": "Now you didn't `pip install -e .` from the flaskr dir. Both are required."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/315176817",
            "html_url": "https://github.com/pallets/flask/issues/2413#issuecomment-315176817",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2413",
            "id": 315176817,
            "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTE3NjgxNw==",
            "user": {
                "login": "alexander-jiang",
                "id": 2998065,
                "node_id": "MDQ6VXNlcjI5OTgwNjU=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/2998065?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/alexander-jiang",
                "html_url": "https://github.com/alexander-jiang",
                "followers_url": "https://api.github.com/users/alexander-jiang/followers",
                "following_url": "https://api.github.com/users/alexander-jiang/following{/other_user}",
                "gists_url": "https://api.github.com/users/alexander-jiang/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/alexander-jiang/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/alexander-jiang/subscriptions",
                "organizations_url": "https://api.github.com/users/alexander-jiang/orgs",
                "repos_url": "https://api.github.com/users/alexander-jiang/repos",
                "events_url": "https://api.github.com/users/alexander-jiang/events{/privacy}",
                "received_events_url": "https://api.github.com/users/alexander-jiang/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-07-13T19:22:07Z",
            "updated_at": "2017-07-13T19:22:07Z",
            "author_association": "NONE",
            "body": "You're right; running `pip install -e .` again in the flaskr directory makes it work. Thanks!"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/348098682",
            "html_url": "https://github.com/pallets/flask/issues/2413#issuecomment-348098682",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2413",
            "id": 348098682,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODA5ODY4Mg==",
            "user": {
                "login": "chuck-bass",
                "id": 28384212,
                "node_id": "MDQ6VXNlcjI4Mzg0MjEy",
                "avatar_url": "https://avatars3.githubusercontent.com/u/28384212?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/chuck-bass",
                "html_url": "https://github.com/chuck-bass",
                "followers_url": "https://api.github.com/users/chuck-bass/followers",
                "following_url": "https://api.github.com/users/chuck-bass/following{/other_user}",
                "gists_url": "https://api.github.com/users/chuck-bass/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/chuck-bass/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/chuck-bass/subscriptions",
                "organizations_url": "https://api.github.com/users/chuck-bass/orgs",
                "repos_url": "https://api.github.com/users/chuck-bass/repos",
                "events_url": "https://api.github.com/users/chuck-bass/events{/privacy}",
                "received_events_url": "https://api.github.com/users/chuck-bass/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-11-30T06:51:40Z",
            "updated_at": "2017-11-30T06:51:40Z",
            "author_association": "NONE",
            "body": "It's quite strange. I met the same problem.But the solution seems doesn't work.Don't know what's wrong.\r\n`$git clone....`\r\n`$cd flask`\r\n`$export FLASK_APP=\"flaskr.factory:create_app()\"`\r\n`$cd examples/flaskr`\r\n`$pip install -e .`\r\n`$flask initdb`\r\n\r\nThe flask initdb command also fails with a RuntimeError.\r\n\r\nEnvironment:\r\nlinux centos7.3\r\nPython version: 2.7.5\r\nFlask version: 0.12.2\r\n\r\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/348102560",
            "html_url": "https://github.com/pallets/flask/issues/2413#issuecomment-348102560",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2413",
            "id": 348102560,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODEwMjU2MA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2017-11-30T07:12:38Z",
            "updated_at": "2017-11-30T07:12:38Z",
            "author_association": "MEMBER",
            "body": "As stated above, you need to install flask from source, then the example from source. You only installed the example."
        }
    ]
}