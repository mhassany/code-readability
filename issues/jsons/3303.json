{
    "url": "https://api.github.com/repos/pallets/flask/issues/3303",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3303/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3303/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3303/events",
    "html_url": "https://github.com/pallets/flask/issues/3303",
    "id": 467767588,
    "node_id": "MDU6SXNzdWU0Njc3Njc1ODg=",
    "number": 3303,
    "title": "DeprecationWarning: Using or importing the ABCs from 'collections' - Jinja2",
    "user": {
        "login": "jkozlowicz",
        "id": 4753742,
        "node_id": "MDQ6VXNlcjQ3NTM3NDI=",
        "avatar_url": "https://avatars0.githubusercontent.com/u/4753742?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jkozlowicz",
        "html_url": "https://github.com/jkozlowicz",
        "followers_url": "https://api.github.com/users/jkozlowicz/followers",
        "following_url": "https://api.github.com/users/jkozlowicz/following{/other_user}",
        "gists_url": "https://api.github.com/users/jkozlowicz/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jkozlowicz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jkozlowicz/subscriptions",
        "organizations_url": "https://api.github.com/users/jkozlowicz/orgs",
        "repos_url": "https://api.github.com/users/jkozlowicz/repos",
        "events_url": "https://api.github.com/users/jkozlowicz/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jkozlowicz/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-07-13T21:21:04Z",
    "updated_at": "2019-07-13T21:46:37Z",
    "closed_at": "2019-07-13T21:46:37Z",
    "author_association": "NONE",
    "body": "<!-- **This issue tracker is a tool to address bugs in Flask itself.\r\nPlease use the #pocoo IRC channel on freenode or Stack Overflow for general\r\nquestions about using Flask or issues not related to Flask.** -->\r\n\r\n<!-- If you'd like to report a bug in Flask, fill out the template below. Provide\r\nany extra information that may be useful / related to your problem.\r\nIdeally, create an [MCVE](https://stackoverflow.com/help/mcve), which helps us\r\nunderstand the problem and helps check that it is not caused by something in\r\nyour code. -->\r\n\r\n\r\n\r\n### Expected Behavior\r\n<!-- Tell us what should happen. -->\r\nAfter installing flask and implementing tests using pytest I noticed some DepracatedWarnings coming from the default Jinja2 installation that comes with flask (pip install flask), see traceback below for details.\r\n\r\nIt shouldn't be the case, because it has been fixed already and merged:\r\nhttps://github.com/pallets/jinja/commit/31bf9b7e71c3fee3b7866ffdc0f70f4525a490d9#diff-be2eb7812ee39a4147506e10763f89c6L13\r\n\r\nYet I can see in site-packages/jinja2/tests.py line:13 \"from collections import Mapping\" (also in other files under site-packages/jinja2).\r\n\r\nUninstalling jinja2 and reinstalling it via \"pip install https://github.com/pallets/jinja/zipball/master\" makes those warnings disappear.\r\n\r\n\r\nMinimal project setup:\r\n```python\r\n(test-collections-warning) \u279c  TestCollectionsWarning tree .\r\n.\r\n\u251c\u2500\u2500 app.py\r\n\u251c\u2500\u2500 requirements.txt\r\n\u2514\u2500\u2500 tests\r\n    \u251c\u2500\u2500 __init__.py\r\n    \u2514\u2500\u2500 test_app.py\r\n\r\n#app.py\r\nfrom flask import Flask\r\n\r\nflask_app = Flask(__name__)\r\n\r\n@flask_app.route('/')\r\ndef root():\r\n    return 'Hello world'\r\n\r\n\r\n#tests/test_app.py\r\nimport app\r\n\r\ndef test_hello_world():\r\n    assert 1 == 1\r\n\r\n#requirements.txt\r\nflask\r\npytest\r\n```\r\n\r\nSteps to reproduce:\r\n```python\r\nmkvirtualenv --python=`which python3` test-collections-warning\r\npip --no-cache-dir install -r requirements.txt\r\n...\r\n(Collecting Jinja2>=2.10.1 (from flask->-r requirements.txt (line 1))\r\n  Downloading https://files.pythonhosted.org/packages/1d/e7/fd8b501e7a6dfe492a433deb7b9d833d39ca74916fa8bc63dd1a4947a671/Jinja2-2.10.1-py2.py3-none-any.whl)\r\n...\r\npytest\r\n```\r\n\r\n### Actual Behavior\r\n<!-- Tell us what happens instead. -->\r\nDeprecationWarnings are shown.\r\n\r\n```pytb\r\n(test-collections-warning) \u279c  TestCollectionsWarning pytest\r\n================================================= test session starts =================================================\r\nplatform darwin -- Python 3.7.3, pytest-5.0.1, py-1.8.0, pluggy-0.12.0\r\nrootdir: /Users/jkozlowicz/PycharmProjects/TestCollectionsWarning\r\ncollected 1 item\r\n\r\ntests/test_app.py .                                                                                             [100%]\r\n\r\n================================================== warnings summary ===================================================\r\n/Users/jkozlowicz/.virtualenvs/test-collections-warning/lib/python3.7/site-packages/jinja2/utils.py:485\r\n  /Users/jkozlowicz/.virtualenvs/test-collections-warning/lib/python3.7/site-packages/jinja2/utils.py:485: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n    from collections import MutableMapping\r\n\r\n/Users/jkozlowicz/.virtualenvs/test-collections-warning/lib/python3.7/site-packages/jinja2/runtime.py:318\r\n  /Users/jkozlowicz/.virtualenvs/test-collections-warning/lib/python3.7/site-packages/jinja2/runtime.py:318: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n    from collections import Mapping\r\n\r\n-- Docs: https://docs.pytest.org/en/latest/warnings.html\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: 3.7.3\r\n* Flask version: 1.1.1\r\n* Werkzeug version: 0.15.4\r\n* OS: macOS Mojave 10.14.5\r\n* pip: 19.1.1\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/511156040",
            "html_url": "https://github.com/pallets/flask/issues/3303#issuecomment-511156040",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3303",
            "id": 511156040,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTE1NjA0MA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-07-13T21:46:37Z",
            "updated_at": "2019-07-13T21:46:37Z",
            "author_association": "MEMBER",
            "body": "As you've noted, this is fixed in Jinja, so it will be available in the next Jinja releases."
        }
    ]
}