{
    "url": "https://api.github.com/repos/pallets/flask/issues/2728",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/2728/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/2728/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/2728/events",
    "html_url": "https://github.com/pallets/flask/issues/2728",
    "id": 318341243,
    "node_id": "MDU6SXNzdWUzMTgzNDEyNDM=",
    "number": 2728,
    "title": "Wrong wheel for Flask 0.12.3 in PyPI",
    "user": {
        "login": "lafrech",
        "id": 1767010,
        "node_id": "MDQ6VXNlcjE3NjcwMTA=",
        "avatar_url": "https://avatars0.githubusercontent.com/u/1767010?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lafrech",
        "html_url": "https://github.com/lafrech",
        "followers_url": "https://api.github.com/users/lafrech/followers",
        "following_url": "https://api.github.com/users/lafrech/following{/other_user}",
        "gists_url": "https://api.github.com/users/lafrech/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lafrech/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lafrech/subscriptions",
        "organizations_url": "https://api.github.com/users/lafrech/orgs",
        "repos_url": "https://api.github.com/users/lafrech/repos",
        "events_url": "https://api.github.com/users/lafrech/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lafrech/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 135583063,
            "node_id": "MDU6TGFiZWwxMzU1ODMwNjM=",
            "url": "https://api.github.com/repos/pallets/flask/labels/bug",
            "name": "bug",
            "color": "d93f0b",
            "default": true,
            "description": null
        },
        {
            "id": 384871623,
            "node_id": "MDU6TGFiZWwzODQ4NzE2MjM=",
            "url": "https://api.github.com/repos/pallets/flask/labels/packaging",
            "name": "packaging",
            "color": "006b75",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 10,
    "created_at": "2018-04-27T09:34:05Z",
    "updated_at": "2018-04-30T01:27:34Z",
    "closed_at": "2018-04-30T01:27:34Z",
    "author_association": "NONE",
    "body": "https://pypi.org/project/Flask/0.12.3/#files\r\n\r\n*Flask-0.12.3-py2.py3-none-any.whl* contains a `flask/json` directory.\r\n\r\nIt does not correspond to the `0.12.3` tag. Looks like it is a more recent revision.\r\n\r\nThe .tag.gz looks fine (I just checked it contains `flask/json.py` and no `flask/json` directory).",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/384922163",
            "html_url": "https://github.com/pallets/flask/issues/2728#issuecomment-384922163",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2728",
            "id": 384922163,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDkyMjE2Mw==",
            "user": {
                "login": "lafrech",
                "id": 1767010,
                "node_id": "MDQ6VXNlcjE3NjcwMTA=",
                "avatar_url": "https://avatars0.githubusercontent.com/u/1767010?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/lafrech",
                "html_url": "https://github.com/lafrech",
                "followers_url": "https://api.github.com/users/lafrech/followers",
                "following_url": "https://api.github.com/users/lafrech/following{/other_user}",
                "gists_url": "https://api.github.com/users/lafrech/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/lafrech/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lafrech/subscriptions",
                "organizations_url": "https://api.github.com/users/lafrech/orgs",
                "repos_url": "https://api.github.com/users/lafrech/repos",
                "events_url": "https://api.github.com/users/lafrech/events{/privacy}",
                "received_events_url": "https://api.github.com/users/lafrech/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-04-27T09:47:18Z",
            "updated_at": "2018-04-27T09:47:18Z",
            "author_association": "NONE",
            "body": "I don't think the wheel even corresponds to an existing revision.\r\n\r\nWhen running it, I get this error:\r\n\r\n    AttributeError: 'Blueprint' object has no attribute 'json_encoder'\r\n\r\nwhich suggests it is using `flask.json` from the 1.0 branch and `flask.Blueprint` from the 0.12 branch."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/384924561",
            "html_url": "https://github.com/pallets/flask/issues/2728#issuecomment-384924561",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2728",
            "id": 384924561,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDkyNDU2MQ==",
            "user": {
                "login": "joakimkarlsson",
                "id": 97348,
                "node_id": "MDQ6VXNlcjk3MzQ4",
                "avatar_url": "https://avatars2.githubusercontent.com/u/97348?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/joakimkarlsson",
                "html_url": "https://github.com/joakimkarlsson",
                "followers_url": "https://api.github.com/users/joakimkarlsson/followers",
                "following_url": "https://api.github.com/users/joakimkarlsson/following{/other_user}",
                "gists_url": "https://api.github.com/users/joakimkarlsson/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/joakimkarlsson/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/joakimkarlsson/subscriptions",
                "organizations_url": "https://api.github.com/users/joakimkarlsson/orgs",
                "repos_url": "https://api.github.com/users/joakimkarlsson/repos",
                "events_url": "https://api.github.com/users/joakimkarlsson/events{/privacy}",
                "received_events_url": "https://api.github.com/users/joakimkarlsson/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-04-27T09:56:31Z",
            "updated_at": "2018-04-27T09:56:31Z",
            "author_association": "NONE",
            "body": "It looks like make-release.py doesn't remove output from earlier builds before generating a wheel. Could it be that the json-dir is a remnant from an earlier build?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/384925302",
            "html_url": "https://github.com/pallets/flask/issues/2728#issuecomment-384925302",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2728",
            "id": 384925302,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDkyNTMwMg==",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-04-27T09:59:31Z",
            "updated_at": "2018-04-27T09:59:31Z",
            "author_association": "MEMBER",
            "body": "That's why building releases is best done from fresh git clone (or after running git-clean), especially if the build script does not contain sanity checks aborting the build in case any unexpected files are found (even if they are on gitignore).\r\n\r\nI did [something like this](https://github.com/indico/indico/blob/master/bin/maintenance/build-wheel.py#L135-L162) in a package I maintain after I ended up with (luckily harmless) debug code in a release build (.py file that was git-excluded but of course included by the build)."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/384933917",
            "html_url": "https://github.com/pallets/flask/issues/2728#issuecomment-384933917",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2728",
            "id": 384933917,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDkzMzkxNw==",
            "user": {
                "login": "justanr",
                "id": 4221605,
                "node_id": "MDQ6VXNlcjQyMjE2MDU=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/4221605?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/justanr",
                "html_url": "https://github.com/justanr",
                "followers_url": "https://api.github.com/users/justanr/followers",
                "following_url": "https://api.github.com/users/justanr/following{/other_user}",
                "gists_url": "https://api.github.com/users/justanr/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/justanr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justanr/subscriptions",
                "organizations_url": "https://api.github.com/users/justanr/orgs",
                "repos_url": "https://api.github.com/users/justanr/repos",
                "events_url": "https://api.github.com/users/justanr/events{/privacy}",
                "received_events_url": "https://api.github.com/users/justanr/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-04-27T10:39:51Z",
            "updated_at": "2018-04-27T10:39:51Z",
            "author_association": "NONE",
            "body": "Deploys from Travis could be set up, it pretty painless (hardest part was installing the Travis cli and that was only because I didn't have ruby installed). I have flask allows set to only deploy tagged commits from master. "
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/384936495",
            "html_url": "https://github.com/pallets/flask/issues/2728#issuecomment-384936495",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2728",
            "id": 384936495,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDkzNjQ5NQ==",
            "user": {
                "login": "Hernrup",
                "id": 2924505,
                "node_id": "MDQ6VXNlcjI5MjQ1MDU=",
                "avatar_url": "https://avatars3.githubusercontent.com/u/2924505?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/Hernrup",
                "html_url": "https://github.com/Hernrup",
                "followers_url": "https://api.github.com/users/Hernrup/followers",
                "following_url": "https://api.github.com/users/Hernrup/following{/other_user}",
                "gists_url": "https://api.github.com/users/Hernrup/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/Hernrup/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Hernrup/subscriptions",
                "organizations_url": "https://api.github.com/users/Hernrup/orgs",
                "repos_url": "https://api.github.com/users/Hernrup/repos",
                "events_url": "https://api.github.com/users/Hernrup/events{/privacy}",
                "received_events_url": "https://api.github.com/users/Hernrup/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-04-27T10:52:51Z",
            "updated_at": "2018-04-27T10:52:51Z",
            "author_association": "NONE",
            "body": "+1. We are experiencing the same issue. The build looks like it might have been built from a dirty git state."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/384947607",
            "html_url": "https://github.com/pallets/flask/issues/2728#issuecomment-384947607",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2728",
            "id": 384947607,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDk0NzYwNw==",
            "user": {
                "login": "jakul",
                "id": 862794,
                "node_id": "MDQ6VXNlcjg2Mjc5NA==",
                "avatar_url": "https://avatars2.githubusercontent.com/u/862794?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/jakul",
                "html_url": "https://github.com/jakul",
                "followers_url": "https://api.github.com/users/jakul/followers",
                "following_url": "https://api.github.com/users/jakul/following{/other_user}",
                "gists_url": "https://api.github.com/users/jakul/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/jakul/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jakul/subscriptions",
                "organizations_url": "https://api.github.com/users/jakul/orgs",
                "repos_url": "https://api.github.com/users/jakul/repos",
                "events_url": "https://api.github.com/users/jakul/events{/privacy}",
                "received_events_url": "https://api.github.com/users/jakul/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-04-27T11:49:58Z",
            "updated_at": "2018-04-27T11:50:03Z",
            "author_association": "NONE",
            "body": "@davidism Can you fix this please?"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/384980290",
            "html_url": "https://github.com/pallets/flask/issues/2728#issuecomment-384980290",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2728",
            "id": 384980290,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDk4MDI5MA==",
            "user": {
                "login": "dmsimard",
                "id": 1291204,
                "node_id": "MDQ6VXNlcjEyOTEyMDQ=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1291204?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dmsimard",
                "html_url": "https://github.com/dmsimard",
                "followers_url": "https://api.github.com/users/dmsimard/followers",
                "following_url": "https://api.github.com/users/dmsimard/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmsimard/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dmsimard/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmsimard/subscriptions",
                "organizations_url": "https://api.github.com/users/dmsimard/orgs",
                "repos_url": "https://api.github.com/users/dmsimard/repos",
                "events_url": "https://api.github.com/users/dmsimard/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dmsimard/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-04-27T14:05:42Z",
            "updated_at": "2018-04-27T14:05:42Z",
            "author_association": "NONE",
            "body": "Also seeing this issue, it yields a stack trace that looks like this:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/dmsimard/dev/git/openstack/ara/.tox/py27/lib/python2.7/site-packages/flask/app.py\", line 1982, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/dmsimard/dev/git/openstack/ara/.tox/py27/lib/python2.7/site-packages/flask/app.py\", line 1614, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/dmsimard/dev/git/openstack/ara/.tox/py27/lib/python2.7/site-packages/flask/app.py\", line 1517, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/dmsimard/dev/git/openstack/ara/.tox/py27/lib/python2.7/site-packages/flask/app.py\", line 1612, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/dmsimard/dev/git/openstack/ara/.tox/py27/lib/python2.7/site-packages/flask/app.py\", line 1598, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/dmsimard/dev/git/openstack/ara/ara/views/reports.py\", line 208, in ajax_results\r\n    return jsonify(results)\r\n  File \"/home/dmsimard/dev/git/openstack/ara/.tox/py27/lib/python2.7/site-packages/flask/json/__init__.py\", line 321, in jsonify\r\n    dumps(data, indent=indent, separators=separators) + '\\n',\r\n  File \"/home/dmsimard/dev/git/openstack/ara/.tox/py27/lib/python2.7/site-packages/flask/json/__init__.py\", line 177, in dumps\r\n    _dump_arg_defaults(kwargs)\r\n  File \"/home/dmsimard/dev/git/openstack/ara/.tox/py27/lib/python2.7/site-packages/flask/json/__init__.py\", line 98, in _dump_arg_defaults\r\n    bp.json_encoder if bp and bp.json_encoder\r\nAttributeError: 'Blueprint' object has no attribute 'json_encoder'\r\n```"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/384982064",
            "html_url": "https://github.com/pallets/flask/issues/2728#issuecomment-384982064",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2728",
            "id": 384982064,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDk4MjA2NA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-04-27T14:11:44Z",
            "updated_at": "2018-04-27T14:11:44Z",
            "author_association": "MEMBER",
            "body": "Uh, weird. I usually inspect the wheels before uploading, sorry about that. I'll release 0.12.4 shortly."
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/384983229",
            "html_url": "https://github.com/pallets/flask/issues/2728#issuecomment-384983229",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2728",
            "id": 384983229,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDk4MzIyOQ==",
            "user": {
                "login": "dmsimard",
                "id": 1291204,
                "node_id": "MDQ6VXNlcjEyOTEyMDQ=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1291204?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dmsimard",
                "html_url": "https://github.com/dmsimard",
                "followers_url": "https://api.github.com/users/dmsimard/followers",
                "following_url": "https://api.github.com/users/dmsimard/following{/other_user}",
                "gists_url": "https://api.github.com/users/dmsimard/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dmsimard/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dmsimard/subscriptions",
                "organizations_url": "https://api.github.com/users/dmsimard/orgs",
                "repos_url": "https://api.github.com/users/dmsimard/repos",
                "events_url": "https://api.github.com/users/dmsimard/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dmsimard/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-04-27T14:15:39Z",
            "updated_at": "2018-04-27T14:15:39Z",
            "author_association": "NONE",
            "body": "@davidism thanks !"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/385298388",
            "html_url": "https://github.com/pallets/flask/issues/2728#issuecomment-385298388",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/2728",
            "id": 385298388,
            "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTI5ODM4OA==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2018-04-30T01:27:34Z",
            "updated_at": "2018-04-30T01:27:34Z",
            "author_association": "MEMBER",
            "body": "https://pypi.org/project/Flask/0.12.4/"
        }
    ]
}