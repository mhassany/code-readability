{
    "url": "https://api.github.com/repos/pallets/flask/issues/1198",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/1198/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/1198/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/1198/events",
    "html_url": "https://github.com/pallets/flask/issues/1198",
    "id": 45008520,
    "node_id": "MDU6SXNzdWU0NTAwODUyMA==",
    "number": 1198,
    "title": "Flask accessing and editing config data",
    "user": {
        "login": "serkandaglioglu",
        "id": 1669906,
        "node_id": "MDQ6VXNlcjE2Njk5MDY=",
        "avatar_url": "https://avatars2.githubusercontent.com/u/1669906?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/serkandaglioglu",
        "html_url": "https://github.com/serkandaglioglu",
        "followers_url": "https://api.github.com/users/serkandaglioglu/followers",
        "following_url": "https://api.github.com/users/serkandaglioglu/following{/other_user}",
        "gists_url": "https://api.github.com/users/serkandaglioglu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/serkandaglioglu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/serkandaglioglu/subscriptions",
        "organizations_url": "https://api.github.com/users/serkandaglioglu/orgs",
        "repos_url": "https://api.github.com/users/serkandaglioglu/repos",
        "events_url": "https://api.github.com/users/serkandaglioglu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/serkandaglioglu/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 7,
    "created_at": "2014-10-06T17:09:40Z",
    "updated_at": "2014-10-06T18:17:43Z",
    "closed_at": "2014-10-06T17:25:52Z",
    "author_association": "NONE",
    "body": "i am using wtforms with flask framework. when i use DateTimeField i add format parameter. \nBut datetime format is coming from user which is logged in\n\nforms.py\n\n``` python\n    from flask import g\n    from wtforms import *\n    import wtforms.validators as v\n    from flask.ext.babel import lazy_gettext as _\n    from flask.ext.babel import npgettext as _n\n\n    from app.app import app\n    from app.base_forms import *\n    from app.modules.post.models import *\n\n    class PostForm(BaseForm):\n        post_date = DateTimeField(\"Post Date\", format = app.config.get(\"DATETIME_FORMAT\"), validators =[v.Required(message=_(\"Post date is required\"))]  )\n```\n\ni set value of app.config.get(\"DATETIME_FORMAT\") on before request\n\n``` python\n    @app.before_request\n    def before_request():\n        if g.user.language == \"tr\"\n            app.config[\"DATETIME_FORMAT\"] = \"%d.%m.%Y %H:%M\"\n        else:\n            app.config[\"DATETIME_FORMAT\"] = \"%m-%d-%Y %H:%M\"\n```\n\nmy application structure\n\n```\n    /app\n        /modules\n            /post\n                /controllers.py\n                /forms.py\n                /models.py\n        /app.py\n    /run.py\n```\n\ncontent of /app/app.py\n\n``` python\n    from flask import Flask, url_for, g, request, redirect, render_template\n    app = Flask(__name__)\n    app.config.from_object('app.config.config.ConfigDevelopment')\n\n    # Import Modules\n    from modules.post.controllers.admin import module as modulePostAdmin\n    app.register_blueprint(modulePostAdmin)\n\n    # other codes here\n\n    @app.before_request\n    def before_request():\n        if g.user.language == \"tr\"\n            app.config[\"DATETIME_FORMAT\"] = \"%d.%m.%Y %H:%M\"\n        else:\n            app.config[\"DATETIME_FORMAT\"] = \"%m-%d-%Y %H:%M\"\n```\n\ncontent of /run.py\n\n``` python\n    from app.app import app\n    app.run(host='localhost', port=8080, debug=True)\n```\n\nwhen i start app it throws that error \"KeyError: 'DATETIME_FORMAT'\". i think forms.py load before request so it throws keyError.\nThis problem is not only about wtforms, i will get this problem in every codes which out of context. What is the correct way for solving this problem. \n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/58052236",
            "html_url": "https://github.com/pallets/flask/issues/1198#issuecomment-58052236",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1198",
            "id": 58052236,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDUyMjM2",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-10-06T17:14:46Z",
            "updated_at": "2014-10-06T17:15:00Z",
            "author_association": "MEMBER",
            "body": "**Stop posting your Stack Overflow questions here.**\n\nThe problem is that you're defining the form at the module level, before the config is set.  So the key doesn't exist.  Solve this by adding a default key to the config ahead of time.  You will then run into the next issue, which is that you're setting the default at form definition, so the value won't change if you change the config.  Solve this by setting the default in `__init__`.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/58054022",
            "html_url": "https://github.com/pallets/flask/issues/1198#issuecomment-58054022",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1198",
            "id": 58054022,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDU0MDIy",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-10-06T17:25:52Z",
            "updated_at": "2014-10-06T17:27:41Z",
            "author_association": "MEMBER",
            "body": "@serkandaglioglu stop posting your questions here. Better places for support are:\n- The `#pocoo` IRC channel\n- StackOverflow\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/58054712",
            "html_url": "https://github.com/pallets/flask/issues/1198#issuecomment-58054712",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1198",
            "id": 58054712,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDU0NzEy",
            "user": {
                "login": "serkandaglioglu",
                "id": 1669906,
                "node_id": "MDQ6VXNlcjE2Njk5MDY=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1669906?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/serkandaglioglu",
                "html_url": "https://github.com/serkandaglioglu",
                "followers_url": "https://api.github.com/users/serkandaglioglu/followers",
                "following_url": "https://api.github.com/users/serkandaglioglu/following{/other_user}",
                "gists_url": "https://api.github.com/users/serkandaglioglu/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/serkandaglioglu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/serkandaglioglu/subscriptions",
                "organizations_url": "https://api.github.com/users/serkandaglioglu/orgs",
                "repos_url": "https://api.github.com/users/serkandaglioglu/repos",
                "events_url": "https://api.github.com/users/serkandaglioglu/events{/privacy}",
                "received_events_url": "https://api.github.com/users/serkandaglioglu/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-10-06T17:30:05Z",
            "updated_at": "2014-10-06T17:30:13Z",
            "author_association": "NONE",
            "body": "sorry but when should i post here? i did not understand answers of stackoverflow so i asked here. i am new on python. so i need help and i have a lot of questions. where should i ask my questions (not stackoverflow) . Can you answer this question with code examples?\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/58054840",
            "html_url": "https://github.com/pallets/flask/issues/1198#issuecomment-58054840",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1198",
            "id": 58054840,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDU0ODQw",
            "user": {
                "login": "ThiefMaster",
                "id": 179599,
                "node_id": "MDQ6VXNlcjE3OTU5OQ==",
                "avatar_url": "https://avatars1.githubusercontent.com/u/179599?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/ThiefMaster",
                "html_url": "https://github.com/ThiefMaster",
                "followers_url": "https://api.github.com/users/ThiefMaster/followers",
                "following_url": "https://api.github.com/users/ThiefMaster/following{/other_user}",
                "gists_url": "https://api.github.com/users/ThiefMaster/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ThiefMaster/subscriptions",
                "organizations_url": "https://api.github.com/users/ThiefMaster/orgs",
                "repos_url": "https://api.github.com/users/ThiefMaster/repos",
                "events_url": "https://api.github.com/users/ThiefMaster/events{/privacy}",
                "received_events_url": "https://api.github.com/users/ThiefMaster/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-10-06T17:31:00Z",
            "updated_at": "2014-10-06T17:31:00Z",
            "author_association": "MEMBER",
            "body": "Ask in the IRC channel for example. This is a place to report bugs or request features for Flask itself.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/58056400",
            "html_url": "https://github.com/pallets/flask/issues/1198#issuecomment-58056400",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1198",
            "id": 58056400,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDU2NDAw",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-10-06T17:40:02Z",
            "updated_at": "2014-10-06T17:40:02Z",
            "author_association": "MEMBER",
            "body": "@serkandaglioglu \n- If you don't understand answers to other questions on StackOverflow, ask for clarification there, or post a new question if you're not sure if you have the same problem\n- If you need help with something immediate, you can try the IRC channel. You'll get quick help there or none.\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/58061042",
            "html_url": "https://github.com/pallets/flask/issues/1198#issuecomment-58061042",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1198",
            "id": 58061042,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDYxMDQy",
            "user": {
                "login": "serkandaglioglu",
                "id": 1669906,
                "node_id": "MDQ6VXNlcjE2Njk5MDY=",
                "avatar_url": "https://avatars2.githubusercontent.com/u/1669906?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/serkandaglioglu",
                "html_url": "https://github.com/serkandaglioglu",
                "followers_url": "https://api.github.com/users/serkandaglioglu/followers",
                "following_url": "https://api.github.com/users/serkandaglioglu/following{/other_user}",
                "gists_url": "https://api.github.com/users/serkandaglioglu/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/serkandaglioglu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/serkandaglioglu/subscriptions",
                "organizations_url": "https://api.github.com/users/serkandaglioglu/orgs",
                "repos_url": "https://api.github.com/users/serkandaglioglu/repos",
                "events_url": "https://api.github.com/users/serkandaglioglu/events{/privacy}",
                "received_events_url": "https://api.github.com/users/serkandaglioglu/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-10-06T18:03:32Z",
            "updated_at": "2014-10-06T18:03:32Z",
            "author_association": "NONE",
            "body": "thanks for your helps and sorry again. i did not know here is not for questions\n"
        },
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/58064785",
            "html_url": "https://github.com/pallets/flask/issues/1198#issuecomment-58064785",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/1198",
            "id": 58064785,
            "node_id": "MDEyOklzc3VlQ29tbWVudDU4MDY0Nzg1",
            "user": {
                "login": "untitaker",
                "id": 837573,
                "node_id": "MDQ6VXNlcjgzNzU3Mw==",
                "avatar_url": "https://avatars0.githubusercontent.com/u/837573?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/untitaker",
                "html_url": "https://github.com/untitaker",
                "followers_url": "https://api.github.com/users/untitaker/followers",
                "following_url": "https://api.github.com/users/untitaker/following{/other_user}",
                "gists_url": "https://api.github.com/users/untitaker/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/untitaker/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/untitaker/subscriptions",
                "organizations_url": "https://api.github.com/users/untitaker/orgs",
                "repos_url": "https://api.github.com/users/untitaker/repos",
                "events_url": "https://api.github.com/users/untitaker/events{/privacy}",
                "received_events_url": "https://api.github.com/users/untitaker/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2014-10-06T18:17:43Z",
            "updated_at": "2014-10-06T18:17:43Z",
            "author_association": "MEMBER",
            "body": "No problem, GitHub doesn't make this very clear either.\n"
        }
    ]
}