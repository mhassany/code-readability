{
    "url": "https://api.github.com/repos/pallets/flask/issues/3366",
    "repository_url": "https://api.github.com/repos/pallets/flask",
    "labels_url": "https://api.github.com/repos/pallets/flask/issues/3366/labels{/name}",
    "comments_url": "https://api.github.com/repos/pallets/flask/issues/3366/comments",
    "events_url": "https://api.github.com/repos/pallets/flask/issues/3366/events",
    "html_url": "https://github.com/pallets/flask/issues/3366",
    "id": 495566197,
    "node_id": "MDU6SXNzdWU0OTU1NjYxOTc=",
    "number": 3366,
    "title": "Flask+tensorflow Error: The Session graph is empty.  Add operations to the graph before calling run().",
    "user": {
        "login": "LBatsoft",
        "id": 15611720,
        "node_id": "MDQ6VXNlcjE1NjExNzIw",
        "avatar_url": "https://avatars2.githubusercontent.com/u/15611720?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LBatsoft",
        "html_url": "https://github.com/LBatsoft",
        "followers_url": "https://api.github.com/users/LBatsoft/followers",
        "following_url": "https://api.github.com/users/LBatsoft/following{/other_user}",
        "gists_url": "https://api.github.com/users/LBatsoft/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/LBatsoft/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/LBatsoft/subscriptions",
        "organizations_url": "https://api.github.com/users/LBatsoft/orgs",
        "repos_url": "https://api.github.com/users/LBatsoft/repos",
        "events_url": "https://api.github.com/users/LBatsoft/events{/privacy}",
        "received_events_url": "https://api.github.com/users/LBatsoft/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2019-09-19T04:28:04Z",
    "updated_at": "2019-09-19T05:58:32Z",
    "closed_at": "2019-09-19T05:58:32Z",
    "author_association": "NONE",
    "body": "<!-- **This issue tracker is a tool to address bugs in Flask itself.\r\nPlease use the #pocoo IRC channel on freenode or Stack Overflow for general\r\nquestions about using Flask or issues not related to Flask.** -->\r\n\r\n<!-- If you'd like to report a bug in Flask, fill out the template below. Provide\r\nany extra information that may be useful / related to your problem.\r\nIdeally, create an [MCVE](https://stackoverflow.com/help/mcve), which helps us\r\nunderstand the problem and helps check that it is not caused by something in\r\nyour code. -->\r\n\r\n\r\n\r\n### Expected Behavior\r\n<!-- Tell us what should happen. -->\r\n\r\n```python\r\n# Paste a minimal example that causes the problem.\r\n```\r\n\r\n### Actual Behavior\r\n<!-- Tell us what happens instead. -->\r\n- I use tensorflow for authentication code recognition. No problem with local testing. But when I put the code on Flask Server. It`s can`t work. \r\n- The Exceptions\r\n```\r\nThe Session graph is empty.  Add operations to the graph before calling run().\r\n```\r\n```pytb\r\nPaste the full traceback if there was an exception.\r\n2019-09-19 12:24:53,001 data_recovery_controller.py[line:178] [recovery_samsung_report_daily_data] ERROR recovery_samsung_report_daily_data fail! cause:The Session graph is empty.  Add operations to the graph before calling run().\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1997, in __call__\r\n    return self.wsgi_app(environ, start_response)\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1985, in wsgi_app\r\n    response = self.handle_exception(e)\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1540, in handle_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/_compat.py\", line 33, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1982, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1615, in full_dispatch_request\r\n    return self.finalize_request(rv)\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1630, in finalize_request\r\n    response = self.make_response(rv)\r\n  File \"/usr/local/lib/python3.7/site-packages/flask/app.py\", line 1740, in make_response\r\n    rv = self.response_class.force_type(rv, request.environ)\r\n  File \"/Users/mjvcp/Library/Python/3.7/lib/python/site-packages/werkzeug/wrappers/base_response.py\", line 269, in force_type\r\n    response = BaseResponse(*_run_wsgi_app(response, environ))\r\n  File \"/Users/mjvcp/Library/Python/3.7/lib/python/site-packages/werkzeug/wrappers/base_response.py\", line 26, in _run_wsgi_app\r\n    return _run_wsgi_app(*args)\r\n  File \"/Users/mjvcp/Library/Python/3.7/lib/python/site-packages/werkzeug/test.py\", line 1119, in run_wsgi_app\r\n    app_rv = app(environ, start_response)\r\nTypeError: 'BaseResponse' object is not callable\r\n\r\n```\r\n- but when i Reduced version with Flask 0.12.2. The program runs ok.\r\n\r\n\r\n### Environment\r\n\r\n* Python version: 3.7\r\n* Flask version: 1.1.1\r\n* Werkzeug version:\r\n",
    "comments_inline": [
        {
            "url": "https://api.github.com/repos/pallets/flask/issues/comments/532979303",
            "html_url": "https://github.com/pallets/flask/issues/3366#issuecomment-532979303",
            "issue_url": "https://api.github.com/repos/pallets/flask/issues/3366",
            "id": 532979303,
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjk3OTMwMw==",
            "user": {
                "login": "davidism",
                "id": 1242887,
                "node_id": "MDQ6VXNlcjEyNDI4ODc=",
                "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/davidism",
                "html_url": "https://github.com/davidism",
                "followers_url": "https://api.github.com/users/davidism/followers",
                "following_url": "https://api.github.com/users/davidism/following{/other_user}",
                "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/davidism/subscriptions",
                "organizations_url": "https://api.github.com/users/davidism/orgs",
                "repos_url": "https://api.github.com/users/davidism/repos",
                "events_url": "https://api.github.com/users/davidism/events{/privacy}",
                "received_events_url": "https://api.github.com/users/davidism/received_events",
                "type": "User",
                "site_admin": false
            },
            "created_at": "2019-09-19T05:58:32Z",
            "updated_at": "2019-09-19T05:58:32Z",
            "author_association": "MEMBER",
            "body": "I can't reproduce the issue with the information given. `BaseResponse` is callable, and I'm not clear how the code is even arriving at the lines indicated by the traceback, assuming you're using Flask 1.1.1. It seems like there's something else going on, either with the packages you've installed or caused by the initial error with Tensorflow.\r\n\r\nPlease use Stack Overflow for questions about your own code. This tracker is for issues related to the project itself. Be sure to include a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve)."
        }
    ]
}